//>>built
require({cache:{"url:ws/address/ImportContactsWidget.html":'<div class="importContacts WSModalPane" data-dojo-attach-point="importContactsDialog">\n\t<div data-dojo-attach-event="onkeypress:onKeyPress,onkeydown:onKeyPress">\n        <img src="${spacer}" class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick:hide">\n\t\t<div class="WSModalPaneInner">\n            <div class="importContainer">\n                <div class="heading">${AB_Import_ContactsImport}</div>\n\n                <div data-dojo-attach-point="ImportAssistantDiv" class="sectionTop">\n                    <div data-dojo-attach-point="ImportAssistantTitle" class="title">\n                        <span class="titleMain">${AB_Import_Assistant_Title}</span>\n                        <span class="titleMinor">${AB_Import_Assistant_TitleInfo}</span>\n                    </div>\n                    <div data-dojo-attach-point="ImportAssistantComment" class="comment">${AB_Import_Assistant_Text1}</div>\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: downloadOutlookAssistant">${AB_Import_Assistant_ButtonLabel}</div>\n                </div>\n\n                <div data-dojo-attach-point="ImportFileDiv" class="sectionBottom">\n\n                    <div class="formContainer">\n                        <div class="browseBtn">\n                            <div defaultValue="CSV, TXT or LDIF File" data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'regularInput\'" data-dojo-attach-point="selectedFileName" maxlength="255" tabindex="1"></div>\n                            <a href="#">Browse for file...</a>\n                        </div>\n                        <form method="post" enctype="multipart/form-data" data-dojo-attach-point="fileUploadForm" style="margin-bottom:0px">\n                            <input class="chooseFileBtn" type="file" data-dojo-attach-event="onchange: onFileInputChanged" data-dojo-attach-point="fileInputNode" name="${id}file">\n                        </form>\n                        <div class="inputShield"></div>\n                    </div>\n\n                    <div class="choices">\n                        <input type="radio" name="${id}type" checked data-dojo-attach-point="csvInputNode">\n                        <label for="${id}typecsv">${CSV}</label>\n                        <input type="radio" name="${id}type" data-dojo-attach-point="txtInputNode">\n                        <label for="${id}typetxt">${TXT}</label>\n                        <input type="radio" name="${id}type" data-dojo-attach-point="ldifInputNode">\n                        <label for="${id}typeldif">${LDIF}</label>\n                    </div>\n                </div>\n                <div class="buttonGroup">\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: importFromFile">${Import}</div>\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: cancel" type="Bare">${Cancel}</div>\n                 </div>\n            </div>\n\t\t</div>\n\t</div>\n</div>\n',
"ws/address/ContactDetails":function(){require({cache:{"url:ws/address/ContactDetails.html":'<div class="contactDetail">\n\t<div data-dojo-type="dijit/layout/BorderContainer" data-dojo-attach-point="layoutWidget" style="height: 100%; width: 100%;">\n\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-attach-point="toolbar" data-dojo-props="region:\'top\'" vizType="Controls">\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:emailContact" data-dojo-attach-point="emailButton" title="${EmailContactTip}" iconClassName="composeIcon">${SendEmail}</div>\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:showEditContact" data-dojo-attach-point="editButton" title="${EditContactTip}" iconClassName="editIcon">${Edit}</div>\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:deleteContact" data-dojo-attach-point="deleteButton" title="${Delete}" iconClassName="delIcon">${Delete}</div>\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:printContact" data-dojo-attach-point="printButton" iconClassName="printIcon">${PrintButton}</div>\n\t\t\t<div data-dojo-type="ws/widget/Button" style="display:none" data-dojo-attach-event="onClick:addToTopContacts" data-dojo-attach-point="addToTopContactsButton" title="${TopContacts_AddToTopContactsTip}">${TopContacts_AddToTopContacts}</div>\n\t\t\t<div data-dojo-type="ws/widget/Button" style="display:none" data-dojo-attach-event="onClick:removeFromTopContacts" data-dojo-attach-point="removeFromTopContactsButton" title="${TopContacts_RemoveFromTopContactsTip}">${TopContacts_RemoveFromTopContacts}</div>\n\t\t\t\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:close" data-dojo-attach-point="cancelButton" title="${CloseContactTip}" iconClassName="cancelIcon" data-dojo-props="toolbarPosition: \'right\'"></div>\n\t\t</div>\n\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-attach-point="searchInfoPane" class="searchInfo" data-dojo-props="region:\'top\'" style="display:none">\n\t\t\t<div class="searchData">\n\t\t\t\t<span class="wsLink" data-dojo-attach-point="searchResultsNode" data-dojo-attach-event="onclick: close"></span>\n\t\t\t\t<div class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick:clearSearch"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-attach-point="regularPane" data-dojo-props="region:\'center\'" class="mainContent">\n            <div>\n                <div style="margin-bottom: 15px;overflow: hidden;">\n                    <div class="iconPane">\n                        <div data-dojo-type="ws/widget/BuddyIcon" data-dojo-attach-point="buddyIcon"></div>\n                    </div>\n                    <div class="nameRow" data-dojo-attach-point="nameRow">\n                        <span class="infoLabel"></span>\n                        <span width="100%">\n                            <div class="nameInfo">\n                                <span data-dojo-attach-point="nameInfo"></span>\n                            </div>\n                        </span>\n                    </div>\n                    <a class="editLink" href="#" data-dojo-attach-event="onclick:showEditContact" data-dojo-attach-point="editButton">${Edit}</a>\n                </div>\n                <div data-dojo-attach-point="displayNameRow">\n                    <span class="infoLabel">${DisplayNameWithColon}</span>\n                    <span width="100%" valign="top"><span data-dojo-attach-point="displayNameInfo" class="primaryInfo"></span></span>\n                </div>\n                <div data-dojo-attach-point="nickNameRow" class="nickNameDiv">\n                    <span class="infoLabel">${NickNameWithColon}</span>\n                    <span data-dojo-attach-point="nickNameInfo" class="nickNameInfo"></span>\n                </div>\n                <div data-dojo-attach-point="screenNameRow">\n                    <span class="infoLabel">${ScreenNameWithColon}</span>\n                    <span width="100%" valign="top"><a href="#" data-dojo-attach-point="screenNameInfo" class="emailLink"></a></span>\n                </div>\n                <div data-dojo-attach-point="email1Row">\n                    <span class="infoLabel">${Email1WithColon}</span>\n                    <span width="100%" valign="top"><a href="#" data-dojo-attach-point="email1Info" class="emailLink"></a></span>\n                </div>\n                <div data-dojo-attach-point="email2Row">\n                    <span class="infoLabel">${Email2WithColon}</span>\n                    <span width="100%" valign="top"><a href="#" data-dojo-attach-point="email2Info" class="emailLink"></a></span>\n                </div>\n                <div data-dojo-attach-point="phone1Row">\n                    <span class="infoLabel">${PhonePrimaryWithColon}</span>\n                    <span width="100%" valign="top"><span data-dojo-attach-point="phone1Info" class="primaryInfo"></span></span>\n                </div>\n                <div data-dojo-attach-point="phone2Row">\n                    <span class="infoLabel">${PhoneOtherWithColon}</span>\n                    <span width="100%"valign="top"><span data-dojo-attach-point="phone2Info" class="primaryInfo"></span></span>\n                </div>\n                <div data-dojo-attach-point="phone3Row">\n                    <span class="infoLabel">${PhoneOtherWithColon}</span>\n                    <span width="100%" valign="top"><span data-dojo-attach-point="phone3Info" class="primaryInfo"></span></span>\n                </div>\n                <div data-dojo-attach-point="phone4Row">\n                    <span class="infoLabel">${PhoneOtherWithColon}</span>\n                    <span width="100%" valign="top"><span data-dojo-attach-point="phone4Info" class="primaryInfo"></span></span>\n                </div>\n                <div data-dojo-attach-point="phone5Row">\n                    <span class="infoLabel">${PhoneOtherWithColon}</span>\n                    <span width="100%" valign="top"><span data-dojo-attach-point="phone5Info" class="primaryInfo"></span></span>\n                </div>\n\n                <div data-dojo-attach-point="categoryRow">\n                    <span class="infoLabel">${CategoryWithColon}</span>\n                    <span width="100%" valign="top"><span data-dojo-attach-point="categoryInfo" class="primaryInfo"></span></span>\n                </div>\n\n                <div data-dojo-attach-point="workRow">\n                    <div class="headerLabels">${CompanyInfo}</div>\n                    <div><span data-dojo-attach-point="companyInfo" class="primaryInfo"></span></div>\n                    <div><span data-dojo-attach-point="jobTitleInfo" class="primaryInfo"></span></div>\n                    <div><span data-dojo-attach-point="deptInfo" class="primaryInfo"></span></div>\n\n                </div>\n                <div data-dojo-attach-point="workAddressRow">\n                    <div class="headerLabels">${CompanyAddress}</div>\n                    <div data-dojo-attach-point="workAddressInfo" class="primaryInfo"></div>\n                </div>\n                <div data-dojo-attach-point="homeRow">\n                    <div class="headerLabels">${HomeAddress}</div>\n                    <div class="primaryInfo" data-dojo-attach-point="homeAddressInfo"></div>\n                </div>\n                <div data-dojo-attach-point="personalInfoHeader">\n                    <div class="headerLabels">${PersonalInfo}</div>\n                    <div data-dojo-attach-point="personalSpouseRow">\n                        <span class="infoLabel">${SpouseWithColon}</span>\n                        <span width="100%" valign="top"><span data-dojo-attach-point="personalSpouseInfo" class="primaryInfo"></span></span>\n                    </div>\n                    <div data-dojo-attach-point="personalFamilyRow">\n                        <span class="infoLabel">${FamilyWithColon}</span>\n                        <span width="100%" valign="top"><span data-dojo-attach-point="personalFamilyInfo" class="primaryInfo"></span></span>\n                    </div>\n                    <div data-dojo-attach-point="personalBirthdayRow">\n                        <span class="infoLabel">${BirthdayWithColon}</span>\n                        <span width="100%" valign="top"><span data-dojo-attach-point="personalBirthdayInfo" class="primaryInfo"></span></span>\n                    </div>\n                    <div data-dojo-attach-point="personalAnniversaryRow">\n                        <span class="infoLabel">${AnniversaryWithColon}</span>\n                        <span width="100%" valign="top"><span data-dojo-attach-point="personalAnniversaryInfo" class="primaryInfo"></span></span>\n                    </div>\n                    <div data-dojo-attach-point="personalNotesRow">\n                        <span class="infoLabel">${NotesWithColon}</span>\n                        <span width="100%" valign="top"><span data-dojo-attach-point="personalNotesInfo" class="primaryInfo"></span></span>\n                    </div>\n                </div>\n            </div>\n\t\t</div>\n\t</div>\n</div>\n',
"url:ws/address/ContactDetails.css":""}});define("ws/address/ContactDetails","dojo/_base/declare,dojo/text!ws/address/ContactDetails.html,dojo/text!ws/address/ContactDetails.css,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/BorderContainer,ws/address/AddressBookUtil,ws/presence,ws/string,ws/widget/BuddyIcon,ws/widget/Dialogs,ws/widget/Pane,ws/widget/util,ws/widget/WSToolbar".split(","),function(l,g,k,a,m,j,f,e){return l([j,f,e],{templateString:g,css:{templateString:k},
_earlyTemplatedStartup:!0,addressModel:null,closeCB:null,data:null,uid:null,backToString:Config.Strings.BackToContactDetails,showMapString:Config.Strings.ShowMap,infoRows:"name,screenName,displayName,email1,email2,phone1,phone2,phone3,phone4,phone5,category,work,workAddress,home,personalSpouse,personalFamily,personalBirthday,personalAnniversary,personalNotes".split(","),infoSpans:"nickName,name,screenName,email1,email2,phone1,phone2,phone3,phone4,phone5,category,company,dept,jobTitle,workAddress,homeAddress,personalSpouse,personalFamily,personalBirthday,personalAnniversary,personalNotes".split(","),
contactPhoneTypes:"Undefined,Cellular,Fax,Home,Pager,Work".split(","),phoneTypes:["phone1Type","phone2Type","phone3Type","phone4Type","phone5Type"],personalInfo:["personalSpouse","personalFamily","personalBirthday","personalAnniversary","personalNotes"],addressFields:[],startup:function(){this.addressFields=Config.AddressOrder.split(" ");a.connect(this.email1Info,"onclick",a.hitch(this,"composeEmail",this.email1Info));a.connect(this.email2Info,"onclick",a.hitch(this,"composeEmail",this.email2Info));
"en-in"==Config.PageLocale?a.connect(this.screenNameInfo,"onclick",a.hitch(this,"composeEmail",this.screenNameInfo)):a.connect(this.screenNameInfo,"onclick",this,"openIM");a.subscribe("Suite/onKeyOnPress",this,"_suiteOnKeyPress");Config.PrintingSupported?this.printButton.domNode.title=ws.string.substituteParams(Config.Strings.PrintContactTip,Config.Strings.KeyPrintContactDetail):this.printButton.hide();this.defaultView();ws.WebSuite.SidePanel.setupAdScroll(this.domNode)},showContact:function(d,b,
c){b?(a.isIE&&a.addClass(this.searchInfoPane.domNode,"searchInfo"),this.searchResultsNode.innerHTML=b,this.searchInfoPane.show()):(a.isIE&&a.removeClass(this.searchInfoPane.domNode,"searchInfo"),this.searchInfoPane.hide());this.defaultView();this.data=null;this.uid=d||"0";d&&this.addressModel.getContact({uid:d,load:a.hitch(this,function(b){this.fillInDetails(b);c&&c();a.publish("WSFeedbackEnd",[Config.Strings.Loading])}),error:a.hitch(this,function(b){window.ws_ErrLgr&&!b&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,
"Dialogs.ok shown - Error Handler for addressModel.getContact-showContact file:ContactDetails.js");ws.widget.Dialogs.ok(b||Config.Strings.ErrorLoadingContact);a.publish("WSFeedbackEnd",[Config.Strings.Loading]);this.close()})})},showCreatedContact:function(a){this.defaultView();this.data=null;this.uid=a.uid;this.fillInDetails(a)},fillInDetails:function(a){var b=null;this.data=a;this.emailButton.setShowing(a.ScreenName||a.email1||a.email2);this.editButton.setShowing(!0);this.deleteButton.setShowing(!0);
this.showOrHideTopContactButtons();Config.ShowPresenceIcon&&this.buddyIcon.show(a);a.nickName?(this.nickNameInfo.innerHTML=a.nickName?ws.string.escapeXml(ws.string.summary(a.nickName,16)):"",this.nickNameRow.style.display=""):this.nickNameRow.style.display="none";if(a.firstName||a.lastName)this.nameRow.style.display="",this.nameInfo.innerHTML=ws.address.AddressBookUtil.getNameInfoHTML(a,Config.ContactDetailDisplayFormat,!1,!0);a.displayName?(this.displayNameRow.style.display="",this.displayNameInfo.innerHTML=
ws.string.escapeXml(a.displayName)):this.displayNameRow.style.display="none";if(a.screenName)this.screenNameRow.style.display="",this.screenNameInfo.innerHTML=ws.string.escapeXml(a.screenName);if(a.email1)this.email1Row.style.display="",this.email1Info.innerHTML=ws.string.escapeXml(a.email1);if(a.email2)this.email2Row.style.display="",this.email2Info.innerHTML=ws.string.escapeXml(a.email2);for(b=0;b<this.phoneTypes.length;b++)if(a["phone"+(b+1)])this["phone"+(b+1)+"Row"].style.display="",this["phone"+
(b+1)+"Info"].innerHTML=this.buildPhoneString(a["phone"+(b+1)+"Type"],a["phone"+(b+1)]);if(a.category)this.categoryRow.style.display="",this.categoryInfo.innerHTML=this.translateCategoryName(a.category);if(a.company||a.jobTitle||a.dept)this.workRow.style.display="",this.companyInfo.innerHTML=a.company?ws.string.escapeXml(a.company):"",this.deptInfo.innerHTML=a.dept?ws.string.escapeXml(a.dept):"",this.jobTitleInfo.innerHTML=a.jobTitle?ws.string.escapeXml(a.jobTitle):"";if(a.workStreet1||a.workStreet2||
a.workStreet3||a.workCity||a.workState||a.workZip||a.workCountry){this.workAddressRow.style.display="";for(b=0;5>b;b++){var c=this.getAddressField(b);"Street"==c?(c="workStreet1",this.workAddressInfo.innerHTML+=a[c]?ws.string.escapeXml(a[c])+"<br>":"",c="workStreet2",this.workAddressInfo.innerHTML+=a[c]?ws.string.escapeXml(a[c])+"<br>":"",c="workStreet3"):c="work"+c;this.workAddressInfo.innerHTML+=a[c]?ws.string.escapeXml(a[c])+"<br>":""}this.workAddressInfo.innerHTML+=a.workMapQuestUrl?'<a class="wsLink mapQuestLink" href="'+
a.workMapQuestUrl+'" target="_blank">'+this.showMapString+"</a>":""}if(a.homeStreet1||a.homeStreet2||a.homeStreet3||a.homeCity||a.homeState||a.homeZip||a.homeCountry){this.homeRow.style.display="";for(b=0;5>b;b++)c=this.getAddressField(b),"Street"==c?(c="homeStreet1",this.homeAddressInfo.innerHTML+=a[c]?ws.string.escapeXml(a[c])+"<br>":"",c="homeStreet2",this.homeAddressInfo.innerHTML+=a[c]?ws.string.escapeXml(a[c])+"<br>":"",c="homeStreet3"):c="home"+c,this.homeAddressInfo.innerHTML+=a[c]?ws.string.escapeXml(a[c])+
"<br>":"";this.homeAddressInfo.innerHTML+=a.homeMapQuestUrl?'<a class="wsLink " href="'+a.homeMapQuestUrl+'" target="_blank">'+this.showMapString+"</a>":""}for(b=0,ii=0;b<this.personalInfo.length;b++)if(a[this.personalInfo[b]])ii++,this[this.personalInfo[b]+"Row"].style.display="",this[this.personalInfo[b]+"Info"].innerHTML=ws.string.escapeXml(a[this.personalInfo[b]]);this.personalInfoHeader.style.display=0==ii?"none":""},showOrHideTopContactButtons:function(a){if(Config.TopContactsEnabled&&Settings.EnableTopContacts){var b;
b=0<arguments.length?a:this.uid&&"0"!=this.uid&&this.addressModel.isUidTopContact(this.uid);this.addToTopContactsButton.setShowing(!b);this.removeFromTopContactsButton.setShowing(b)}else this.addToTopContactsButton.setShowing(!1),this.removeFromTopContactsButton.setShowing(!1)},getAddressField:function(a){a=this.addressFields[a];return"State"==a&&Config.ABHideState?"":a},translateCategoryName:function(a){return"Co-Workers"==a||"Friends"==a||"Family"==a||"General"==a||"Auto-Added"==a||"Uncategorized"==
a?Config.Strings["ABCat"+a.replace("-","")]:ws.string.escapeXml(ws.string.summary(a,37))},getEmailDomain:function(a){if(null==a||""==a)return"";var b="",a=a.match(/(.*)@(.*)/);null!=a&&3==a.length&&(b=a[2],null!=b&&(b=b.toLowerCase()));return b},buildPhoneString:function(a,b){var c="";if(a){switch(a){case this.contactPhoneTypes[1]:c="("+Config.Strings.Cellular+")";break;case this.contactPhoneTypes[2]:c="("+Config.Strings.Fax+")";break;case this.contactPhoneTypes[3]:c="("+Config.Strings.Home+")";break;
case this.contactPhoneTypes[4]:c="("+Config.Strings.Pager+")";break;case this.contactPhoneTypes[5]:c="("+Config.Strings.Work+")";break;default:return""}return c=(b?ws.string.escapeXml(b):"")+" "+c}return""},defaultView:function(){this.regularPane.show();for(var a=0;a<this.infoSpans.length;a++)this[this.infoSpans[a]+"Info"].innerHTML="";for(a=0;a<this.infoRows.length;a++)this[this.infoRows[a]+"Row"].style.display="none"},showEditContact:function(){this.editContact(this.uid,this.data,!1)},editContact:function(){},
deleteContact:function(){Config.EnableUndo?(this.addressModel.setUndoItem(this.data),this._deleteContact(!0)):this._confirmationDelete()},_confirmationDelete:function(){ws.widget.Dialogs.okCancel(Config.Strings.DeleteContactsConfirmationSingular,a.hitch(this,function(a){a&&this._deleteContact()}))},_deleteContact:function(d){this.addressModel.deleteAddresses({uids:[this.uid],load:a.hitch(this,function(){var b=d?a.hitch(this.addressModel,"undoDeletedItem"):null;a.publish("WSFeedbackStart",[Config.Strings.ContactDeletedSingular,
!0,b,d?a.hitch(this,function(){this.addressModel.setUndoItem()}):null])}),error:a.hitch(this,function(a){this.addressModel.setUndoItem();window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for addressModel.deleteAddresses-_deleteContact file:ContactDetails.js");ws.widget.Dialogs.ok(a||Config.Strings.ErrorDeletingContactNotFound)})});this.close()},addToTopContacts:function(){this.addressModel.addContactToTopContacts({uid:this.uid,load:a.hitch(this,function(d){d.tcdluid?
(this.showOrHideTopContactButtons(!0),ws.WebSuite.theMailModel.resetCachedLists(),a.publish("WSFeedbackStart",[Config.Strings.TopContacts_ContactAdded,!0])):ws.widget.Dialogs.ok(Config.Strings.TopContacts_ContactNotAdded)}),error:a.hitch(this,function(a){window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for addressModel.addContactToTopContacts-addToTopContacts file:ContactDetails.js");ws.widget.Dialogs.ok(a||Config.Strings.TopContacts_ContactNotAdded)})})},
removeFromTopContacts:function(){this.addressModel.removeContactFromTopContacts({uid:this.uid,load:a.hitch(this,function(d){d.tcremoved?(this.showOrHideTopContactButtons(!1),ws.WebSuite.theMailModel.resetCachedLists(),a.publish("WSFeedbackStart",[Config.Strings.TopContacts_ContactRemoved,!0])):ws.widget.Dialogs.ok(Config.Strings.TopContacts_ContactNotRemoved)}),error:a.hitch(this,function(a){window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for addressModel.removeContactFromTopContacts-removeFromTopContacts file:ContactDetails.js");
ws.widget.Dialogs.ok(a||Config.Strings.TopContacts_ContactNotRemoved)})})},emailContact:function(){var a=null;if(this.isEmailAddress(this.data.email1))a=this.data.email1;else if(this.isEmailAddress(this.data.email2))a=this.data.email2;else if(this.data.screenName)a=this.data.screenName;a?this.composeEmail(a):ws.widget.Dialogs.ok(Config.Strings.EmailNotCorrectNoSN)},composeEmail:function(d){if(d){var b=null;if("string"==typeof d)b=d;else if(this.isEmailAddress(d.innerHTML))b=d.innerHTML;b?this.composeEmailCB(a.hitch(this,
function(a){a.reset({to:b,backToString:this.backToString,isDirty:!0})})):ws.widget.Dialogs.ok(Config.Strings.EmailNotCorrect)}},composeEmailCB:function(){},isEmailAddress:function(a){return a?(a=a.match(/(.+)@(.+)\.(.+)/),null!=a&&4==a.length):!1},openIM:function(){this.data.screenName&&ws.presence.launchIM(this.data.screenName)},GetRequestParamsForPrint:function(a){var b={};b.sortBy=this.addressModel.core.sortBy;b.sortDir=this.addressModel.core.sortDirection;b.nameFormat=Settings.AddressNameDisplayFormat;
b.categoryFilter=this.addressModel.getCurrentCategorySearchString();return ws.address.AddressBookUtil.GetRequestParamsForPrint(a,b)},printContact:function(){var a=this.uid+"";a?(a="command=selected&"+this.GetRequestParamsForPrint("selected")+"&uidList="+a,ws.address.AddressBookUtil.OpenAddressPrintWindow(a)):ws.widget.Dialogs.ok(Config.Strings.NoContactsCheckedErrorMsg)},_suiteOnKeyPress:function(d){if(this.isShowing()&&Config.EnableKeyboardShortcuts&&d.keyChar&&a.isString(d.keyChar)&&!d.ctrlKey&&
!d.altKey&&!d.metaKey)switch(d.keyChar.toLowerCase()){case Config.Strings.KeyPrintContactDetail:this.printContact();break;case Config.Strings.KeyCloseContactDetail:this.close()}},close:function(){this.closeCB&&this.closeCB()},clearSearch:function(){this.addressModel.search();this.close()}})})},"url:ws/widget/WSTimePicker.css":"","url:ws/mail/MessageStatusDialog.css":"","url:ws/address/DistributionListWidget.html":'<div data-dojo-attach-event="onkeydown: onKeyPressInputField">\n\t<div data-dojo-type="dijit/layout/StackContainer" class="listView distributionList" data-dojo-attach-point="stackWidget">\n\t\t<div data-dojo-type="dijit/layout/BorderContainer" data-dojo-attach-point="createPane" class="createPane">\n\t\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-attach-point="toolbar" data-dojo-props="region:\'top\'" vizType="Controls">\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:cancel" title="${Cancel}" iconClassName="cancelIcon" data-dojo-props="toolbarPosition: \'right\'"></div>\n\t\t\t</div>\n\t\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'center\'" class="newList">\n                <div>\n                    <div class="headerDiv">${NewList}</div>\n\n                    <div>\n                        <div defaultValue="${ListName}" data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'wsInput nameInput\'" data-dojo-attach-point="createNameField" maxlength="255" tabindex="1"></div>\n                    </div>\n\n                    <div data-dojo-type="ws/address/ComposeAddressField" ghostText="${AddContacts}" lineHeight="14" ghostTextPersistent="false" startingNumOfLines="4" numOfLines="4" class="selector" width="445" data-dojo-attach-point="createAddressField"></div>\n\n                    <div class="buttonGroup">\n                        <div data-dojo-type="ws/widget/Button" data-dojo-attach-point="addListButton" data-dojo-attach-event="onClick: checkRequiredFields">${AddList}</div>\n                        <div data-dojo-type="ws/widget/Button" data-dojo-attach-point="cancelListButton" data-dojo-attach-event="onClick: cancel" type="Bare">${Cancel}</div>\n                    </div>\n                </div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<div data-dojo-type="dijit/layout/BorderContainer" data-dojo-attach-point="editPane" class="editPane">\n\t\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-attach-point="toolbar" data-dojo-props="region:\'top\'" vizType="Controls">\n                <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:emailList" title="${EmailListTip}" iconClassName="composeIcon">${EmailList}</div>\n                <div data-dojo-type="ws/widget/Button" data-dojo-attach-point="deleteListButton" data-dojo-attach-event="onClick:deleteList" title="${DeleteList}" iconClassName="delIcon">${DeleteListTip}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:cancel" title="${Close}" iconClassName="cancelIcon" data-dojo-props="toolbarPosition: \'right\'"></div>\n\t\t\t</div>\n\t\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'top\'" style="border-bottom: 1px solid #DEDEDE; padding-bottom:12px;" class="editList">\n                <div>\n                    <div class="displayName" data-dojo-attach-point="displayNameDiv">\n                        <span data-dojo-attach-point="nameSpan" class="nameSpan"></span>\n                        <a href="#" data-dojo-attach-point="editNameSpan" data-dojo-attach-event="onclick:editName">${EditName}</a>\n                        <a href="#" data-dojo-attach-event="onclick:deleteList" data-dojo-attach-point="deleteListAnchor">${DeleteList}</a>\n                    </div>\n                    <div class="editName" data-dojo-attach-point="editNameDiv" style="display:none">\n                        <input type="text" class="wsInput" data-dojo-attach-point="editNameField" />\n                        <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: saveName">${Save}</div>\n                        <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: cancelName">${Cancel}</div>\n                        <br style="clear: both" />\n                    </div>\n\n                    <div class="addContactDiv" data-dojo-attach-point="addContactDiv">\n                        <div data-dojo-type="ws/address/ComposeAddressField" ghostText="${AddContacts}" ghostTextPersistent="false" startingNumOfLines="4" numOfLines="4" class="selector" width="445" data-dojo-attach-point="editAddressField"></div>\n                        <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: addMembers">${Add}</div>\n                    </div>\n                </div>\n            </div>\n           \n\t\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'center\'" class="content">\n\t\t\t\t<div data-dojo-type="dojox.grid.Grid" data-dojo-attach-point="grid"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',
"url:ws/mail/MailFilterModalPane.css":"","url:ws/calendar/TodoEditDialog.css":"","url:ws/mail/FolderApp.html":'<div class="appNode appFolders">\n\t<div class="layoutWidget" data-dojo-type="dijit/layout/BorderContainer" data-dojo-attach-point="layoutWidget">\n\t\t<div class="appTitleBar mainSprite" data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'top\'">\n\t\t\t<span class="appTitle">${NavMyFolders}</span>\n\t\t\t<ul>\n\t\t\t\t<li class="mainSprite appTitleClose" data-dojo-attach-event="onclick: appClose"></li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div data-dojo-attach-point="appFoldersNode" data-dojo-attach-event="onClick:handleClick" class="appFoldersNode" data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'center\'"></div>\n\t</div>\n</div>\n\n',
"url:ws/address/EditContactDialog.css":"","ws/suite/MiniLogin":function(){require({cache:{"url:ws/suite/MiniLogin.html":'<div class="WSModalPane miniLogin">\n\t<div class="WSModalPaneInner">\n\t\t<div class="modalContainer">\n\t\t\t<div data-dojo-attach-point="logoArea" class="logoArea">\n\t\t\t\t<img data-dojo-attach-point="imageLogo" src="${spacer}">\n\t\t\t\t<div data-dojo-attach-point="textDomainLogo" style="display:none">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="messageArea" data-dojo-attach-point="messageNode"></div>\n\t\t\t<iframe data-dojo-attach-point="loginFrame" class="miniLoginSNSiFrame" frameborder="0" hspace="0" marginheight="0" marginwidth="0" vspace="0" scrolling="no" allowtransparency="true"></iframe>\n\t\t</div>\n\t</div>\n</div>',
"url:ws/suite/MiniLogin.css":""}});define("ws/suite/MiniLogin","dojo/_base/declare,dojo/text!ws/suite/MiniLogin.html,dojo/text!ws/suite/MiniLogin.css,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,ws/widget/WSModalPane,dojo/io/iframe,ws/html,ws/string".split(","),function(l,g,k,a,m,j,f,e,d){return l([e,f],{templateString:g,css:{templateString:k},destroyOnClose:!1,startup:function(){this.inherited(arguments)},show:function(a,c,e,h){this.inherited(arguments);c=ws.string.substituteParams(c,encodeURIComponent(h),
e?"novl":"n");d.setSrc(this.loginFrame,c,!0);ws.html.setInnerText(this.messageNode,a||"")},moveOffscreen:function(){this.originalTop=this.domNode.style.top;this.domNode.style.top="-10000px"},moveOnscreen:function(){this.domNode.style.top=this.originalTop}})})},"ws/address/DistributionListGridModel":function(){define("ws/address/DistributionListGridModel",["dojo/_base/declare","dojo","dojox/grid/data/Dynamic","dojox/grid/Grid"],function(l,g,k){return l([k],{columns:{Icon:0,Name:1,Hover:2,Email:3},
modelUpdated:function(){},listInfo:null,constructor:function(a,g,j){this.model=j},setListInfo:function(a){this.listInfo=a;this.modelUpdated()},getDatum:function(a,g){var j;j=this.listInfo.sortedContactsAndAddresses[a];switch(g){case this.columns.Icon:return this.getBuddyIcon(j);case this.columns.Name:return"object"==typeof j?(sortBy="LastFirstEmailScreenNamePhone",sortBy="LastFirstNick"==Settings.AddressNameDisplayFormat?"LastFirstEmailScreenNamePhone":"FirstLastEmailScreenNamePhone",ws.address.AddressBookUtil.getNameInfoHTML(j,
sortBy)):ws.string.substituteParams("{0}",this.listInfo.sortedContactsAndAddresses[a]);case this.columns.Hover:return this.getHoverColumnCB?this.getHoverColumnCB(a):"";case this.columns.Email:if("object"==typeof j){var f="",f=email1=j.email1?j.email1:"",e=j.email2?j.email2+", ":"";""!=e&&(""!=email1&&(f+=", "),f+=e);j=j.screenName?j.screenName:"";if(""!=j){if(""!=f||""!=f)f+=", ";f+=j}return f}return ws.string.substituteParams("({0})",this.listInfo.sortedContactsAndAddresses[a])}},getRowCount:function(){return this.listInfo?
this.listInfo.contacts.length+this.listInfo.addresses.length:0},getBuddyIcon:function(a){var g=Config.SpacerImageURL;a&&Config.ShowPresenceIcon&&(g=ws.presence.getBuddyIconUrl(a,!0)||Config.SpacerImageURL);return g==Config.SpacerImageURL?ws.string.substituteParams('<img style="width: 32px; height: 32px;" align=\'absmiddle\' src="{0}" class="mainLargeIcon hoverRefNode noBuddyIcon buddyShadow showIcon">',g):ws.string.substituteParams('<div style="width: 32px; height: 32px;"><img style="visibility: hidden; width: 32px; height: 32px; border: 1px solid #85817c" onerror="window.fixMissingAvatar(this);" onload="this.style.visibility = \'\';" class="hoverRefNode buddyIcon buddyShadow showIcon" align=\'absmiddle\' src="{0}"></div>',
g)}})})},"url:ws/address/ExportContactsWidget.html":'<div class="exportContacts WSModalPane" data-dojo-attach-point="importContactsDialog">\n\t<div data-dojo-attach-event="onkeypress:onKeyPress,onkeydown:onKeyPress">\n        <img src="${spacer}" class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick:hide">\n\t\t<div class="WSModalPaneInner">\n            <div class="exportContainer">\n                <div class="heading">${AB_Export_ContactsExport}</div>\n                <div data-dojo-attach-point="ExportFileDiv" class="sectionBottom">\n                    <input type="radio" name="${id}type" checked data-dojo-attach-point="csvInputNode">\n                    <label for="${id}typecsv">${CSV}</label>\n                    <input type="radio" name="${id}type" data-dojo-attach-point="txtInputNode">\n                    <label for="${id}typetxt">${TXT}</label>\n                    <input type="radio" name="${id}type" data-dojo-attach-point="ldifInputNode">\n                    <label for="${id}typeldif">${LDIF}</label>\n                </div>\n                <div class="buttonGroup">\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: exportToFile">${Export}</div>\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: cancel" type="Bare">${Cancel}</div>\n                 </div>\n            </div>\n        </div>\n\t</div>\n</div>\n',
"ws/address/ExportContactsWidget":function(){require({cache:{"url:ws/address/ExportContactsWidget.html":'<div class="exportContacts WSModalPane" data-dojo-attach-point="importContactsDialog">\n\t<div data-dojo-attach-event="onkeypress:onKeyPress,onkeydown:onKeyPress">\n        <img src="${spacer}" class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick:hide">\n\t\t<div class="WSModalPaneInner">\n            <div class="exportContainer">\n                <div class="heading">${AB_Export_ContactsExport}</div>\n                <div data-dojo-attach-point="ExportFileDiv" class="sectionBottom">\n                    <input type="radio" name="${id}type" checked data-dojo-attach-point="csvInputNode">\n                    <label for="${id}typecsv">${CSV}</label>\n                    <input type="radio" name="${id}type" data-dojo-attach-point="txtInputNode">\n                    <label for="${id}typetxt">${TXT}</label>\n                    <input type="radio" name="${id}type" data-dojo-attach-point="ldifInputNode">\n                    <label for="${id}typeldif">${LDIF}</label>\n                </div>\n                <div class="buttonGroup">\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: exportToFile">${Export}</div>\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: cancel" type="Bare">${Cancel}</div>\n                 </div>\n            </div>\n        </div>\n\t</div>\n</div>\n',
"url:ws/address/ExportContactsWidget.css":""}});define("ws/address/ExportContactsWidget","dojo/_base/declare,dojo/text!ws/address/ExportContactsWidget.html,dojo/text!ws/address/ExportContactsWidget.css,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,ws/widget/WSModalPane,ws/address/DistributionListWidget,ws/widget/BuddyIcon,ws/widget/DefaultTextbox,ws/widget/Dialogs,ws/widget/popup,ws/widget/util".split(","),function(l,g,k,a,m,j,f,e,d){return l([d,f,e],{templateString:g,
css:{templateString:k},_earlyTemplatedStartup:!0,addressModel:null,closeCB:null,getFormatParam:function(){var a="csv";this.ldifInputNode.checked?a="ldif":this.txtInputNode.checked&&(a="txt");return a},exportToFile:function(){var b=this.getFormatParam(),b=Config.BaseJASUrl+"ExportContacts?command=all&format="+b,b=b+("&user="+ws.io.getUserUid()),c=a.io.iframe.create("ExportContacts",null,Config.EmptyFileURL);a.io.iframe.setSrc(c,b,!0);ws.reporting.report("Export Contacts","Addresses");this.hide()},
cancel:function(){this.hide()}})})},"url:ws/address/AddressListView.css":"","url:ws/suite/MiniLogin.html":'<div class="WSModalPane miniLogin">\n\t<div class="WSModalPaneInner">\n\t\t<div class="modalContainer">\n\t\t\t<div data-dojo-attach-point="logoArea" class="logoArea">\n\t\t\t\t<img data-dojo-attach-point="imageLogo" src="${spacer}">\n\t\t\t\t<div data-dojo-attach-point="textDomainLogo" style="display:none">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="messageArea" data-dojo-attach-point="messageNode"></div>\n\t\t\t<iframe data-dojo-attach-point="loginFrame" class="miniLoginSNSiFrame" frameborder="0" hspace="0" marginheight="0" marginwidth="0" vspace="0" scrolling="no" allowtransparency="true"></iframe>\n\t\t</div>\n\t</div>\n</div>',
"ws/themes/widget/ThemePickerDialog":function(){require({cache:{"url:ws/themes/widget/ThemePickerDialog.html":'<div class="WSModalPane ThemePickerModal">\n\t<div class="WSModalPaneInner">\n\t\t<div class="modalContainer">\n\t\t\t<div data-dojo-type="ws/widget/Pane" class="themePickerDlg">\n\t\t\t\t<div class="header" data-dojo-attach-point="hdrTitle1">\n\t\t\t\t\t${ThemesPickerDialogTitle}</div>\n\t\t\t\t<div data-dojo-attach-point="themeItemPaneWrapper" class="themeItemPaneWrapper">\n\t\t\t\t\t<div data-dojo-type="ws/widget/ContainerPane" data-dojo-attach-point="themeItemPane" class="themeItemPane">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="toolbarPad">\n\t\t\t\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-attach-point="toolbar" viztype="Bare">\n\t\t\t\t\t\t<div class="themeCancelBtn" data-dojo-type="dijit/_Widget" data-dojo-props="toolbarPosition: \'right\'">\n\t\t\t\t\t\t\t<a href="#" data-dojo-attach-event="onclick: handleCancel" class="wsLink" data-dojo-attach-point="themeCancelBtn">${ThemesPickerDialogCancel}</a></div>\n\t\t\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-point="themeSaveBtn" data-dojo-attach-event="onClick: handleSaveBtn" data-dojo-props="toolbarPosition: \'right\'">\n\t\t\t\t\t\t\t${ThemesPickerDialogSave}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="useRandomDiv" data-dojo-attach-point="useRandomDiv">\n\t\t\t\t\t<div data-dojo-type="ws/widget/Checkbox" data-dojo-attach-event="onClick:checkBoxChange" data-dojo-attach-point="useRandomCheckbox" label="${ThemesPickerDialogUseRandom}" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',
"url:ws/themes/widget/ThemePickerDialog.css":""}});define("ws/themes/widget/ThemePickerDialog","dojo/_base/declare,dojo/text!ws/themes/widget/ThemePickerDialog.html,dojo/text!ws/themes/widget/ThemePickerDialog.css,dojo,dijit,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,ws/widget/WSModalPane,ws/themes/widget/ThemePickerDialogItem,ws/widget/ContainerPane,ws/io,ws/reporting,ws/widget/Dialogs".split(","),function(l,g,k,a,m,j,f,e,d){return l([e,j,f],{templateString:g,css:{templateString:k},destroyOnClose:!1,
currentSelected:"",originalSelection:"",debugShowAllThemes:!1,themeWidget:null,startup:function(){this.inherited(arguments);if(Config.EnableThemeDebugQueryParameters){var b=ws.io.getQueryParameter("_st");if(b&&"1"===b)this.debugShowAllThemes=!0}this.tc=window._ws_theme;if(Config.AllowRandomThemes&&this.tc.randomThemeList&&this.tc.randomThemeList.length)this.useRandomDiv.style.display="block";a.style(this.bg,"opacity",0);if("undefined"==typeof External_Themes)this.domNode.style.display="none",_ws.loadScript({src:Config.ThemeConfigURL+
"_master.js",load:a.hitch(this,this.handleThemeDataLoad),error:a.hitch(this,this.handleThemeDataLoad)})},handleThemeDataLoad:function(){this.domNode.style.display="block";this.parseThemeData();for(var a=this.themeData.IDList,c=[],d=0;d<a.length;d++){var h=this.themeData[a[d]];h&&this.isThemeShowable(h)&&c.push(h)}this.renderThemesPane(c);this.show(this.currentSelected,this.originalSelection)},parseThemeData:function(){this.themeData=ws.lang.shallowCopy(Config.WebSuiteThemes);this.themeData[Config.ThemeDefault].active=
!0;var a=[];"undefined"!=typeof External_Themes&&(a=a.concat(External_Themes.IDList));for(var c=[],d=0;d<a.length;d++){var h=a[d];this.themeData[h]=External_Themes[h];if(this.themeData&&this.themeData[h]){var n=this.themeData[h];n.active=!1;n.availableUntil="";var e="forceStart,forceEnd,optoutStart,optoutEnd,optinStart,optinEnd,galleryStart,galleryEnd".split(","),f=!1,j=null;if(n.PromoAttribute)for(var j=n.PromoAttribute,g=0;g<e.length;g++)if(!this.tc.unspecified(j[e[g]])){f=!0;break}if(this.debugShowAllThemes)c.push(h),
n.active=!0,this.setDebugInfo(n);else if(f){e=!1;if(null==this.forceOrOptoutThemeId&&this.tc.isThemeInDateRange(j,"force")&&this.tc.isTargetUserMatch(n))this.forceOrOptoutThemeId=h,e=!0,c.push(h),n.active=!0,this.setAvailUntil(n,j,"force");else if(null==this.forceOrOptoutThemeId&&this.tc.isThemeInDateRange(j,"optout")&&this.tc.isTargetUserMatch(n))this.forceOrOptoutThemeId=h,e=this.optOut=!0,c.push(h),n.active=!0,this.setAvailUntil(n,j,"optout");else if(null==this.optinThemeId&&this.tc.isThemeInDateRange(j,
"optin")&&this.tc.isTargetUserMatch(n))this.optinThemeId=h,e=!0,c.push(h),n.active=!0,this.setAvailUntil(n,j,"optin");if(this.tc.isThemeInDateRange(j,"gallery")){if(!e)c.push(h),n.active=!0;this.setAvailUntil(n,j,"gallery")}}else c.push(h),n.active=!0;this.themeData[h].resourcePath=this.tc.getExternalThemeResourcePath(this.themeData[h])}}a=!1;if((0>Config.StpdCoreThemeThreshold||Settings.UserHash>Math.abs(Config.StpdCoreThemeThreshold))&&!isNaN(parseInt(Settings.AOLCreateDate))&&parseInt(Settings.AOLCreateDate)>=
Config.StpdCoreThemeCreateDate&&"SIMPLE"==c[0])a=!0,this.themeData[Config.ThemeDefault].label=Config.Strings.Themes_Title_Default,this.themeData.IDList=[c.shift(),Config.ThemeDefault].concat(c);if(!a)this.themeData.IDList=[Config.ThemeDefault].concat(c)},isThemeShowable:function(a){return a.active?!0:!1},setAvailUntil:function(b,c,d){c=c[d+"End"];d=null;this.tc.unspecified(c)||(d=a.date.stamp.fromISOString(c));d?(c=d.getMonth()+1+"/"+d.getDate()+"/"+d.getFullYear(),b.availableUntil=ws.string.substituteParams(Config.Strings.ThemesPickerDialogAvailable,
c)):b.availableUntil=""},setDebugInfo:function(a){var c="",d="forceStart,forceEnd,optoutStart,optoutEnd,optinStart,optinEnd,galleryStart,galleryEnd,promoImg,promoLink".split(","),h=a.PromoAttribute;if(h)for(var n=0;n<d.length;n++){var e=d[n],j=h[e];this.tc.unspecified(j)||(c+=e+": "+j+"\n")}d=["gender","age","zip","match"];if(h=a.MatchAttribute)for(n=0;n<d.length;n++)e=h[n],j=h[e],this.tc.unspecified(j)||(c+=e+": "+j+"\n");if(c)a.description=c,a.availableUntil="* debug mouse over"},initView:function(){this.toolbar.layout();
this.randomThemeEnabled=this.tc.randomThemeEnabled;this.useRandomCheckbox.setChecked(this.randomThemeEnabled)},checkBoxChange:function(){if(this.randomThemeEnabled=this.useRandomCheckbox.checked){var a=this.tc.getRandomTheme();this.clearSelectedItem();this.setSelectedItem(a);this.themeWidget.changeTheme(a)}},renderThemesPane:function(a){for(var c=0,e=0,h=0;h<a.length;h++){var n=new d({dialogWidget:this,item:a[h],row:e});n.startup();this.themeItemPane.addChild(n);n.domNode.style.left=182*c+"px";n.domNode.style.top=
126*e+"px";c++;0==c%4&&(e++,c=0)}this.themeItemPane.domNode.style.height=126*e+"px"},handleCancel:function(){this.themeWidget.changeTheme(this.originalSelection);this.hide()},handleSaveBtn:function(){this.tc.randomThemeEnabled=this.randomThemeEnabled;this.themeWidget.saveTheme();this.hide()},getSelectedItem:function(){return this.themeItemPane.getChildren().filter(function(a){return a.selected})},clearSelectedItem:function(){a.forEach(this.themeItemPane.getChildren(),function(a){a.select(!1)})},setSelectedItem:function(b){this.selectedItem=
null;a.forEach(this.themeItemPane.getChildren(),a.hitch(this,function(a){a.item.id==b?(a.select(!0),this.selectedItem=a):a.select(!1)}));this.selectedItem&&setTimeout(a.hitch(this,function(){this.themeItemPaneWrapper.scrollTop=126*(this.selectedItem.row-1)},100))},show:function(a,c){this.originalSelection=c;this.clearSelectedItem();this.setSelectedItem(a);this.inherited(arguments);this.initView()}})})},"ws/mail/FolderApp":function(){require({cache:{"url:ws/mail/FolderApp.html":'<div class="appNode appFolders">\n\t<div class="layoutWidget" data-dojo-type="dijit/layout/BorderContainer" data-dojo-attach-point="layoutWidget">\n\t\t<div class="appTitleBar mainSprite" data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'top\'">\n\t\t\t<span class="appTitle">${NavMyFolders}</span>\n\t\t\t<ul>\n\t\t\t\t<li class="mainSprite appTitleClose" data-dojo-attach-event="onclick: appClose"></li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div data-dojo-attach-point="appFoldersNode" data-dojo-attach-event="onClick:handleClick" class="appFoldersNode" data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'center\'"></div>\n\t</div>\n</div>\n\n',
"url:ws/mail/FolderApp.css":""}});define("ws/mail/FolderApp","dojo/_base/declare,dojo/text!ws/mail/FolderApp.html,dojo/text!ws/mail/FolderApp.css,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin".split(","),function(l,g,k,a,m,j,f,e){return l([j,f,e],{templateString:g,css:{templateString:k},_earlyTemplatedStartup:!0,startup:function(){},setModel:function(a){this.model=a;this.connect(this.model,"modelUpdated","modelUpdated");this.modelUpdated()},modelUpdated:function(){var d=
a.query(".navItem .icon",ws.WebSuite.Navigation.myFoldersNode);d.myNode=this.appFoldersNode.domNode;d.myNode.innerHTML="";d.forEach(this.addMyFolder,this)},addMyFolder:function(d,b,c){var b=a.attr(d,"theFN"),d=this.model.getFolderByName(b),e="";d&&(e=ws.string.escapeXml(d.displayName),e=e.replace(/ /gm,"&nbsp;"),c=a.create("div",{className:"folderItem",theFN:b},c.myNode),b==this.model.currentFolder&&a.addClass(c,"currFolderItem"),a.create("div",{className:"mainSprite iconPersonal"},c),b=a.create("span",
{className:"name",innerHTML:e},c),0<d.unseenCount&&(a.create("div",{className:"unseen",innerHTML:d.unseenCount},c),a.style(b,"width","102px")))},handleClick:function(d){(d=ws.widget.getEventTarget(d,"folderItem","appFoldersNode"))&&ws.WebSuite.Navigation.displayFolder(a.attr(d,"theFN"),ws.UserContext.ActiveScreenName);this.appClose()},appClose:function(){ws.WebSuite.Navigation.closeFlyoutFolders()}})})},"dojo/fx":function(){define("dojo/fx","./_base/lang,./Evented,./_base/kernel,./_base/array,./_base/connect,./_base/fx,./dom,./dom-style,./dom-geometry,./ready,require".split(","),
function(l,g,k,a,m,j,f,e,d,b,c){k.isAsync||b(0,function(){c(["./fx/Toggler"])});var k=k.fx={},b={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}},o=function(b){this._index=-1;this._animations=b||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;a.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};o.prototype=new g;l.extend(o,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){m.disconnect(this._onAnimateCtx);
m.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=m.connect(this._current,"onAnimate",this,"_onAnimate"),this._onEndCtx=m.connect(this._current,"onEnd",this,"_onEnd"),this._current.play(0,!0))},play:function(a,b){if(!this._current)this._current=this._animations[this._index=0];if(!b&&"playing"==this._current.status())return this;var c=m.connect(this._current,
"beforeBegin",this,function(){this._fire("beforeBegin")}),h=m.connect(this._current,"onBegin",this,function(a){this._fire("onBegin",arguments)}),d=m.connect(this._current,"onPlay",this,function(a){this._fire("onPlay",arguments);m.disconnect(c);m.disconnect(h);m.disconnect(d)});this._onAnimateCtx&&m.disconnect(this._onAnimateCtx);this._onAnimateCtx=m.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx&&m.disconnect(this._onEndCtx);this._onEndCtx=m.connect(this._current,"onEnd",this,
"_onEnd");this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=m.connect(this._current,"onPause",this,function(b){this._fire("onPause",arguments);m.disconnect(a)});this._current.pause()}return this},gotoPercent:function(b,c){this.pause();var h=this.duration*b;this._current=null;a.some(this._animations,function(a){if(a.duration<=h)return this._current=a,!0;h-=a.duration;return!1});this._current&&this._current.gotoPercent(h/this._current.duration,c);
return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var b=m.connect(this._current,"onStop",this,function(a){this._fire("onStop",arguments);m.disconnect(b)});this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&m.disconnect(this._onAnimateCtx);this._onEndCtx&&m.disconnect(this._onEndCtx)}});
l.extend(o,b);k.chain=function(a){return new o(a)};var h=function(b){this._animations=b||[];this._connects=[];this.duration=this._finished=0;a.forEach(b,function(a){var b=a.duration;a.delay&&(b+=a.delay);if(this.duration<b)this.duration=b;this._connects.push(m.connect(a,"onEnd",this,"_onEnd"))},this);this._pseudoAnimation=new j.Animation({curve:[0,1],duration:this.duration});var c=this;a.forEach("beforeBegin,onBegin,onPlay,onAnimate,onPause,onStop,onEnd".split(","),function(a){c._connects.push(m.connect(c._pseudoAnimation,
a,function(){c._fire(a,arguments)}))})};l.extend(h,{_doAction:function(b,c){a.forEach(this._animations,function(a){a[b].apply(a,c)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(b,
c){var h=this.duration*b;a.forEach(this._animations,function(a){a.gotoPercent(a.duration<h?1:h/a.duration,c)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){a.forEach(this._connects,m.disconnect)}});l.extend(h,b);k.combine=function(a){return new h(a)};k.wipeIn=function(a){var b=a.node=f.byId(a.node),c=b.style,h,a=j.animateProperty(l.mixin({properties:{height:{start:function(){h=
c.overflow;c.overflow="hidden";if("hidden"==c.visibility||"none"==c.display)return c.height="1px",c.display="",c.visibility="",1;var a=e.get(b,"height");return Math.max(a,1)},end:function(){return b.scrollHeight}}}},a)),d=function(){c.height="auto";c.overflow=h};m.connect(a,"onStop",d);m.connect(a,"onEnd",d);return a};k.wipeOut=function(a){var b=(a.node=f.byId(a.node)).style,c,a=j.animateProperty(l.mixin({properties:{height:{end:1}}},a));m.connect(a,"beforeBegin",function(){c=b.overflow;b.overflow=
"hidden";b.display=""});var h=function(){b.overflow=c;b.height="auto";b.display="none"};m.connect(a,"onStop",h);m.connect(a,"onEnd",h);return a};k.slideTo=function(a){var b=null,c=null,h=function(a){return function(){var h=e.getComputedStyle(a),n=h.position;b="absolute"==n?a.offsetTop:parseInt(h.top)||0;c="absolute"==n?a.offsetLeft:parseInt(h.left)||0;if("absolute"!=n&&"relative"!=n)h=d.position(a,!0),b=h.y,c=h.x,a.style.position="absolute",a.style.top=b+"px",a.style.left=c+"px"}}(a.node=f.byId(a.node));
h();a=j.animateProperty(l.mixin({properties:{top:a.top||0,left:a.left||0}},a));m.connect(a,"beforeBegin",a,h);return a};return k})},"url:ws/mail/FolderApp.css":"","dojo/fx/Toggler":function(){define("dojo/fx/Toggler",["../_base/lang","../_base/declare","../_base/fx","../_base/connect"],function(l,g,k,a){return g("dojo.fx.Toggler",null,{node:null,showFunc:k.fadeIn,hideFunc:k.fadeOut,showDuration:200,hideDuration:200,constructor:function(g){l.mixin(this,g);this.node=g.node;this._showArgs=l.mixin({},
g);this._showArgs.node=this.node;this._showArgs.duration=this.showDuration;this.showAnim=this.showFunc(this._showArgs);this._hideArgs=l.mixin({},g);this._hideArgs.node=this.node;this._hideArgs.duration=this.hideDuration;this.hideAnim=this.hideFunc(this._hideArgs);a.connect(this.showAnim,"beforeBegin",l.hitch(this.hideAnim,"stop",!0));a.connect(this.hideAnim,"beforeBegin",l.hitch(this.showAnim,"stop",!0))},show:function(a){return this.showAnim.play(a||0)},hide:function(a){return this.hideAnim.play(a||
0)}})})},"ws/mail/EditFolderDialog":function(){require({cache:{"url:ws/mail/EditFolderDialog.html":'<div class="WSModalPane editFolder">\n\t<div class="WSModalPaneInner">\n\t\t<img src="${spacer}" class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick: hide" />\n\t\t<div class="modalContainer">\n\t\t\t<div class="content" data-dojo-attach-point="content">\n\t\t\t\t<div class="header">${EditFolder}</div>\n\t\t\t\t<div data-dojo-attach-point="inputNameDiv" class="wsToolBar" data-dojo-type="ws/widget/WSToolbar" viztype="Bare" style="width:340px">\n\t\t\t\t\t<div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="toolbarPosition: \'left\'" data-dojo-attach-event="onKeyUp: onKeyPressInputField"\tdata-dojo-attach-point="renameInput" maxlength="32"></div>\n\t\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-props="toolbarPosition: \'left\'" data-dojo-attach-event="onClick: renameFolder" style="margin-left:10px">${Save}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="info" data-dojo-attach-point="infoNode">\n\t\t\t\t\t<span data-dojo-attach-point="msgCountNode"></span>&nbsp;${Messages} &nbsp;|&nbsp; <span data-dojo-attach-point="sizeNode"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class="actions">\n\t\t\t\t\t<span data-dojo-attach-point="emptyLink" class="wsLink" data-dojo-attach-event="onclick: emptyFolder" style="visibility:hidden">${Empty}</span> <span class="pipe" data-dojo-attach-point="linkSep" style="visibility:hidden">|</span> <span class="wsLink" data-dojo-attach-event="onclick: checkFiltersBeforeDeleteFolder">${Delete}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',
"url:ws/mail/EditFolderDialog.css":""}});define("ws/mail/EditFolderDialog","dojo/_base/declare,dojo/text!ws/mail/EditFolderDialog.html,dojo/text!ws/mail/EditFolderDialog.css,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,ws/widget/WSModalPane,ws/mail/MailFilters,ws/reporting,ws/lang,ws/string,ws/widget/Dialogs,ws/widget/util,ws/widget/Button".split(","),function(l,g,k,a,m,j,f,e,d,b){return l([d,f,e],{templateString:g,css:{templateString:k},model:null,undoDeleteFolderCB:null,
undoEmptyFolderCB:null,undoCallback:null,destroyOnClose:!1,listOfDeletedFilters:[],folderExistsInFilter:!1,show:function(a){for(var b=0;b<this.model.folders.length;b++)if(this.model.folders[b].name==a)this.folder=this.model.folders[b];this.renameInput.setValue(this.folder.displayName);this.getFolderInfo();this.inherited(arguments);this.inputNameDiv.layout();ws.widget.fixFFCursor(this.inputNameDiv)},getFolderInfo:function(){this.infoNode.style.visibility="hidden";this.model.getFolderInfo({name:this.folder.name,
load:a.hitch(this,function(a){this.folder.count=a.count;0==a.count?(this.emptyLink.style.visibility="hidden",this.linkSep.style.visibility="hidden"):(this.emptyLink.style.visibility="visible",this.linkSep.style.visibility="visible");this.msgCountNode.innerHTML=a.count;this.sizeNode.innerHTML=Math.round(a.size/1024)+"KB";this.infoNode.style.visibility="visible"}),error:function(a){window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.ProgErr,"Error Handler for model.getFolderInfo-getFolderInfo file:EditFolderDialog.js")}})},
getAssociatedFiltersFolder:function(){this.folderExistsInFilter=!1;this.listOfDeletedFilters=[];var c=0,d=m.byId("FilterSettings");if(d)for(var h=0;h<d.filterList.size();h++){var n=d.filterList.get(h);if(n.moveToFolder==this.folder.name)this.listOfDeletedFilters[c]=n,this.folderExistsInFilter=!0,c++}else{var e=new b;e.loadFromRpc({load:a.hitch(this,function(a){if(a.isSuccess){e.clear();e.addAll(a.filterList);for(a=0;a<e.size();a++){var b=e.get(a);if(b.moveToFolder==this.folder.name)this.listOfDeletedFilters[c]=
b,this.folderExistsInFilter=!0,c++}}})})}},checkFiltersBeforeDeleteFolder:function(){"ANGELIA"==ws.UserContext.MailboxType&&this.getAssociatedFiltersFolder();this.deleteFolder()},deleteFolder:function(){this.hide();var b=-1==this.folder.count?"":this.folder.count,d=Config.EnableIMAPFolderHierarchy?ws.string.substituteParams(Config.Strings.DeleteHierarchyFolderConfirmation,this.folder.displayName):ws.string.substituteParams(Config.Strings.DeleteFolderConfirmation,this.folder.displayName,b);this.folderExistsInFilter&&
(d=0==this.folder.count?ws.string.substituteParams(Config.Strings.DeleteFolderInFilterConfirmation2,"<b>"+this.folder.displayName+"</b>"):ws.string.substituteParams(Config.Strings.DeleteFolderInFilterConfirmation,"<b>"+this.folder.displayName+"</b>",b));0==this.folder.count&&!this.folderExistsInFilter?(this.undoCallback=this.undoDeleteFolderCB?a.hitch(this,function(){this.undoDeleteFolderCB({newName:this.folder.displayName,undo:!0})}):null,this._deleteFolder()):ws.widget.Dialogs.okCancel(d,a.hitch(this,
function(a){a?(this.undoCallback=null,this._deleteFolder()):this.show(this.folder.name)}))},_deleteFolder:function(){this.model.deleteFolder({load:a.hitch(this,function(){this.folderListHandle=a.connect(this.model,"folderListChanged",this,"_showDelayedFeedback");if("ANGELIA"==ws.UserContext.MailboxType&&0<this.listOfDeletedFilters.length){for(var c=[],d=0;d<this.listOfDeletedFilters.length;d++)c.push(this.listOfDeletedFilters[d].filterId);this.listOfDeletedFilters[0].deleteFilter({filterIDs:c,load:a.hitch(this,
function(a){if(a.isSuccess){var c=m.byId("FilterSettings");if(c){var d=new b;d.clear();d.addAll(a.filterList);c.filterList=d}}}),error:function(){}})}}),name:this.folder.name,error:function(a){window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for model.deleteFolder-_deleteFolder file:EditFolderDialog.js");ws.widget.Dialogs.ok(a||Config.Strings.DeleteFolderError)}})},_showDelayedFeedback:function(){a.disconnect(this.folderListHandle);ws.lang.setTimeout(this,
function(){a.publish("WSFeedbackStart",[ws.string.substituteParams(Config.Strings.FolderDeleted,this.folder.displayName),!0,this.undoCallback])},100)},emptyFolder:function(){this.hide();if(0!=this.folder.count){this.model.getCachedListForFolder(this.folder.name);var b="Deleted"==this.folder.type?Config.Strings.PermDeleteSelectedConfirmation:ws.string.substituteParams(Config.Strings.EmptyFolderConfirmation,"",this.folder.displayName);"Deleted"!=this.folder.type&&"Spam"!=this.folder.type?ws.widget.Dialogs.okCancel(b,
a.hitch(this,function(a){a?this._emptyFolder(!0):this.show(this.folder.name)})):ws.widget.Dialogs.okCancel(b,a.hitch(this,function(a){a?this._emptyFolder():this.show(this.folder.name)}))}},_emptyFolder:function(b){this.model.emptyFolder({name:this.folder.name,fetchUIDs:b,load:a.hitch(this,function(d){var h=null;this.undoCallback=null;if(b&&d.responseUIDs)h=d.responseUIDs;!Config.UseOMS&&(Config.EnableRestoreButton||Settings.ViewNewOld)?this.undoCallback=h&&h.length?a.hitch(this,function(){this.undoEmptyFolderCB(h)}):
null:h&&h.length?(ma_uids={},ma_uids[this.folder.name]=h,this.undoCallback=a.hitch(this.model,"undoMoveMessages",ma_uids,Config.DeletedItemsFolderName,this.folder.name)):this.undoCallback=null;a.publish("WSFeedbackStart",[ws.string.substituteParams(Config.Strings.FolderEmptied,this.folder.displayName),!0,this.undoCallback])}),error:function(a){window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for model.emptyFolder-_emptyFolder file:EditFolderDialog.js");
ws.widget.Dialogs.ok(a||Config.Strings.EmptyFolderError)}})},renameFolder:function(){this.hide();this.model.renameFolder({name:this.folder.name,newName:ws.string.sanitize(this.renameInput.getValue()),error:a.hitch(this,function(b){window.ws_ErrLgr&&!b&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for model.renameFolder-renameFolder file:EditFolderDialog.js");ws.widget.Dialogs.ok(b||Config.Strings.FolderRenameError,a.hitch(this,"show",this.folder.name))})})},onKeyPressInputField:function(b){b.keyCode==
a.keys.ENTER&&(this.renameFolder(),b.preventDefault())}})})},"url:ws/address/ImportContactsWidget.css":"","ws/mail/MailFilterModalPane":function(){require({cache:{"url:ws/mail/MailFilterModalPane.html":'<div class="WSModalPane mailFilterModalPane">\n\t<div class="WSModalPaneInner">\n\t\t<div class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick: onCancel"></div>\n\t\t<div class="modalContainer">\n\t\t\t<h2 data-dojo-attach-point="filterNameLabel">${MailFilter_FilterNameLabel}</h2>\n\t\t\t<div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-attach-point="nameField" data-dojo-props="value:\'${MailFilter_FilterNameValue}\', doValueSelect:true, size:\'28\', maxlength:\'${maxFilterNameLength}\', fieldWidth:\'250px\'"></div>\n\t\t\n\t\t\t<table border="0" cellpadding="0" cellspacing="0" class="filterFormTable">\n\t\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t\t<td colspan="4"><h3>${MailFilter_FilterText1}:</h3></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td width="20%" class="labelCell">${From}</td>\n\t\t\t\t\t<td width="30%" class="valueCell"><div data-dojo-type="ws/address/SingleAddressField" data-dojo-attach-point="fromField" defaultValue="${MailFilter_EnterAnEmailAddress}" value="${from}" fieldWidth="200px" data-dojo-attach-event="onBlur: checkSpamTip"></div></td>\n\t\t\t\t\t\n\t\t\t\t\t<td width="20%" class="labelCell">${Cc}</td>\n\t\t\t\t\t<td width="30%" class="valueCell"><div data-dojo-type="ws/address/SingleAddressField" data-dojo-attach-point="ccField" defaultValue="${MailFilter_EnterAnEmailAddress}" fieldWidth="200px"></div></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class="labelCell">${To}</td>\n\t\t\t\t\t<td class="valueCell"><div data-dojo-type="ws/address/SingleAddressField" data-dojo-attach-point="toField" defaultValue="${MailFilter_EnterAnEmailAddress}" fieldWidth="200px"></div></td>\n\t\t\t\t\t<td class="labelCell">${Bcc}</td>\n\t\t\t\t\t<td class="valueCell">\n\t\t\t\t\t\t<div data-dojo-type="ws/widget/WSSelect" data-dojo-attach-point="bccMenu"></div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\t\t\n\t\t\t\t\t<td class="labelCell">${Subject}</td>\n\t\t\t\t\t<td class="valueCell"><div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-attach-point="subjectField" defaultValue="${MailFilter_EnterAWordOrPhrase}" value="${subject}" size="28" maxlength="${maxFilterFieldLength}" fieldWidth="200px"></div></td>\t\n\t\t\t\t\t\n\t\t\t\t\t<td class="labelCell">${MailFilter_ContainsThisWord}</td>\n\t\t\t\t\t<td class="valueCell"><div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-attach-point="containsField" defaultValue="${MailFilter_EnterAWordOrPhrase}" value="${alltext}" size="28" maxlength="${maxFilterFieldLength}" fieldWidth="200px"></div></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td colspan="4"><h3>${MailFilter_FilterText2}</h3></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td colspan="1" class="labelCell">${MailFilter_MoveToFolder}:</td>\n\t\t\t\t\t<td colspan="3" data-dojo-attach-point="bottomRow" class="valueCell">\n\t\t\t\t\t\t<div data-dojo-type="ws/widget/WSSelect" data-dojo-attach-point="moveToFolderSelect" data-dojo-attach-event="valueChanged: checkSpamTip"></div>\n\t\t\t\t\t\t<div data-dojo-attach-point="spamTip" class="spamTip" style="display:none;">\n\t\t\t\t\t\t\t<div class="spamTipText">${MailFilter_SpamTip2}</div>\n\t\t\t\t\t\t\t<div class="spamTipButtons">\n\t\t\t\t\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-props="toolbarPosition: \'center\'" data-dojo-attach-point="blockButton" data-dojo-attach-event="onClick: spamTipClicked" class="blockButton"></div>\n\t\t\t\t\t\t\t\t<a href="#" data-dojo-attach-event="onclick: removeSpamTip" class="wsLink NoThanks">${NoThanks}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr data-dojo-attach-point="DeliveryAlert" style="display:none;">\n\t\t\t\t\t<td class="labelCell">${MailFilter_AlertMe}</td>\n\t\t\t\t\t<td colspan="3" class="valueCell">\n\t\t\t\t\t\n\t\t\t\t\t\t<div data-dojo-type="ws/widget/Checkbox" data-dojo-attach-point="OnlineIMField" style="float:left"></div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div data-dojo-type="ws/widget/Checkbox" data-dojo-attach-point="DeviceField" style="display:none;float:left;margin-left:30px"></div>\n\n\t\t\t\t\t\t<div style="float:left;margin-top:6px">\n\t\t\t\t\t\t\t<a class="wsLink" href="#" title="${MailFilter_SetupMobilePhone}" data-dojo-attach-point="SetupMobilePhoneNode" data-dojo-attach-event="onclick: getMobileDevice" style="display:none;">${MailFilter_SetupMobilePhone}</a>\n\t\t\t\t\t\t\t<a class="wsLink" href="#" title="${MailFilter_AfterSetupMobilePhone}" data-dojo-attach-point="AfterSetupMobilePhoneNode" data-dojo-attach-event="onclick: callUDR" style="display:none;">${MailFilter_AfterSetupMobilePhone}</a>\n\t\t\t\t\t\t\t<a class="wsLink" href="#" data-dojo-attach-point="EditMobilePhoneNode" title="${MailFilter_EditMobilePhone}" data-dojo-attach-event="onclick: editMobileClicked" style="display:none;">${MailFilter_Edit}</a>\n\t\t\t\t\t\t\t<a class="wsLink" href="#" data-dojo-attach-point="AfterEditMobilePhoneNode" title="${MailFilter_AfterEditRefresh}" data-dojo-attach-event="onclick: callUDR" style="display:none;">${MailFilter_AfterEditRefresh}</a>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<span data-dojo-attach-point="phoneSelectDiv" style="display:none;">\n\t\t\t\t\t\t\t\t<span style="float:left;">${Cellular}:</span>\n\t\t\t\t\t\t\t\t<div data-dojo-type="ws/widget/WSSelect" data-dojo-attach-point="phoneSelect" class="phoneSelect"></div>\n\t\t\t\t\t\t\t</span>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\n\t\t\t<div data-dojo-type="ws/widget/WSToolbar" vizType="Bare" data-dojo-attach-point="toolbar">\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-props="toolbarPosition: \'left\'" data-dojo-attach-point="saveButton" data-dojo-attach-event="onClick: onSave">${Create}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-props="toolbarPosition: \'left\'" type="Bare" data-dojo-attach-point="cancelButton" data-dojo-attach-event="onClick: onCancel">${Cancel}</div>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\n</div>',
"url:ws/mail/MailFilterModalPane.css":""}});define("ws/mail/MailFilterModalPane","dojo/_base/declare,dojo/text!ws/mail/MailFilterModalPane.html,dojo/text!ws/mail/MailFilterModalPane.css,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,ws/widget/WSModalPane,ws/mail/MailFilterModel,ws/mail/MailFilters,ws/widget/WSMenu,ws/widget/WSMenuItem,ws/widget/WSMenuSeparator,ws/io,ws/mail/MailModel,ws/widget/WSToolbar,ws/widget/DefaultTextbox,ws/address/SingleAddressField,ws/widget/Button,ws/widget/Checkbox,ws/widget/WSSelect,ws/WebSuite,ws/reporting".split(","),
function(l,g,k,a,m,j,f,e,d,b,c,o,h){return l([d,f,e],{templateString:g,css:{templateString:k},mailModel:null,filterModel:null,subject:"",from:"",alltext:"",moveToFolder:"",filterAlertOnlineAIM:!1,filterAlertDevice:!1,maxFilterNameLength:Config.MaxFilterNameLength,maxFilterFieldLength:Config.MaxFilterFieldLength,filterList:new c,kidTeenAccount:"Y"==ws.UserContext.ParentalControls||"K"==ws.UserContext.ParentalControls,startup:function(){this.inherited(arguments);this._updateMoveToFolders();this._updateBccMenu();
if("ANGELIA"==ws.UserContext.MailboxType&&Config.FilterToAlertEnabled&&!this.kidTeenAccount)this.DeliveryAlert.style.display="",this.OnlineIMField.setLabel(ws.string.substituteParams(Config.Strings.MailFilter_DeliverAlertAIM,ws.UserContext.UserScreenName)),this.DeviceField.show(),this.checkDeviceRegistered();this.filterModel?(ws.html.setInnerText(this.filterNameLabel,Config.Strings.MailFilter_FilterEditLabel),this.saveButton.setLabel(Config.Strings.Save),this.fillInForm()):(this.checkFilterListLength(),
this.saveButton.setLabel(Config.Strings.Create),this.setMoveToFolder(this.moveToFolder));this.checkSpamTip();this.domNode.style.zIndex="998";this.bg.style.zIndex="997"},show:function(){this.inherited(arguments);6==a.isIE&&this.nameField.textbox.setFocus()},fillInForm:function(){this.nameField.setValue(this.filterModel.filterName);this.fromField.setValue(this.filterModel.from,!0);this.toField.setValue(this.filterModel.to,!0);this.ccField.setValue(this.filterModel.cc,!0);this.bccMenu.setOptionByValue(this.filterModel.bcc);
this.subjectField.setValue(this.filterModel.subject);this.containsField.setValue(this.filterModel.messageContains);this.setMoveToFolder(this.filterModel.moveToFolder);this.OnlineIMField.setChecked(this.filterModel.filterAlertOnlineAIM);this.DeviceField.setChecked(this.filterModel.filterAlertDevice)},setMoveToFolder:function(a){(!a||!this.moveToFolderSelect.setOptionByValue(a))&&this.moveToFolderSelect.setOption(0)},getErrors:function(){var b=[];""==a.trim(this.nameField.getValue())&&b.push(Config.Strings.MailFilter_ErrorNoFilterName);
""==a.trim(this.fromField.getValue())&&""==a.trim(this.toField.getValue())&&""==a.trim(this.ccField.getValue())&&""==a.trim(this.bccMenu.currentValue)&&""==a.trim(this.subjectField.getValue())&&""==a.trim(this.containsField.getValue())&&b.push(Config.Strings.MailFilter_ErrorNoCriteria);var h=this.fromField.getValue()+this.toField.getValue()+this.ccField.getValue()+this.bccMenu.currentValue;(-1!=h.indexOf(" ")||-1!=h.indexOf(",")||-1!=h.indexOf(";"))&&b.push(Config.Strings.MailFilter_ErrorTooManyWords);
"ANGELIA"==ws.UserContext.MailboxType&&Config.FilterToAlertEnabled?!this.filterToAlertEnabled()&&""==this.moveToFolderSelect.currentValue&&b.push(Config.Strings.MailFilter_ErrorNoMoveToFolderFilterToAlert):""==this.moveToFolderSelect.currentValue&&b.push(Config.Strings.MailFilter_ErrorNoMoveToFolder);(this.invalidCriteria(this.nameField.getValue())||this.invalidCriteria(this.subjectField.getValue())||this.invalidCriteria(this.containsField.getValue()))&&b.push(Config.Strings.MailFilter_ErrorInvalidCriteriaChars);
(this.invalidEmail(this.fromField.getValue())||this.invalidEmail(this.ccField.getValue())||this.invalidEmail(this.toField.getValue()))&&b.push(Config.Strings.MailFilter_ErrorInvalidEmailChars);return b},filterToAlertEnabled:function(){return this.OnlineIMField.checked||this.DeviceField.checked?!0:!1},onCancel:function(){var a=Config.Strings.ConfirmSaveSettings,a=a.replace(/\\n/g,"\n");if(this.filterModel)if(this.nameField.getValue()==this.filterModel.filterName&&this.fromField.getValue()==this.filterModel.from&&
this.toField.getValue()==this.filterModel.to&&this.ccField.getValue()==this.filterModel.cc&&this.subjectField.getValue()==this.filterModel.subject&&this.containsField.getValue()==this.filterModel.messageContains&&this.moveToFolderSelect.currentValue==this.filterModel.moveToFolder&&this.OnlineIMField.checked==this.filterModel.filterAlertOnlineAIM&&this.DeviceField.checked==this.filterModel.filterAlertDevice)this.hide();else if(confirm(a))this.onSave();else this.hide();else if(this.nameField.getValue()==
Config.Strings.MailFilter_FilterNameValue&&""==this.fromField.getValue()&&""==this.toField.getValue()&&""==this.ccField.getValue()&&""==this.subjectField.getValue()&&""==this.containsField.getValue()&&""==this.moveToFolderSelect.currentValue)this.hide();else if(confirm(a))this.onSave();else this.hide()},onSave:function(){this.saveButton.setEnabled(!1);if(!this.filterModel)this.filterModel=new b;this._cleanFilterForm();var h=this.getErrors();if(0<h.length){for(var c="<h3 style='margin:0;padding:0'>"+
Config.Strings.ErrorHeader+"</h3><ul style='margin:0;padding:10px 5px 10px 25px'>",d=0;d<h.length;d++)c+="<li>"+h[d]+"</li>";this.domNode.style.display="none";ws.widget.Dialogs.ok(c+"</ul>",a.hitch(this,function(){this.domNode.style.display="";this.saveButton.setEnabled(!0)}))}else this._populateFilterFromForm(),-1==this.filterModel.filterId?(this.filterModel.createFilter({load:a.hitch(this,function(b){ws.WebSuite?(this.saveButton.setEnabled(!0),this.hide(),a.publish("WSMailFilter/Filter/Modify",
[b.filterList])):this.hide()}),error:a.hitch(this,function(b){this.hide(!0);window.ws_ErrLgr&&!b&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for filterModel.createFilter-onSave file:MailFilterModalPane.js");ws.widget.Dialogs.ok(b||Config.Strings.MailFilter_ErrorCreating,a.hitch(this,function(){this.show();this.saveButton.setEnabled(!0)}))})}),ws.reporting.reportDLAction("Mail-Settings-Filter-Add")):(this.filterModel.modifyFilter({filterId:this.filterModel.filterId,
load:a.hitch(this,function(b){this.saveButton.setEnabled(!0);this.hide();a.publish("WSMailFilter/Filter/Modify",[b.filterList])}),error:a.hitch(this,function(b){this.hide(!0);window.ws_ErrLgr&&!b&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for filterModel.modifyFilter-onSave file:MailFilterModalPane.js");ws.widget.Dialogs.ok(b||Config.Strings.MailFilter_ErrorCreating,a.hitch(this,function(){this.show();this.saveButton.setEnabled(!0)}))})}),ws.reporting.reportDLAction("Mail-Settings-Filter-Edit"))},
_updateBccMenu:function(){var a=[];a.push({display:Config.Strings.None,value:""});a.push({display:ws.string.summary(ws.UserContext.UserAddress,23),value:ws.UserContext.UserAddress});this.bccMenu.setOptions(a)},_updateMoveToFolders:function(){if(!this.mailModel)this.mailModel=ws.WebSuite.theMailModel;var b=ws.lang.difference(this.mailModel.getFoldersCanMoveToFromInbox(),Config.FoldersToExcludeForFilters),h=[];h.push({display:Config.Strings.MailFilter_MoveToFolder+"...",value:"",selected:!0});for(var c=
0;c<this.mailModel.folders.length;c++)-1!=a.indexOf(b,this.mailModel.folders[c].name)&&h.push({display:ws.string.escapeXml(ws.string.summary(this.mailModel.folders[c].displayName,23)),value:this.mailModel.folders[c].name});h.push({isSeparator:!0});h.push({display:Config.Strings.NewFolder,value:"",_onClick:a.hitch(this,"newFolder")});this.moveToFolderSelect.setOptions(h);this.folderMenu=b=this.moveToFolderSelect.getMenu();h=this.folderMenu.getChildren();this.newFolderMenuItem=h[h.length-1];a.addClass(b.domNode,
"mailFilterMoveToMenu");if(6==a.isIE)b.domNode.style.width=b.getBorderBoxWidth()+10+"px"},newFolder:function(b){b&&b.stopPropagation();require(["ws/widget/WSInputableMenuItem"],a.hitch(this,function(b){if(!this.newFolderInputMenuItem)this.newFolderInputMenuItem=new b({okCB:a.hitch(this,"createNewFolder"),defaultValue:Config.Strings.NewFolder,originalMenuItem:this.newFolderMenuItem,maxlength:ws.mail.folderName.MaxLength}),this.folderMenu.addChild(this.newFolderInputMenuItem);ws.lang.setTimeout(this,
function(){this.newFolderInputMenuItem.show();this.newFolderMenuItem.hide();this.folderMenu.domNode.scrollTop=this.folderMenu.domNode.scrollHeight;this.newFolderInputMenuItem.initializeText(Config.Strings.NewFolder);if(!a.isIE&&8<this.folderMenu.getChildren().length)a.query(".inputableItemLabel",this.newFolderInputMenuItem.domNode)[0].style.paddingRight="16px"},0)}))},checkFilterListLength:function(){this.filterList.clear();this.filterList.loadFromRpc({load:a.hitch(this,function(a){a.filterList.length>=
Config.MaxFilters&&(ws.widget.Dialogs.ok(ws.string.substituteParams(Config.Strings.MailFilter_ErrorMaxCount,Config.MaxFilters)),this.hide(!0))})})},editMobileClicked:function(){this.EditMobilePhoneNode.style.display="none";this.AfterEditMobilePhoneNode.style.display="";var a=Config.MobilePhoneLink,a=a.replace(/\{0\}/,ws.UserContext.Locale);ws.io.openWindow(a)},getMobileDevice:function(){this.SetupMobilePhoneNode.style.display="none";this.AfterSetupMobilePhoneNode.style.display="";var a=Config.MobilePhoneLink,
a=a.replace(/\{0\}/,ws.UserContext.Locale);ws.io.openWindow(a)},callUDR:function(){this.checkDeviceRegistered()},checkDeviceRegistered:function(){this.filterList.getMobileNumber({load:a.hitch(this,function(b){if(""!=b.filterAlertDeviceNumber&&"false"!=b.filterAlertDeviceNumber){var h=eval("("+b.filterAlertDeviceNumber+")");if(1<h.length){var c=[];a.forEach(h,function(a){c.push({display:a.number,value:a.id})});this.phoneSelect.setOptions(c);this.phoneSelectDiv.style.display=""}else b=ws.string.substituteParams(Config.Strings.MailFilter_DeliverAlertDevice,
this.formatDeviceNumber(b.filterAlertDeviceNumber)),this.DeviceField.setLabel(b),this.DeviceField.setDisabled(!1),this.AfterSetupMobilePhoneNode.style.display="none",this.SetupMobilePhoneNode.style.display="none",this.EditMobilePhoneNode.style.display="",this.AfterEditMobilePhoneNode.style.display="none"}else"false"==b.filterAlertDeviceNumber?(this.filterModel?(this.DeviceField.setChecked(this.filterModel.filterAlertDevice),this.DeviceField.checked?(this.DeviceField.setDisabled(!1),b=ws.string.substituteParams(Config.Strings.MailFilter_DeliverAlertDevice,
""),this.DeviceField.setLabel(b)):(this.DeviceField.setDisabled(!0),this.DeviceField.setChecked(!1))):(this.DeviceField.setDisabled(!0),this.DeviceField.setChecked(!1)),this.SetupMobilePhoneNode.style.display="",this.EditMobilePhoneNode.style.display="none",this.AfterSetupMobilePhoneNode.style.display="none",this.AfterEditMobilePhoneNode.style.display="none"):(this.SetupMobilePhoneNode.style.display="",this.EditMobilePhoneNode.style.display="none",this.AfterSetupMobilePhoneNode.style.display="none",
this.AfterEditMobilePhoneNode.style.display="none",this.DeviceField.setDisabled(!0),this.DeviceField.setChecked(!1),this.DeviceField.setLabel(""))})})},formatDeviceNumber:function(a){return""!=a&&10==a.length?a.substr(0,3)+"-"+a.substr(3,3)+"-"+a.substr(6):a},createNewFolder:function(b){if(b&&b.newName){var c=Config.NewFolderPrefix+b.newName;if(ws.mail.folderName.validate(b.newName,c,null,this.mailModel.folders)){var d=this.moveToFolderSelect.options;d.splice(d.length-2,0,{display:ws.string.escapeXml(ws.string.summary(b.newName,
23)),value:c});this.moveToFolderSelect.setOption(d.length-3);var e=this.moveToFolderSelect.getMenu(),j=new h({caption:ws.string.escapeXml(ws.string.summary(b.newName,23))});j.startup();j.onClick=a.hitch(this.moveToFolderSelect,"setOption",d.length-3,!0);e.addChild(j,e.getChildren().length-3);this.mailModel.createFolder({newName:b.newName,load:a.hitch(this,function(b){this.moveToFolderSelect.currentValue=b.iName;a.publish("WSFeedbackStart",[Config.Strings.FolderCreated,!0]);this.checkSpamTip()}),error:a.hitch(this,
function(a){var h=this.moveToFolderSelect.options;h.splice(h.length-3,1);this.moveToFolderSelect.setOption(0);e.removeChild(j);window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for mailModel.createFolder-createNewFolder file:MailFilterModalPane.js");ws.widget.Dialogs.ok(a?a:ws.string.substituteParams(Config.Strings.ErrorCreatingFolder,b.newName))})})}}return!1},_cleanFilterForm:function(){this.fromField.setValue(this.formatEmailAddress(ws.string.sanitize(this.fromField.getValue())),
!0);this.ccField.setValue(this.formatEmailAddress(ws.string.sanitize(this.ccField.getValue())),!0);this.toField.setValue(this.formatEmailAddress(ws.string.sanitize(this.toField.getValue())),!0);this.nameField.setValue(ws.string.sanitize(this.nameField.getValue()));this.subjectField.setValue(ws.string.sanitize(this.subjectField.getValue()));this.containsField.setValue(ws.string.sanitize(this.containsField.getValue()))},_populateFilterFromForm:function(){this.filterModel.filterName=this.nameField.getValue();
this.filterModel.from=this.fromField.getValue();this.filterModel.cc=this.ccField.getValue();this.filterModel.to=this.toField.getValue();this.filterModel.bcc=this.bccMenu.currentValue;this.filterModel.subject=this.subjectField.getValue();this.filterModel.messageContains=this.containsField.getValue();this.filterModel.moveToFolder=this.moveToFolderSelect.currentValue;this.filterModel.filterAlertOnlineAIM=this.OnlineIMField.checked;this.filterModel.filterAlertDevice=this.DeviceField.checked;this.filterModel.filterAlertDeviceId=
this.phoneSelect.currentValue},invalidCriteria:function(a){return-1!=a.search(/[\"\\]/)},invalidEmail:function(a){return-1!=a.search(/[\"\\]/)},formatEmailAddress:function(a){if(a&&0<a.length){var b=a.search(/@/);-1==b?a=-1==a.search(/\./)?a+("@"+Settings.ud):null==a.substring(a.lastIndexOf(".")).match(/\.(?:[a-zA-Z]{2}|com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum)$/)?a+("@"+Settings.ud):"*@"+a:0==b&&(a="*"+a)}return a},getButtonLabel:function(){var b=this.fromField.getValue(),b=this.fromField.getValue(),
h=b.split(/[\s+,;]/),c=0;a.forEach(h,a.hitch(this,function(a){a&&0<a.length&&c++}));return 1<c?ws.string.substituteParams(Config.Strings.MailFilter_BlockAddresses,c):ws.string.substituteParams(Config.Strings.MailFilter_Block,b)},checkSpamTip:function(){var a=this.fromField.getValue();"Spam"==this.moveToFolderSelect.currentValue&&0<a.length&&Config.EnableSpamSettings?(this.spamTip.style.display="",this.DeliveryAlert.style.display="none",this.toolbar.hide(),this.blockButton.setLabel(this.getButtonLabel(a)),
this.blockButton.setTitle(a),this.bottomRow.style.backgroundColor="#FFFBB1"):this.removeSpamTip();this.toolbar.layout()},removeSpamTip:function(){this.spamTip.style.display="none";this.bottomRow.style.backgroundColor="";if("ANGELIA"==ws.UserContext.MailboxType&&Config.FilterToAlertEnabled&&!this.kidTeenAccount)this.DeliveryAlert.style.display="";this.toolbar.show();this.toolbar.layout()},spamTipClicked:function(){var b=this.fromField.getValue();(_ws_isOpenerWS()?opener.ws.WebSuite:ws.WebSuite).openSettings("spamSettings",
a.hitch(this,function(b){if(b&&0<b.length){var h=_ws_isOpenerWS()?opener.dijit.byId("SpamSettings"):m.byId("SpamSettings");h.spamAddressSelect.setOption(0);h.onSpamAddressChange();b=b.split(/[\s*,;]/);a.forEach(b,a.hitch(this,function(a){a&&0<a.length&&h.addSenderBlockAddress(a)}));h.onChange();_ws_isOpenerWS()&&opener.focus()}},b));this.hide(!0)}})})},"url:ws/address/DistributionListWidget.css":"","url:ws/themes/widget/ThemePickerDialog.css":"","url:ws/mail/EditFolderDialog.css":"","ws/dnd/DragSource":function(){define("ws/dnd/DragSource",
["dojo/_base/declare"],function(l){return l(null,{type:"",onDragEnd:function(){},onDragStart:function(){},onSelected:function(){},unregister:function(){ws.dnd.dragManager.unregisterDragSource(this)},reregister:function(){ws.dnd.dragManager.registerDragSource(this)}})})},"ws/dnd/DragObject":function(){define("ws/dnd/DragObject",["dojo/_base/declare"],function(l){return l(null,{type:"",register:function(){var g=ws.dnd.dragManager;g.registerDragObject&&g.registerDragObject(this)},onDragStart:function(){},
onDragMove:function(){},onDragOver:function(){},onDragOut:function(){},onDragEnd:function(){}})})},"url:ws/widget/FeedbackIframeDlg.css":"","url:ws/widget/FeedbackPane.html":'<div class="fdbkPaneCntr">\n\t<div class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick:close"></div>\n\t<div class="fdbkPane">\n\t\t<div class="fdbkPaneEntry" data-dojo-attach-point="entryPane">\n\t\t\t<div class="fdbkPaneTitle">We want to hear from you!</div>\n\t\t\t<ul data-dojo-attach-point="fdbkOptions">\n\t\t\t\t<li data-dojo-attach-event="onclick:openHelp">\n\t\t\t\t\t<div class="feedbackSprite fdbkOpt1"></div>\n\t\t\t\t\t<span class="wsLink">Need Help?</span>\n\t\t\t\t</li>\n\t\t\t\t<li data-dojo-attach-event="onclick:openShare">\n\t\t\t\t\t<div class="feedbackSprite fdbkOpt2"></div>\n\t\t\t\t\t<span class="wsLink">Share an idea</span>\n\t\t\t\t</li>\n\t\t\t\t<li data-dojo-attach-event="onclick:showFeedbackPane">\n\t\t\t\t\t<div class="feedbackSprite fdbkOpt3"></div>\n\t\t\t\t\t<span class="wsLink">Got Feedback?</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="fbLike">\n\t\t\t\t<span>Or like us on Facebook</span>\n\t\t\t\t<div>\n\t\t\t\t\t<iframe src="//www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Faolmail&amp;send=false&amp;layout=standard&amp;width=385&amp;show_faces=true&amp;action=like&amp;colorscheme=light&amp;font&amp;height=80&amp;appId=8160671994" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:385px; height:60px;" allowTransparency="true"></iframe>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="fdbkPaneDiv" data-dojo-attach-point="iframeDiv"></div>\n\t</div>\n\t<\!-- <div class="wsPointer wsPointerShadow wsPointer-right" data-dojo-attach-point="arrow"></div> --\>\n</div>',
"url:ws/address/ContactDetails.html":'<div class="contactDetail">\n\t<div data-dojo-type="dijit/layout/BorderContainer" data-dojo-attach-point="layoutWidget" style="height: 100%; width: 100%;">\n\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-attach-point="toolbar" data-dojo-props="region:\'top\'" vizType="Controls">\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:emailContact" data-dojo-attach-point="emailButton" title="${EmailContactTip}" iconClassName="composeIcon">${SendEmail}</div>\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:showEditContact" data-dojo-attach-point="editButton" title="${EditContactTip}" iconClassName="editIcon">${Edit}</div>\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:deleteContact" data-dojo-attach-point="deleteButton" title="${Delete}" iconClassName="delIcon">${Delete}</div>\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:printContact" data-dojo-attach-point="printButton" iconClassName="printIcon">${PrintButton}</div>\n\t\t\t<div data-dojo-type="ws/widget/Button" style="display:none" data-dojo-attach-event="onClick:addToTopContacts" data-dojo-attach-point="addToTopContactsButton" title="${TopContacts_AddToTopContactsTip}">${TopContacts_AddToTopContacts}</div>\n\t\t\t<div data-dojo-type="ws/widget/Button" style="display:none" data-dojo-attach-event="onClick:removeFromTopContacts" data-dojo-attach-point="removeFromTopContactsButton" title="${TopContacts_RemoveFromTopContactsTip}">${TopContacts_RemoveFromTopContacts}</div>\n\t\t\t\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:close" data-dojo-attach-point="cancelButton" title="${CloseContactTip}" iconClassName="cancelIcon" data-dojo-props="toolbarPosition: \'right\'"></div>\n\t\t</div>\n\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-attach-point="searchInfoPane" class="searchInfo" data-dojo-props="region:\'top\'" style="display:none">\n\t\t\t<div class="searchData">\n\t\t\t\t<span class="wsLink" data-dojo-attach-point="searchResultsNode" data-dojo-attach-event="onclick: close"></span>\n\t\t\t\t<div class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick:clearSearch"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-attach-point="regularPane" data-dojo-props="region:\'center\'" class="mainContent">\n            <div>\n                <div style="margin-bottom: 15px;overflow: hidden;">\n                    <div class="iconPane">\n                        <div data-dojo-type="ws/widget/BuddyIcon" data-dojo-attach-point="buddyIcon"></div>\n                    </div>\n                    <div class="nameRow" data-dojo-attach-point="nameRow">\n                        <span class="infoLabel"></span>\n                        <span width="100%">\n                            <div class="nameInfo">\n                                <span data-dojo-attach-point="nameInfo"></span>\n                            </div>\n                        </span>\n                    </div>\n                    <a class="editLink" href="#" data-dojo-attach-event="onclick:showEditContact" data-dojo-attach-point="editButton">${Edit}</a>\n                </div>\n                <div data-dojo-attach-point="displayNameRow">\n                    <span class="infoLabel">${DisplayNameWithColon}</span>\n                    <span width="100%" valign="top"><span data-dojo-attach-point="displayNameInfo" class="primaryInfo"></span></span>\n                </div>\n                <div data-dojo-attach-point="nickNameRow" class="nickNameDiv">\n                    <span class="infoLabel">${NickNameWithColon}</span>\n                    <span data-dojo-attach-point="nickNameInfo" class="nickNameInfo"></span>\n                </div>\n                <div data-dojo-attach-point="screenNameRow">\n                    <span class="infoLabel">${ScreenNameWithColon}</span>\n                    <span width="100%" valign="top"><a href="#" data-dojo-attach-point="screenNameInfo" class="emailLink"></a></span>\n                </div>\n                <div data-dojo-attach-point="email1Row">\n                    <span class="infoLabel">${Email1WithColon}</span>\n                    <span width="100%" valign="top"><a href="#" data-dojo-attach-point="email1Info" class="emailLink"></a></span>\n                </div>\n                <div data-dojo-attach-point="email2Row">\n                    <span class="infoLabel">${Email2WithColon}</span>\n                    <span width="100%" valign="top"><a href="#" data-dojo-attach-point="email2Info" class="emailLink"></a></span>\n                </div>\n                <div data-dojo-attach-point="phone1Row">\n                    <span class="infoLabel">${PhonePrimaryWithColon}</span>\n                    <span width="100%" valign="top"><span data-dojo-attach-point="phone1Info" class="primaryInfo"></span></span>\n                </div>\n                <div data-dojo-attach-point="phone2Row">\n                    <span class="infoLabel">${PhoneOtherWithColon}</span>\n                    <span width="100%"valign="top"><span data-dojo-attach-point="phone2Info" class="primaryInfo"></span></span>\n                </div>\n                <div data-dojo-attach-point="phone3Row">\n                    <span class="infoLabel">${PhoneOtherWithColon}</span>\n                    <span width="100%" valign="top"><span data-dojo-attach-point="phone3Info" class="primaryInfo"></span></span>\n                </div>\n                <div data-dojo-attach-point="phone4Row">\n                    <span class="infoLabel">${PhoneOtherWithColon}</span>\n                    <span width="100%" valign="top"><span data-dojo-attach-point="phone4Info" class="primaryInfo"></span></span>\n                </div>\n                <div data-dojo-attach-point="phone5Row">\n                    <span class="infoLabel">${PhoneOtherWithColon}</span>\n                    <span width="100%" valign="top"><span data-dojo-attach-point="phone5Info" class="primaryInfo"></span></span>\n                </div>\n\n                <div data-dojo-attach-point="categoryRow">\n                    <span class="infoLabel">${CategoryWithColon}</span>\n                    <span width="100%" valign="top"><span data-dojo-attach-point="categoryInfo" class="primaryInfo"></span></span>\n                </div>\n\n                <div data-dojo-attach-point="workRow">\n                    <div class="headerLabels">${CompanyInfo}</div>\n                    <div><span data-dojo-attach-point="companyInfo" class="primaryInfo"></span></div>\n                    <div><span data-dojo-attach-point="jobTitleInfo" class="primaryInfo"></span></div>\n                    <div><span data-dojo-attach-point="deptInfo" class="primaryInfo"></span></div>\n\n                </div>\n                <div data-dojo-attach-point="workAddressRow">\n                    <div class="headerLabels">${CompanyAddress}</div>\n                    <div data-dojo-attach-point="workAddressInfo" class="primaryInfo"></div>\n                </div>\n                <div data-dojo-attach-point="homeRow">\n                    <div class="headerLabels">${HomeAddress}</div>\n                    <div class="primaryInfo" data-dojo-attach-point="homeAddressInfo"></div>\n                </div>\n                <div data-dojo-attach-point="personalInfoHeader">\n                    <div class="headerLabels">${PersonalInfo}</div>\n                    <div data-dojo-attach-point="personalSpouseRow">\n                        <span class="infoLabel">${SpouseWithColon}</span>\n                        <span width="100%" valign="top"><span data-dojo-attach-point="personalSpouseInfo" class="primaryInfo"></span></span>\n                    </div>\n                    <div data-dojo-attach-point="personalFamilyRow">\n                        <span class="infoLabel">${FamilyWithColon}</span>\n                        <span width="100%" valign="top"><span data-dojo-attach-point="personalFamilyInfo" class="primaryInfo"></span></span>\n                    </div>\n                    <div data-dojo-attach-point="personalBirthdayRow">\n                        <span class="infoLabel">${BirthdayWithColon}</span>\n                        <span width="100%" valign="top"><span data-dojo-attach-point="personalBirthdayInfo" class="primaryInfo"></span></span>\n                    </div>\n                    <div data-dojo-attach-point="personalAnniversaryRow">\n                        <span class="infoLabel">${AnniversaryWithColon}</span>\n                        <span width="100%" valign="top"><span data-dojo-attach-point="personalAnniversaryInfo" class="primaryInfo"></span></span>\n                    </div>\n                    <div data-dojo-attach-point="personalNotesRow">\n                        <span class="infoLabel">${NotesWithColon}</span>\n                        <span width="100%" valign="top"><span data-dojo-attach-point="personalNotesInfo" class="primaryInfo"></span></span>\n                    </div>\n                </div>\n            </div>\n\t\t</div>\n\t</div>\n</div>\n',
"url:ws/address/AddressListView.html":'<div>\n\t<div class="addressListView" data-dojo-type="dijit/layout/StackContainer" data-dojo-attach-point="stackWidget" style="height: 100%; width: 100%;">\n\t\t<div class="listView addressListView" data-dojo-type="dijit/layout/BorderContainer" data-dojo-attach-point="layoutWidget">\n\t\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-props="region:\'top\'" data-dojo-attach-point="toolbar" vizType="Controls">\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:newContact" iconClassName="newContactIcon" tip="${NewContact} <span>(${KeyNewContact})</span>">${NewContact}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:newDistributionList" iconClassName="newDistroIcon">${NewList}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:deleteSelection" data-dojo-attach-point="deleteButton" tip="${DeleteButton} <span>(${DeleteKey})</span>" iconClassName="delIcon">${DeleteButton}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/DropDownButton" data-dojo-attach-point="toolsButton" title="${ActionButtonTip}" iconClassName="actionIcon">${ToolsButton}</div>\n\t\t\t\t<div data-dojo-attach-point="printButton" data-dojo-type="ws/widget/DropDownButton" title="${PrintContactsTip}" iconClassName="printIcon">${PrintButton}</div>\n\t\t\t\t<\!--<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: LocateOnMap" data-dojo-attach-point="mapButton">${LocateOnMapButton}</div>--\>\n\t\t\t\t<div data-dojo-props="toolbarPosition: \'right\',\'class\': \'filterLink\'" data-dojo-type="ws/widget/DropDownLink" data-dojo-attach-point="filterButton"></div>\n\t\t\t</div>\n\t\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-attach-point="searchInfoPane" class="searchInfo" data-dojo-props="region:\'top\'" style="display:none">\n\t\t\t\t<div class="searchData">\n\t\t\t\t\t<span data-dojo-attach-point="searchResultsNode"></span>\n\t\t\t\t\t<div class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick:clearSearch"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'center\'">\n\t\t\t\t<div data-dojo-attach-point="grid" data-dojo-type="dojox.grid.Grid"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-attach-point="emptyPane"/>\n\t</div>\n</div>\n',
"url:ws/address/ComposeAddressField.css":"","ws/calendar/TodoEditDialog":function(){require({cache:{"url:ws/calendar/TodoEditDialog.html":'<div class="todoAppEditDlg" style="display: none;">\n\t<div class="inner">\n\t\t<div  class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick: closeCard"></div>\n\t\t<div class="todoTitle">${EditTodoTitle}</div>\n\n\t\t<input type="text" data-dojo-attach-point="taskNameInput" maxlength="100" class="wsInput taskNameInput default" data-dojo-attach-event="onfocus: onFocus, onblur: onBlur, onkeypress: onKeyPressInput"/>\n\n\t\t<div class="dueDateDiv">\n\t\t\t<div class="dueDateLabel">${DueDate}</div>\n\t\t\t<div class="dueDateCont">\n\t\t\t\t<div class="mainSprite calIcon icon"></div>\n\t\t\t\t<input type="text" data-dojo-attach-point="dueDateInput" class="wsInput dueDateInput" data-dojo-attach-event="onblur: reminderOnBlur, onfocus: reminderOnFocus, onchange: onChange, onkeypress: onKeyPressInput"/>\n\t\t\t</div>\n            <div class="clearBoth"></div>\n\t\t</div>\n        <div class="separator" data-dojo-attach-point="reminderRowSeparator"></div>\n\t\t<div class="reminderMenuRow" data-dojo-attach-point="reminderMenuRow">\n            <div class="mainSprite reminderMenuIcon icon"></div>\n            <ul data-dojo-type="ws/widget/WSSelect" data-dojo-attach-point="reminderMenu" size="byValue">\n\t\t\t\t<li value="noReminder">${NoReminder}</li>\n\t\t\t\t<li value="remindAt">${RemindMeAt}</li>\n\t\t\t</ul>\n\t\t\t<input type="text" class="wsInput reminderTimeSelectDefault" data-dojo-attach-point="reminderTimeSelect" />\n\t\t</div>\n\t\t<div data-dojo-attach-point="reminderDetailsRow" class="reminderDetailsDiv" style="display:none">\n\t\t\t<ul data-dojo-type="ws/widget/WSSelect" data-dojo-attach-point="dueDateSelect">\n\t\t\t\t<li value="Default">${OnDueDate}</li>\n\t\t\t\t<li value="OneDayBefore">${OneDayBefore}</li>\n\t\t\t\t<li value="TwoDaysBefore">${TwoDaysBefore}</li>\n\t\t\t\t<li value="OneWeekBefore">${OneWeekBefore}</li>\n\t\t\t\t<li value="OnThisDate">${OnThisDate}</li>\n\t\t\t</ul>\n\t\t\t<input type="text" class="wsInput remindDateInput" data-dojo-attach-point="remindAtEndInput" style="display:none" />\n\t\t</div>\n        <div class="separator"></div>\n\t\t<div data-dojo-attach-point="addNoteInputRow" class="addNoteInputDiv">\n            <div class="mainSprite icon iconNotes"></div>\n            <div defaultValue="${Panel_TodoPanel_EnterNote}" class="addNoteInputDefault" data-dojo-attach-point="addNoteInput" data-dojo-type="ws/widget/DefaultTextarea"></div>\n\t\t\t<\!--<textarea data-dojo-attach-event="onclick:changeDefaultTextForNote" data-dojo-attach-point="addNoteInput" class="addNoteInputDefault" wrap="virtual"></textarea>--\>\n\t\t</div>\n\t\t<div class="updateBtnRow">\n\t\t\t<div data-dojo-attach-point="updateButton" data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: updateTask">${UpdateItem}</div>\n\t\t</div>\n\t\t<div data-dojo-type="ws/widget/PopupDatePicker" data-dojo-attach-point="dueDatePopupPicker" hidePickerOnSetDate="true" closeOnMouseOut="true"></div>\n\t\t<div data-dojo-type="ws/widget/PopupTimePicker" data-dojo-attach-point="eventTimePopupPicker" closeOnMouseOut="true"></div>\n\t\t<span style="clear: both;"></span>\n\t</div>\n</div>',
"url:ws/calendar/TodoEditDialog.css":""}});define("ws/calendar/TodoEditDialog","dojo/_base/declare,dojo/text!ws/calendar/TodoEditDialog.html,dojo/text!ws/calendar/TodoEditDialog.css,dojo,dijit,ws/widget/WSModalPane,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dijit/layout/BorderContainer,dijit/layout/StackContainer,ws/io,ws/calendar/CalendarViewModel,ws/calendar/calutil,ws/date,ws/string,ws/widget/PopupDatePicker,ws/widget/PopupTimePicker,ws/widget/util,ws/widget/WSSelect,ws/widget/DefaultTextbox,ws/widget/DefaultTextarea,ws/calendar/TodoUtil".split(","),
function(l,g,k,a,m,j,f,e){return l([j,f,e],{templateString:g,css:{templateString:k},_earlyTemplatedStartup:!0,model:null,taskName:null,dateHasBeenChosen:!1,taskNameInputDefaultValue:Config.Strings.EnterTask,addTaskInputDefaultValue:Config.Strings.EnterTask,dueDateDefaultValue:Config.Strings.Panel_TodoPanel_NoDueDate,noteDefaultValue:Config.Strings.Panel_TodoPanel_EnterNote,timeFormat:Config.Strings.CalTimeFormatRange1,timeFormatShort:Config.Strings.CalTimeFormatRange2,reminderFlag:!1,noteFlag:!1,
currentTaskUID:null,_sortBy:"DueTime",_sortDir:"Decending",startup:function(){this.connect(this.domNode,"onclick","generalClickHandler");this.dueDateInput.onclick=a.hitch(this,"showDueDatePopupPicker",this.dueDateInput);this.dueDateInput.onfocus=a.hitch(this,"showDueDatePopupPicker",this.dueDateInput);this.remindAtEndInput.onclick=a.hitch(this,"showDueDatePopupPicker",this.remindAtEndInput);this.reminderTimeSelect.onclick=a.hitch(this,"showTimePicker",this.reminderTimeSelect);a.connect(this.dueDatePopupPicker.datePicker,
"selectDateConnect",this,"fillInDateField");a.connect(this.eventTimePopupPicker.timePicker,"selectTimeConnect",this,"fillInTimeField");a.connect(this.reminderMenu,"valueChanged",this,"handleReminder");a.connect(this.dueDateSelect,"valueChanged",this,"dueDateSelected");this.defaultView()},generalClickHandler:function(d){d.target&&a.hasClass(d.target,"calIcon")&&(this.showDueDatePopupPicker(this.dueDateInput),this.dueDateInput.focus(),a.isFF&&this.reminderOnFocus())},defaultView:function(){this.hideReminderRows();
Config.ShowReminderTask||this.hideReminderOption()},populateFields:function(d){var b=this.model.componentEnum,c=null,c=this.model.components[d];this.taskNameInput.value=c[b.summary];a.removeClass(this.taskNameInput,"default");if(c[b.end]){var e=ws.date.formatDateTime(c[b.end],Config.Strings.DateYear);ws.date.formatDateTime(c[b.end],this.timeFormat);a.removeClass(this.dueDateInput,"dueDateInputDefault");this.dueDateInput.value=e}else this.dueDateInput.value="";if(c[b.reminderEnabled]&&""!=e){if(d=
ws.calendar.TodoUtil.GetReminderEndDate(c[b.reminderLeadTime],c[b.end],Config.Strings.DateYear,this.timeFormat),this.reminderTimeSelect.value=d.time,this.dueDateSelect.setOption(ws.calendar.TodoUtil.GetLeadTimeMenuOption(c[b.reminderLeadTime]),!0),"OnThisDate"==this.dueDateSelect.currentValue)this.remindAtEndInput.value=d.date}else{a.addClass(this.reminderTimeSelect,"reminderTimeSelectDefault");if(""==this.dueDateInput.value)this.dueDateInput.value=this.dueDateDefaultValue,a.addClass(this.dueDateInput,
"dueDateInputDefault");this.disableReminderRow()}""!=c[b.description]&&this.fillNotes(c[b.description])},getAddTaskArgs:function(){var a=this.model.getDefaultTaskArgs();a.sortBy=this._sortBy;a.sortDir=this._sortDir;return a},updateTask:function(d){d&&d.stopPropagation();var b=this.model.components,d=this.model.componentEnum,c=null,e=!1,h="",n=ws.string.sanitize(this.taskNameInput.value),j=Config.Strings.DateYear;if(""!=n&&this.isUpdateTaskEnabled()){var f=null,g=null,k=null;null!=this.currentTaskUID?
(c=b[this.currentTaskUID],g=c[d.start],f=this.model.getComponentArgsForTask(c),f.sortBy=this._sortBy,f.sortDir=this._sortDir,f.summary=n,k=Config.Strings.ToDoUpdated):(g=new Date,f=this.getAddTaskArgs(),f.summary=n,f.start=ws.date.formatISO8601(g),k=Config.Strings.ToDoCreated);var m=a.trim(this.dueDateInput.value);if(""!=m&&!a.hasClass(this.dueDateInput,"dueDateInputDefault")){var l=b=null;if(this.reminderFlag)n=ws.date.ParseHourMinTextField(this.reminderTimeSelect.value,this.timeFormat,this.timeFormatShort),
b=n.hr,l=n.min;var p=ws.calendar.TodoUtil.GetLeadTimeInMinutesHelper(this.dueDateSelect.currentValue),n=!0;if(0!=p){var q=ws.date.ParseDateFromFormat(m,j),p=ws.date.add(q,ws.date.dateParts.MINUTE,-p),p=ws.date.formatDateTime(p,j);ws.calendar.TodoUtil.ValidateDate(p,b,l,j,this.model.currentServerTime).isDateInPast&&(n=!1)}m=ws.calendar.TodoUtil.ValidateDate(m,b,l,j,this.model.currentServerTime);if(m.isValidDate)if(j=m.oDate,null!=b)if(!m.isDateInPast&&n){f.end=ws.date.formatISO8601(j);f.start=f.end;
f.reminderEnabled=!0;_argsLeadTime=null;"OnThisDate"==this.dueDateSelect.currentValue&&(_argsLeadTime={time:this.reminderTimeSelect.value,taskDate:j,remDate:this.remindAtEndInput.value,timeFmt:this.timeFormat,shortTimeFmt:this.timeFormatShort});e=ws.calendar.TodoUtil.GetLeadTimeInMinutes(this.dueDateSelect.currentValue,_argsLeadTime?_argsLeadTime:null);"string"==typeof e?h=e:f.reminderLeadTime=e;if(j<g)f.start=f.end;e=!0}else this.taskPanel&&!this.taskPanel.addTaskFlag?(e=!1,h=Config.Strings.InvalidReminderDateInPastOnCreate):
(f.end=ws.date.formatISO8601(j),f.start=f.end,e=!0,h=null,f.reminderEnabled=!1,f.reminderLeadTime=0);else{if(e=!0,f.reminderEnabled=!1,f.reminderLeadTime=0,f.end=ws.date.formatISO8601(j),j<g)f.start=f.end}else g=this.domNode.parentNode,g.style.zIndex=998,ws.widget.Dialogs.ok(Config.Strings.InvalidDateOnCreate)}else{e=!1;f.description=ws.string.sanitize(this.addNoteInput.getValue());f.end=null;f.reminderEnabled=!1;f.reminderLeadTime=0;if(null!=c)f.status=ws.calendar.TodoUtil.GetTodoStatus(c[d.status]);
f.start=ws.date.formatISO8601(new Date);f.loadCallback=a.hitch(this,function(){a.publish("WSFeedbackStart",[k,!0]);if(this.onSavedCB)this.onSavedCB(),this.onSavedCB=null});if(!h||0==h.length)this.model.saveComponent(f),this.closeCard()}if(e){f.description=ws.string.sanitize(this.addNoteInput.getValue());if(null!=c)f.status=ws.calendar.TodoUtil.GetTodoStatus(c[d.status]);if(null!=f.end&&0==f.end.length)f.start=ws.date.formatISO8601(new Date);f.start=f.end;f.loadCallback=a.hitch(this,function(){a.publish("WSFeedbackStart",
[k,!0]);if(this.onSavedCB)this.onSavedCB(),this.onSavedCB=null});if(!h||0==h.length)this.model.saveComponent(f),this.closeCard()}if(h&&0<h.length)g=this.domNode.parentNode,g.style.zIndex=998,ws.widget.Dialogs.ok(h)}},showTimePicker:function(a){if(!this.eventTimePopupPicker.isShowingNow){ws.widget.popup({popup:this.eventTimePopupPicker,around:a,orient:{BL:"TL"}});var b=new Date,a=ws.date.ParseHourMinTextField(a.value,this.timeFormat,this.timeFormatShort);null!=a?(b.setHours(a.hr,a.min),this.eventTimePopupPicker.initializeTime(b)):
this.eventTimePopupPicker.initializeTime()}},isUpdateTaskEnabled:function(){return a.hasClass(this.taskNameInput,"default")?!1:!0},addReminder:function(){this.enableReminderRow(!0)},closeReminder:function(){},addNote:function(){this.openNote()},openNote:function(a){this.fillNotes(a)},closeNote:function(){},reset:function(){ws.widget.popup.close(this);this.defaultView();a.addClass(this.taskNameInput,"default");this.taskNameInput.value=this.taskNameInputDefaultValue;a.addClass(this.dueDateInput,"dueDateInputDefault");
this.dueDateInput.value=this.dueDateDefaultValue;this.reminderTimeSelect.value="";this.addNoteInput.setValue();this.reminderFlag=!1},fillInDateField:function(d){this.dateInputField.value=ws.date.formatDateTime(new Date(d),Config.Strings.DateYear);a.removeClass(this.dueDateInput,"dueDateInputDefault");if(this.dueDateInput==this.dateInputField)this.enableReminderRow();else if(!this.dateHasBeenChosen)this.disableReminderRow(),this.dateHasBeenChosen=!0},fillInTimeField:function(a){this.reminderTimeSelect.value=
a},onKeyPressInput:function(d){if(d.keyCode==a.keys.ENTER)this.updateTask();else if(d.keyCode==a.keys.ESCAPE)a.addClass(this.taskNameInput,"default"),this.taskNameInput.value=this.taskNameInputDefaultValue,a.addClass(this.dueDateInput,"dueDateInputDefault"),this.dueDateInput.value=this.dueDateInputDefaultValue,this.dueDatePopupPicker.hidePopup(),this.closeCard()},hideReminderOption:function(){this.reminderMenuRow.style.display="none";this.reminderRowSeparator.style.display="none"},hideReminderRows:function(){this.reminderDetailsRow.style.display=
"none";this.reminderTimeSelect.style.display="none";this.remindAtEndInput.style.display="none";this.reminderMenu.setOption(0,!0)},showReminderRows:function(){this.reminderMenu.setOption(1,!0);this.dueDateSelect.sizeMyself()},enableReminderRow:function(d){var b=a.trim(this.dueDateInput.value);if(""!=b&&b!=this.dueDateDefaultValue||d)if(this.dueDateSelect.setClass("dueDateSelect"),this.dateHasBeenChosen=!0,!this.reminderTimeSelect.value)d=new Date,d=ws.calendar.calutil.GetNext30MinuteIncrement(d),this.reminderTimeSelect.value=
ws.date.formatDateTime(d,this.timeFormat);this.dueDateSelect.setClass("dueDateSelect");this.reminderTimeSelect.enabled=!0;this.reminderFlag=this.dueDateSelect.enabled=!0;this.showReminderRows()},disableReminderRow:function(){this.reminderFlag=this.reminderTimeSelect.enabled=!1;this.hideReminderRows()},reminderOnFocus:function(){if(a.hasClass(this.dueDateInput,"dueDateInputDefault"))a.removeClass(this.dueDateInput,"dueDateInputDefault"),a.addClass(this.dueDateInput,"dueDateInput"),this.dueDateInput.value=
""},reminderOnBlur:function(){if(""==this.dueDateInput.value&&!this.dueDatePopupPicker.isShowingNow)this.disableReminderRow(),a.addClass(this.dueDateInput,"dueDateInputDefault"),this.dueDateInput.value=this.dueDateDefaultValue,this.dateHasBeenChosen=!1},openPopUpNew:function(d,b,c,e,h){this.dueDateDefaultValue=Config.Strings.Optional;this.updateButton.setLabel(Config.Strings.AddItem);a.addClass(this.dueDateInput,"dueDateInputDefault");this.dueDateInput.value=this.dueDateDefaultValue;b?this.openNote(b):
this.closeNote();d?(a.removeClass(this.taskNameInput,"default"),this.taskNameInput.value=d):this.taskNameInput.value=this.taskNameInputDefaultValue;null!=c&&ws.widget.popup({popup:this,around:c,padding:h,orient:e});ws.widget.hidePointer(this.domNode)},openPopUp:function(d){this.dueDateDefaultValue=Config.Strings.Panel_TodoPanel_NoDueDate;this.updateButton.setLabel(Config.Strings.UpdateItem);a.removeClass(this.dueDateInput,"dueDateInputDefault");this.dateHasBeenChosen=!1;this.currentTaskUID=d;this.populateFields(d);
this.show();this.reminderMenu.sizeMyself();this.dueDateSelect.sizeMyself()},showDueDatePopupPicker:function(d){a.isIE&&this.reminderOnFocus();this.dueDatePopupPicker.isShowingNow||ws.widget.popup({popup:this.dueDatePopupPicker,around:d,orient:{BL:"TL"}});this.dateInputField=d},onFocus:function(){if(a.hasClass(this.taskNameInput,"default"))this.taskNameInput.value="",a.removeClass(this.taskNameInput,"default")},onBlur:function(){if(""==this.taskNameInput.value)this.taskNameInput.value=this.taskNameInputDefaultValue,
a.addClass(this.taskNameInput,"default")},onChange:function(){""==this.dueDateInput.value&&!this.dueDatePopupPicker.isShowingNow?(this.disableReminderRow(),a.addClass(this.dueDateInput,"dueDateInputDefault"),this.dueDateInput.value=this.dueDateDefaultValue,this.dateHasBeenChosen=!1):this.dateHasBeenChosen=!0},fillNotes:function(a){this.addNoteInput.setValue(a)},handleReminder:function(){switch(this.reminderMenu.currentValue){case "noReminder":this.reminderDetailsRow.style.display="none";this.reminderTimeSelect.style.display=
"none";this.remindAtEndInput.style.display="none";this.reminderFlag=!1;break;case "remindAt":this.dueDateSelect.setClass("dueDateSelect"),this.reminderTimeSelect.style.display="",this.reminderTimeSelect.enabled=!0,this.dueDateSelect.enabled=!0,this.dueDateSelect.setOption(0,!0),this.reminderDetailsRow.style.display="",this.dueDateSelect.sizeMyself(),this.reminderFlag=!0}},dueDateSelected:function(){this.remindAtEndInput.style.display="OnThisDate"==this.dueDateSelect.currentValue?"":"none"},closeCard:function(){this.hide()},
onClose:function(){this.reset()}})})},"ws/address/ImportContactsWidget":function(){require({cache:{"url:ws/address/ImportContactsWidget.html":'<div class="importContacts WSModalPane" data-dojo-attach-point="importContactsDialog">\n\t<div data-dojo-attach-event="onkeypress:onKeyPress,onkeydown:onKeyPress">\n        <img src="${spacer}" class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick:hide">\n\t\t<div class="WSModalPaneInner">\n            <div class="importContainer">\n                <div class="heading">${AB_Import_ContactsImport}</div>\n\n                <div data-dojo-attach-point="ImportAssistantDiv" class="sectionTop">\n                    <div data-dojo-attach-point="ImportAssistantTitle" class="title">\n                        <span class="titleMain">${AB_Import_Assistant_Title}</span>\n                        <span class="titleMinor">${AB_Import_Assistant_TitleInfo}</span>\n                    </div>\n                    <div data-dojo-attach-point="ImportAssistantComment" class="comment">${AB_Import_Assistant_Text1}</div>\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: downloadOutlookAssistant">${AB_Import_Assistant_ButtonLabel}</div>\n                </div>\n\n                <div data-dojo-attach-point="ImportFileDiv" class="sectionBottom">\n\n                    <div class="formContainer">\n                        <div class="browseBtn">\n                            <div defaultValue="CSV, TXT or LDIF File" data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'regularInput\'" data-dojo-attach-point="selectedFileName" maxlength="255" tabindex="1"></div>\n                            <a href="#">Browse for file...</a>\n                        </div>\n                        <form method="post" enctype="multipart/form-data" data-dojo-attach-point="fileUploadForm" style="margin-bottom:0px">\n                            <input class="chooseFileBtn" type="file" data-dojo-attach-event="onchange: onFileInputChanged" data-dojo-attach-point="fileInputNode" name="${id}file">\n                        </form>\n                        <div class="inputShield"></div>\n                    </div>\n\n                    <div class="choices">\n                        <input type="radio" name="${id}type" checked data-dojo-attach-point="csvInputNode">\n                        <label for="${id}typecsv">${CSV}</label>\n                        <input type="radio" name="${id}type" data-dojo-attach-point="txtInputNode">\n                        <label for="${id}typetxt">${TXT}</label>\n                        <input type="radio" name="${id}type" data-dojo-attach-point="ldifInputNode">\n                        <label for="${id}typeldif">${LDIF}</label>\n                    </div>\n                </div>\n                <div class="buttonGroup">\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: importFromFile">${Import}</div>\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: cancel" type="Bare">${Cancel}</div>\n                 </div>\n            </div>\n\t\t</div>\n\t</div>\n</div>\n',
"url:ws/address/ImportContactsWidget.css":""}});define("ws/address/ImportContactsWidget","dojo/_base/declare,dojo/text!ws/address/ImportContactsWidget.html,dojo/text!ws/address/ImportContactsWidget.css,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,ws/widget/WSModalPane,ws/address/DistributionListWidget,ws/widget/BuddyIcon,ws/widget/DefaultTextbox,ws/widget/Dialogs,ws/widget/popup,ws/widget/util".split(","),function(l,g,k,a,m,j,f,e,d){return l([d,f,e],{templateString:g,
css:{templateString:k},_earlyTemplatedStartup:!0,addressModel:null,startup:function(){if(!Config.EnableAddressBookImportAssistant||!Config.ImportAssistantDownloadURL)this.ImportAssistantDiv.style.display="none";this.inherited(arguments)},downloadOutlookAssistant:function(){var a=ws.io.openWindow(Config.ImportAssistantDownloadURL,"","");null!=a&&a.focus()},onFileInputChanged:function(){var a=this.fileInputNode.value,c=a.lastIndexOf("\\");-1!=c&&(a=a.substring(c+1));this.selectedFileName.setValue(a);
var d=a.lastIndexOf("."),c=!1;if(-1!=d){a=a.substring(d+1).toLowerCase();if("csv"==a)c=this.csvInputNode.checked=!0;else if("txt"==a)c=this.txtInputNode.checked=!0;else if("ldif"==a)c=this.ldifInputNode.checked=!0;c?this.disableTypeSelection([0,1,2],!0):this.disableTypeSelection([0,1,2],!1,0)}},disableTypeSelection:function(b,c,d){for(var h=a.query(".choices input",this.domNode),e=0;e<b.length;e++)h[b[e]].disabled=c;if(void 0!=d)h[d].checked=!0},getFormatParam:function(){var a="csv";this.ldifInputNode.checked?
a="ldif":this.txtInputNode.checked&&(a="txt");return a},importFromFile:function(){if(this.fileInputNode.value){var b=this.getFormatParam();a.publish("WSFeedbackStart",[Config.Strings.ImportingContacts]);this.addressModel.importContacts({formNode:this.fileUploadForm,format:b,timeout:18E5,load:a.hitch(this,function(b){a.publish("WSFeedbackStart",[ws.string.substituteParams(Config.Strings.ContactsImported,b.count),!0]);this.hide()}),error:function(a){window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,
"Dialogs.ok shown - Error Handler for addressModel.importContacts-importFromFile file:ImportContactsWidget.js");this.hide();ws.widget.Dialogs.ok(a||Config.Strings.ErrorImportingContacts)}})}else ws.widget.Dialogs.ok(Config.Strings.ErrorSelectFile)},cancel:function(){this.hide()}})})},"ws/address/DistributionListWidget":function(){require({cache:{"url:ws/address/DistributionListWidget.html":'<div data-dojo-attach-event="onkeydown: onKeyPressInputField">\n\t<div data-dojo-type="dijit/layout/StackContainer" class="listView distributionList" data-dojo-attach-point="stackWidget">\n\t\t<div data-dojo-type="dijit/layout/BorderContainer" data-dojo-attach-point="createPane" class="createPane">\n\t\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-attach-point="toolbar" data-dojo-props="region:\'top\'" vizType="Controls">\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:cancel" title="${Cancel}" iconClassName="cancelIcon" data-dojo-props="toolbarPosition: \'right\'"></div>\n\t\t\t</div>\n\t\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'center\'" class="newList">\n                <div>\n                    <div class="headerDiv">${NewList}</div>\n\n                    <div>\n                        <div defaultValue="${ListName}" data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'wsInput nameInput\'" data-dojo-attach-point="createNameField" maxlength="255" tabindex="1"></div>\n                    </div>\n\n                    <div data-dojo-type="ws/address/ComposeAddressField" ghostText="${AddContacts}" lineHeight="14" ghostTextPersistent="false" startingNumOfLines="4" numOfLines="4" class="selector" width="445" data-dojo-attach-point="createAddressField"></div>\n\n                    <div class="buttonGroup">\n                        <div data-dojo-type="ws/widget/Button" data-dojo-attach-point="addListButton" data-dojo-attach-event="onClick: checkRequiredFields">${AddList}</div>\n                        <div data-dojo-type="ws/widget/Button" data-dojo-attach-point="cancelListButton" data-dojo-attach-event="onClick: cancel" type="Bare">${Cancel}</div>\n                    </div>\n                </div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<div data-dojo-type="dijit/layout/BorderContainer" data-dojo-attach-point="editPane" class="editPane">\n\t\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-attach-point="toolbar" data-dojo-props="region:\'top\'" vizType="Controls">\n                <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:emailList" title="${EmailListTip}" iconClassName="composeIcon">${EmailList}</div>\n                <div data-dojo-type="ws/widget/Button" data-dojo-attach-point="deleteListButton" data-dojo-attach-event="onClick:deleteList" title="${DeleteList}" iconClassName="delIcon">${DeleteListTip}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:cancel" title="${Close}" iconClassName="cancelIcon" data-dojo-props="toolbarPosition: \'right\'"></div>\n\t\t\t</div>\n\t\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'top\'" style="border-bottom: 1px solid #DEDEDE; padding-bottom:12px;" class="editList">\n                <div>\n                    <div class="displayName" data-dojo-attach-point="displayNameDiv">\n                        <span data-dojo-attach-point="nameSpan" class="nameSpan"></span>\n                        <a href="#" data-dojo-attach-point="editNameSpan" data-dojo-attach-event="onclick:editName">${EditName}</a>\n                        <a href="#" data-dojo-attach-event="onclick:deleteList" data-dojo-attach-point="deleteListAnchor">${DeleteList}</a>\n                    </div>\n                    <div class="editName" data-dojo-attach-point="editNameDiv" style="display:none">\n                        <input type="text" class="wsInput" data-dojo-attach-point="editNameField" />\n                        <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: saveName">${Save}</div>\n                        <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: cancelName">${Cancel}</div>\n                        <br style="clear: both" />\n                    </div>\n\n                    <div class="addContactDiv" data-dojo-attach-point="addContactDiv">\n                        <div data-dojo-type="ws/address/ComposeAddressField" ghostText="${AddContacts}" ghostTextPersistent="false" startingNumOfLines="4" numOfLines="4" class="selector" width="445" data-dojo-attach-point="editAddressField"></div>\n                        <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: addMembers">${Add}</div>\n                    </div>\n                </div>\n            </div>\n           \n\t\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'center\'" class="content">\n\t\t\t\t<div data-dojo-type="dojox.grid.Grid" data-dojo-attach-point="grid"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',
"url:ws/address/DistributionListWidget.css":""}});define("ws/address/DistributionListWidget","dojo/_base/declare,dojo/text!ws/address/DistributionListWidget.html,dojo/text!ws/address/DistributionListWidget.css,dojo,dijit,ws/widget/ListView,ws/address/DistributionListGridModel,ws/address/AddressBookUtil,dijit/layout/BorderContainer,dijit/layout/StackContainer,dojox/grid/Grid,ws/address/ComposeAddressField,ws/reporting,ws/string,ws/widget/Dialogs,ws/widget/ListView,ws/widget/Pane,ws/widget/util,ws/widget/WSToolbar".split(","),
function(l,g,k,a,m,j,f){return l("ws.address.DistributionListWidget",[j],{templateString:g,css:{templateString:k},addressModel:null,listInfo:null,closeCB:null,backToString:Config.Strings.BackToDistList,speedUp:!0,showHeader:!1,hoverColumnHtml:'<div class="wsHotClearButton mainSprite"></div>',autosizeColumnId:"Email",startup:function(){if(768>=screen.height&&1024>=screen.width)this.createAddressField.minHeight=45,this.createAddressField.maxHeight=90;a.connect(this.editAddressField,"onResizedSelf",
this,"onResized");this.setModel(new f(null,null,this.addressModel));a.subscribe("Suite/onKeyOnPress",this,"_suiteOnKeyPress");this.addListButton.setTitle(ws.string.substituteParams(Config.Strings.CreateListTip,"("+(a.isMac?Config.Strings.CtrlReturnKey:Config.Strings.CtrlEnterKey)+")"));this.cancelListButton.setTitle(ws.string.substituteParams(Config.Strings.CancelTip,"("+(a.isMac?Config.Strings.OptKey:Config.Strings.AltKey)+" "+Config.Strings.KeyCancelAddContact+")"));ws.WebSuite.SidePanel.setupAdScroll(this.domNode)},
_suiteOnKeyPress:function(e){this.isShowing()&&(e=ws.html.fixKeyForMac(e),e.keyChar&&a.isString(e.keyChar)&&e.keyChar.toLowerCase()==Config.Strings.KeyCancelAddContact&&e.altKey&&this.cancel())},onKeyPressInputField:function(a){if(65<=a.keyCode&&90>=a.keyCode)a.keyChar=String.fromCharCode(a.keyCode);this._suiteOnKeyPress(a)},initView:function(){this.columns=[{id:"Icon",width:"35px"},{id:"Name",width:"200px"},{id:"Hover",width:"18px"},{id:"Email",width:"200px"}];this.inherited(arguments)},showCreateView:function(){this.stackWidget.selectChild(this.createPane);
this.createNameField.setValue("");this.createNameField.focus();this.createAddressField.reset();this.resetDirty();this.reportNewDistList()},reportNewDistList:function(){ws.reporting.report("New DistList","Addresses")},showList:function(e){ws.WebSuite.Navigation.mnSearchClose();this.stackWidget.selectChild(this.editPane);this.addressModel.getDistributionList({uid:e,load:a.hitch(this,function(d){this.listDataReceived(d);a.publish("WSFeedbackEnd",[Config.Strings.Loading])}),error:function(d){ws.widget.Dialogs.ok(d||
Config.Strings.ErrorLoadingDistList);a.publish("WSFeedbackEnd",[Config.Strings.Loading])}});ws.reporting.report("Edit DistList","Addresses")},listDataReceived:function(a){if(this.goToListDetails)this.stackWidget.selectChild(this.editPane),this.goToListDetails=!1;this.listInfo=a;this.nameSpan.innerHTML=ws.string.escapeXml(a.name);this.displayNameDiv.style.display="";this.editNameDiv.style.display="none";this.editAddressField.setValue("");this.gridModel.setListInfo(a);this.deleteListButton.show();this.hoverColumnHtml=
'<div class="mainSprite wsHotClearButton"></div>';this.editNameSpan.innerHTML=Config.Strings.EditName;this.addContactDiv.style.display="";this.resetDirty();this.onResized()},checkRequiredFields:function(){var e="",d=ws.string.sanitize(this.createNameField.getValue());this.createNameField.setValue(d);var b=a.map(this.createAddressField.getValue().split(/[;,]/),ws.string.sanitize);if(d)if(null!=this.addressModel.searchDLName(d))e=Config.Strings.DuplicateDistributionList;else{if(1==b.length&&!b[0])e=
Config.Strings.IncludeEmailDistList}else e=Config.Strings.NameDistList;e?ws.widget.Dialogs.ok(e):this.createList(d)},createList:function(a){var d=ws.address.AddressBookUtil._mapAddressesToContacts(this.createAddressField,this.addressModel);this.listInfo={uid:0,name:a,contacts:d.contacts,addresses:d.addresses};this.goToListDetails=!0;this.saveList(!0,Config.Strings.DistributionListCreated,null,function(){ws.reporting.report("Edit DistList","Addresses")})},addMembers:function(){this._addMembers(ws.address.AddressBookUtil._mapAddressesToContacts(this.editAddressField,
this.addressModel))},_addMembers:function(a,d){if(a.contacts.length||a.addresses[0]){this.listInfo.contacts=this.listInfo.contacts.concat(a.contacts);this.listInfo.addresses=this.listInfo.addresses.concat(a.addresses);var b=a.contacts.length+a.addresses.length,b=1==b?Config.Strings.DistListContactAddedSingular:ws.string.substituteParams(Config.Strings.DistListContactAddedPlural,b);this.saveList(!0,d||b,null,null)}},handleHoverControlClick:function(e){if(e.target&&(a.hasClass(e.target,"wsHotClearButton")||
e.target.firstChild&&a.hasClass(e.target.firstChild,"wsHotClearButton"))){var e=e.rowIndex,d,b=null,c;c=this.listInfo.sortedContactsAndAddresses[e];if("object"==typeof c){var f;f=this.getIndexOfContact(c);null!=f?d=this.listInfo.contacts.splice(f,1):(f=this.getIndexOfAddress(c),d=this.listInfo.addresses.splice(f,1));this.listInfo.sortedContactsAndAddresses.splice(e,1)}else for(f=0;f<this.listInfo.addresses.length;f++)if(c==this.listInfo.addresses[f]){d=this.listInfo.addresses.splice(f,1);this.listInfo.sortedContactsAndAddresses.splice(e,
1);break}this.gridModel.modelUpdated();if(Config.EnableUndo)var h="object"==typeof d[0]?{addresses:[],contacts:d}:{addresses:d,contacts:[]},b=a.hitch(this,function(){this._addMembers(h,Config.Strings.DistListContactRestored)});this.saveList(!0,Config.Strings.DistListContactRemoved,b,null)}},getIndexOfContact:function(a){if(!a)return null;for(var d=0;d<this.listInfo.contacts.length;d++)if(a.uid==this.listInfo.contacts[d].uid)return d},getIndexOfAddress:function(a){if(!a)return null;for(var d=0;d<this.listInfo.addresses.length;d++)if((email=
a.email1?a.email1:a.email2)&&email==this.listInfo.addresses[d])return d},editName:function(){this.editNameField.value=this.listInfo.name;this.displayNameDiv.style.display="none";this.editNameDiv.style.display="";ws.html.selectInputText(this.editNameField);this.editPane.resize()},saveName:function(){var a=ws.string.sanitize(this.editNameField.value);(this.editNameField.value=a)?null!=this.addressModel.searchDLName(a)?ws.widget.Dialogs.ok(Config.Strings.DuplicateDistributionList):(this.listInfo.name=
a,ws.html.setInnerText(this.nameSpan,a),this.saveList(!1,Config.Strings.DistributionListUpdated,null,null),this.cancelName()):ws.widget.Dialogs.ok(Config.Strings.NameDistList)},cancelName:function(){this.editNameDiv.style.display="none";this.displayNameDiv.style.display="";this.editPane.resize()},saveList:function(e,d,b,c){this.addressModel.createOrModifyDistributionList({uid:this.listInfo.uid,name:this.listInfo.name,contactUids:a.map(this.listInfo.contacts,function(a){return a.uid}),addresses:this.listInfo.addresses,
load:a.hitch(this,function(f){d&&a.publish("WSFeedbackStart",[d,!0,b]);e&&this.listDataReceived(f);c&&c()}),error:function(a){window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for addressModel.createOrModifyDistributionList-saveList file:DistributionListWidget.js");ws.widget.Dialogs.ok(a||Config.Strings.ErrorSavingDistList)}})},deleteList:function(){Config.EnableUndo?(this.addressModel.setUndoItem(this.listInfo),this._deleteList(!0)):this._confirmationDelete()},
_confirmationDelete:function(){ws.widget.Dialogs.okCancel(Config.Strings.DeleteDistributionList,a.hitch(this,function(a){a&&this._deleteList()}))},_deleteList:function(e){this.addressModel.deleteAddresses({uids:[this.listInfo.uid],load:a.hitch(this,function(){var d=e?a.hitch(this.addressModel,"undoDeletedItem"):null;a.publish("WSFeedbackStart",[Config.Strings.DistributionListDeletedSingular,!0,d,e?a.hitch(this,function(){this.addressModel.setUndoItem()}):null]);this.cancel()}),error:a.hitch(this,
function(a){this.addressModel.setUndoItem();window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for addressModel.deleteAddresses-_deleteList file:DistributionListWidget.js");ws.widget.Dialogs.ok(a||Config.Strings.ErrorDeletingDistListNotFound)})})},showCreatePeoplePicker:function(a){this.createAddressField.togglePeoplePicker(this.createAddressField);a.preventDefault()},emailList:function(){this.composeEmailCB(a.hitch(this,function(a){a.reset({to:this.listInfo.composeValue,
backToString:this.backToString,isDirty:!0})}))},composeEmailCB:function(){},isDirty:function(){return this.getCurrentStateHash()!=this.initialStateHash},resetDirty:function(){this.initialStateHash=this.getCurrentStateHash()},getCurrentStateHash:function(){var a;a=""+this.createNameField.getValue();a+=this.createAddressField.getValue();return a+=this.editAddressField.getValue()},cancel:function(){ws.reporting.skipBeaconReporting=!0;this.close(this.isDirty())},close:function(a){this.closeCB&&this.closeCB(a)}})})},
"url:ws/widget/WSTimePicker.html":'<div data-dojo-attach-point="timePickerContainer" class="WSTimePicker">\n\t<table data-dojo-attach-point="timePickerBody" class="pickerBody" border="0" cellpadding="0" cellspacing="0">\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t</table>\n</div>\n',
"url:ws/mail/MailFilterModalPane.html":'<div class="WSModalPane mailFilterModalPane">\n\t<div class="WSModalPaneInner">\n\t\t<div class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick: onCancel"></div>\n\t\t<div class="modalContainer">\n\t\t\t<h2 data-dojo-attach-point="filterNameLabel">${MailFilter_FilterNameLabel}</h2>\n\t\t\t<div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-attach-point="nameField" data-dojo-props="value:\'${MailFilter_FilterNameValue}\', doValueSelect:true, size:\'28\', maxlength:\'${maxFilterNameLength}\', fieldWidth:\'250px\'"></div>\n\t\t\n\t\t\t<table border="0" cellpadding="0" cellspacing="0" class="filterFormTable">\n\t\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t\t<td colspan="4"><h3>${MailFilter_FilterText1}:</h3></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td width="20%" class="labelCell">${From}</td>\n\t\t\t\t\t<td width="30%" class="valueCell"><div data-dojo-type="ws/address/SingleAddressField" data-dojo-attach-point="fromField" defaultValue="${MailFilter_EnterAnEmailAddress}" value="${from}" fieldWidth="200px" data-dojo-attach-event="onBlur: checkSpamTip"></div></td>\n\t\t\t\t\t\n\t\t\t\t\t<td width="20%" class="labelCell">${Cc}</td>\n\t\t\t\t\t<td width="30%" class="valueCell"><div data-dojo-type="ws/address/SingleAddressField" data-dojo-attach-point="ccField" defaultValue="${MailFilter_EnterAnEmailAddress}" fieldWidth="200px"></div></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class="labelCell">${To}</td>\n\t\t\t\t\t<td class="valueCell"><div data-dojo-type="ws/address/SingleAddressField" data-dojo-attach-point="toField" defaultValue="${MailFilter_EnterAnEmailAddress}" fieldWidth="200px"></div></td>\n\t\t\t\t\t<td class="labelCell">${Bcc}</td>\n\t\t\t\t\t<td class="valueCell">\n\t\t\t\t\t\t<div data-dojo-type="ws/widget/WSSelect" data-dojo-attach-point="bccMenu"></div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\t\t\n\t\t\t\t\t<td class="labelCell">${Subject}</td>\n\t\t\t\t\t<td class="valueCell"><div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-attach-point="subjectField" defaultValue="${MailFilter_EnterAWordOrPhrase}" value="${subject}" size="28" maxlength="${maxFilterFieldLength}" fieldWidth="200px"></div></td>\t\n\t\t\t\t\t\n\t\t\t\t\t<td class="labelCell">${MailFilter_ContainsThisWord}</td>\n\t\t\t\t\t<td class="valueCell"><div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-attach-point="containsField" defaultValue="${MailFilter_EnterAWordOrPhrase}" value="${alltext}" size="28" maxlength="${maxFilterFieldLength}" fieldWidth="200px"></div></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td colspan="4"><h3>${MailFilter_FilterText2}</h3></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td colspan="1" class="labelCell">${MailFilter_MoveToFolder}:</td>\n\t\t\t\t\t<td colspan="3" data-dojo-attach-point="bottomRow" class="valueCell">\n\t\t\t\t\t\t<div data-dojo-type="ws/widget/WSSelect" data-dojo-attach-point="moveToFolderSelect" data-dojo-attach-event="valueChanged: checkSpamTip"></div>\n\t\t\t\t\t\t<div data-dojo-attach-point="spamTip" class="spamTip" style="display:none;">\n\t\t\t\t\t\t\t<div class="spamTipText">${MailFilter_SpamTip2}</div>\n\t\t\t\t\t\t\t<div class="spamTipButtons">\n\t\t\t\t\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-props="toolbarPosition: \'center\'" data-dojo-attach-point="blockButton" data-dojo-attach-event="onClick: spamTipClicked" class="blockButton"></div>\n\t\t\t\t\t\t\t\t<a href="#" data-dojo-attach-event="onclick: removeSpamTip" class="wsLink NoThanks">${NoThanks}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr data-dojo-attach-point="DeliveryAlert" style="display:none;">\n\t\t\t\t\t<td class="labelCell">${MailFilter_AlertMe}</td>\n\t\t\t\t\t<td colspan="3" class="valueCell">\n\t\t\t\t\t\n\t\t\t\t\t\t<div data-dojo-type="ws/widget/Checkbox" data-dojo-attach-point="OnlineIMField" style="float:left"></div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div data-dojo-type="ws/widget/Checkbox" data-dojo-attach-point="DeviceField" style="display:none;float:left;margin-left:30px"></div>\n\n\t\t\t\t\t\t<div style="float:left;margin-top:6px">\n\t\t\t\t\t\t\t<a class="wsLink" href="#" title="${MailFilter_SetupMobilePhone}" data-dojo-attach-point="SetupMobilePhoneNode" data-dojo-attach-event="onclick: getMobileDevice" style="display:none;">${MailFilter_SetupMobilePhone}</a>\n\t\t\t\t\t\t\t<a class="wsLink" href="#" title="${MailFilter_AfterSetupMobilePhone}" data-dojo-attach-point="AfterSetupMobilePhoneNode" data-dojo-attach-event="onclick: callUDR" style="display:none;">${MailFilter_AfterSetupMobilePhone}</a>\n\t\t\t\t\t\t\t<a class="wsLink" href="#" data-dojo-attach-point="EditMobilePhoneNode" title="${MailFilter_EditMobilePhone}" data-dojo-attach-event="onclick: editMobileClicked" style="display:none;">${MailFilter_Edit}</a>\n\t\t\t\t\t\t\t<a class="wsLink" href="#" data-dojo-attach-point="AfterEditMobilePhoneNode" title="${MailFilter_AfterEditRefresh}" data-dojo-attach-event="onclick: callUDR" style="display:none;">${MailFilter_AfterEditRefresh}</a>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<span data-dojo-attach-point="phoneSelectDiv" style="display:none;">\n\t\t\t\t\t\t\t\t<span style="float:left;">${Cellular}:</span>\n\t\t\t\t\t\t\t\t<div data-dojo-type="ws/widget/WSSelect" data-dojo-attach-point="phoneSelect" class="phoneSelect"></div>\n\t\t\t\t\t\t\t</span>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\n\t\t\t<div data-dojo-type="ws/widget/WSToolbar" vizType="Bare" data-dojo-attach-point="toolbar">\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-props="toolbarPosition: \'left\'" data-dojo-attach-point="saveButton" data-dojo-attach-event="onClick: onSave">${Create}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-props="toolbarPosition: \'left\'" type="Bare" data-dojo-attach-point="cancelButton" data-dojo-attach-event="onClick: onCancel">${Cancel}</div>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\n</div>',
"ws/mail/Stationery":function(){require({cache:{"url:ws/mail/Stationery.html":'<div class="stationery">\n    <img src="${spacer}" class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick:closeStationery">\n\t<div class="title" data-dojo-attach-point="titleDiv">${StationeryTitle}</div>\n\t<div class="category" data-dojo-attach-point="category">\n\t\t<div data-dojo-type="ws/widget/DropDownLink" minWidth="152" data-dojo-attach-point="catButton" class="wsIconButton"></div>\n\t</div>\n\t<div class="listPane" data-dojo-attach-point="listPane">\n\t\t<ul class="list" data-dojo-attach-point="list"></ul>\n\t</div>\n</div>\n',
"url:ws/mail/Stationery.css":""}});define("ws/mail/Stationery","dojo/_base/declare,dojo/text!ws/mail/Stationery.html,dojo/text!ws/mail/Stationery.css,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,ws/widget/Button,ws/widget/WSMenu".split(","),function(l,g,k,a,m,j,f,e){return l([j,f,e],{templateString:g,css:{templateString:k},_earlyTemplatedStartup:!0,_init:!1,rcCategory:{id:"RECENTLYUSED",label:Config.Strings.StationeryRecent},categories:null,categoriesReady:!1,items:{},
subcatMenuDefHash:{},selCatIdx:0,selSubcatIdx:0,params:{recentlyUsed:[],selected:null,maxInRecentlyUsed:5,maniURLBase:Config.StationeryConfigURL,maniFilePrefix:"ws_stationery",JSONPCallbackPostFix:"?callback=?",resourceURL:Config.StationeryConfigResourcePath,maxItemLabelLenInList:23,maxItemLabelLenInSelection:11,lang:"en",country:"us"},startup:function(){ws.WebSuite.StationeryWidget=this;JSONCallback=function(a){var b=ws.WebSuite.StationeryWidget;if(a&&a.categories)b.categories=a.categories,b.initialize();
else if(a&&a.items){a.itemMap={};for(var c=0;c<a.items.length;c++)a.itemMap[a.items[c].id]=a.items[c];b.items[a.categoryId]=a;if(b.categories[b.selCatIdx].id==a.categoryId)b.categoriesReady=!0,b.categoriesReadyCB?b.categoriesReadyCB():b._populateItemList(a)}};this.rcKey=this.rcCategory.id;this.jsonLoading=!0;_ws.loadScript({src:Config.StationeryConfigURL+"ws_stationery.js",load:a.hitch(this,function(){this.jsonLoading=!1}),error:a.hitch(this,function(){this.jsonLoading=!1})});this.connect(this.list,
"onclick",this._clickHandler)},initialize:function(){for(var d=[],b=0;b<this.categories.length;b++){var c=this.categories[b];d.push({caption:c.label,onClick:a.hitch(this,"catMenuClick",b),params:{catIdx:b},enabled:"RECENTLYUSED"==c.id?!1:!0})}d.push({separator:!0});var b="about:blank",f=c="",h=this.params.selected;if(h&&h.id&&h.label)b=Config.StationeryConfigResourcePath+h.version+"/"+h.id+"/thumbnail.jpg",c=h.label,c.length>this.params.maxItemLabelLenInSelection&&(c=c.substring(0,this.params.maxItemLabelLenInSelection)+
"..."),f=h.label;d.push({noHoverColor:!0,caption:"<div><div>"+Config.Strings.StationeryCurrent+"</div><div class='imgOuterWrapper'><div class='imgInnerWrapper' title='"+f+"'><img style='' width=120 src='"+b+"'/><div class='overlay'></div><span>"+c+"</span></div></div><a class='clear'>"+Config.Strings.StationeryClearLinkLbl+"</a>",stayOpenAfterClick:!0});this.catButton.setLabel(this.categories[this.selCatIdx].label);this.catButton.setMenuDefinition(d);this.catButton.getMenu();this.catMenu=this.catButton.menu;
this.catMenu.recentlyUsedIdx=2;this.catMenu.separatorIdx=d.length-1;this.catMenu.currentSelectionIdx=d.length;this.connect(this.catMenu.domNode,"onmousedown",this._clearClick);this.catMenu.hideChild(this.catMenu.separatorIdx);this.catMenu.hideChild(this.catMenu.currentSelectionIdx);this._init=!0;this.setListPaneHeight();this.populateItemList(this.categories[this.selCatIdx].id);this.resize()},selectStationery:function(d,b){this.lookInAllCats=b;this.categoriesReady?this._selectStationery(d):this.categoriesReadyCB=
a.hitch(this,function(){this._selectStationery(d)})},findIdInCurrentCat:function(a){if(this.categories&&this.categories[this.selCatIdx]&&this.categories[this.selCatIdx].id){var b=this.categories[this.selCatIdx].id;if(this.items&&this.items[b]&&(b=this.items[b])&&b.itemMap&&b.itemMap[a])return b.itemMap[a]}return null},_selectStationery:function(d){var d=d.toLowerCase(),b=this.findIdInCurrentCat(d);if(this.lookInAllCats&&!b){if(this.categories)if(this.selCatIdx++,this.selCatIdx<this.categories.length){var c=
this.categories[this.selCatIdx].id;if(c)if(this.categoriesReadyCB=a.hitch(this,function(){this._selectStationery(d)}),8>=a.isIE){var f=a.hitch(this,function(){this.jsonLoading?setTimeout(a.hitch(this,f),10):this.requestItemList(c)});f()}else this.requestItemList(c)}else this.selCatIdx=0,c=this.categories[this.selCatIdx].id,this._populateItemList(this.items[c]),ws.widget.Dialogs.ok(Config.Strings.SuitePromoteStationeryNotFound)}else{if(this.lookInAllCats)this.lookInAllCats=this.categoriesReadyCB=null,
this.catMenuClick(this.selCatIdx),this.list.innerHTML="",c=this.categories[this.selCatIdx].id,this._populateItemList(this.items[c]);var h=null,n=this.params;if(!n.selected)n.selected={};if(b&&(n=a.query(".list li",this.domNode))&&n.length)for(var e=0;e<n.length;e++)if(n[e].getAttribute("stationery")==d){h=n[e];break}b&&h&&this._setStationery(b,h)}},_setStationery:function(d,b){var c=this.params;a.addClass(b,"selected");a.query(".overlay",b).style("display","none");a.query(".clearOverlay",b).style("display",
"");a.query(".clear",b).style("display","");c.selected.id=d.id;c.selected.label=d.label;c.selected.version=d.version;c.selected.imgWidth=156;c.selected.imgHeight=70;this.catMenu.showChild(this.catMenu.separatorIdx);a.query("#"+this.catMenu.id+" img").attr("src",Config.StationeryConfigResourcePath+c.selected.version+"/"+c.selected.id+"/thumbnail.jpg");var f=c.selected.label,h=ws.string.escapeXml(f);a.query("#"+this.catMenu.id+" .imgInnerWrapper").attr("title",h);f.length>c.maxItemLabelLenInSelection&&
(f=f.substring(0,c.maxItemLabelLenInSelection)+"...",h=ws.string.escapeXml(f));a.query("#"+this.catMenu.id+" .imgInnerWrapper span")[0].innerHTML=h;this.catMenu.showChild(this.catMenu.currentSelectionIdx);f=Config.StationeryConfigTemplatePath;f=f.replace(/\{0\}/,Config.StationeryConfigVersion);a.publish("stationery/select",[c.selected,f+c.selected.id+"/template.htm",null,Config.StationeryConfigResourcePath+c.selected.version+"/"+c.selected.id+"/thumbnail.jpg"]);ws.WebSuite&&ws.WebSuite.SidePanel&&
ws.WebSuite.SidePanel.showStationery(!0)},closeStationery:function(){a.publish("stationery/close")},catMenuClick:function(a){this.params.catIdx=a;this.selCatIdx=this.catButton.params.catIdx=this.params.catIdx;this.catButton.setLabel(this.categories[this.selCatIdx].label);this.populateItemList(this.categories[this.selCatIdx].id);this.setListPaneHeight();return!1},requestItemList:function(d){if(!this.items[d])d=this.params.maniURLBase+this.params.maniFilePrefix+"_"+d+".js",this.jsonLoading=!0,_ws.loadScript({src:d,
load:a.hitch(this,function(){this.jsonLoading=!1}),error:a.hitch(this,function(){this.jsonLoading=!1})})},populateItemList:function(a){this.list.innerHTML="";this.items[a]?this._populateItemList(this.items[a]):this.requestItemList(a)},reset:function(){this._clearSelectedItem();this.catMenuClick(0)},_clearSelectedItem:function(){var d;this.params.selected&&(d=a.query("[stationery="+this.params.selected.id+"]",this.domNode));d&&0<d.length&&a.removeClass(d[0],"selected");this.params.selected=null;this.catMenu.hideChild(this.catMenu.separatorIdx);
this.catMenu.hideChild(this.catMenu.currentSelectionIdx)},_clearClick:function(d){if(d.target&&("clear"==d.target.className||a.hasClass(d.target,"selected")))d.stopPropagation&&d.stopPropagation(),this.catMenu.hideChild(this.catMenu.separatorIdx),this.catMenu.hideChild(this.catMenu.currentSelectionIdx),this.catMenu.hide(),a.query(".list li",this.domNode).removeClass("selected"),this.params.selected=null,a.publish("stationery/clear",[this.params.selected,null])},getItemsInCat:function(a){var b=[];
return b=a.items},updateRecentlyUsed:function(a,b,c){if(!c||!c.id)return a;for(var b=a[b],f=b.items.length-1;0<=f;f--)b.items[f].id==c.id&&b.items.splice(f,1);var f={},h;for(h in c)f[h]=c[h];b.items.splice(0,0,f);if(!this.params.maxInRecentlyUsed)this.params.maxInRecentlyUsed=5;b.items&&b.items.length>this.params.maxInRecentlyUsed&&b.items.splice(this.params.maxInRecentlyUsed,1);catMenu.showChild(catMenu.recentlyUsedIdx);return a},_populateItemList:function(a){for(var a=a.items,b="",c=0,f=0;f<a.length;f++){var h=
a[f],n="";this.params.selected&&this.params.selected.id==h.id&&(n="selected");var e=h.imgWidth||156,j=h.imgHeight||70,g=h.label;h.label.length>this.params.maxItemLabelLenInList&&(g=h.label.substring(0,this.params.maxItemLabelLenInList)+"...");var k=ws.string.escapeXml(h.label),b=b+("<li _ver='"+h.version+"' stationery='"+h.id+"' class='"+n+"' label='"+k+"' imgWidth= "+e+" imgHeight="+j+">"),b=b+("<div class='item'><img style= width="+e+" height="+j+" src='"+Config.StationeryConfigResourcePath+h.version+
"/"+h.id+"/thumbnail.jpg'/>"),b=b+("<div class='overlay'>"+g+"</div>"),b=b+("<div class='imgOverlay'><div class='imgSelected'><div class='btnArrowImg'></div><span>"+Config.Strings.ThemesPickerSelected+"</span></div></div>"),b=b+"</div></li>";c++}this.list.innerHTML+=b},_clickHandler:function(d){for(var b=d.target;"list"!=b.className&&!("li"==b.tagName.toLowerCase());)b=b.parentNode;if("list"!=b.className)a.hasClass(b,"selected")?(d.stopPropagation(),this._clearClick({target:b})):(this._clearSelectedItem(),
a.addClass(b,"selected"),this.params.selected=this.params.selected||{},this.params.selected.id=a.attr(b,"stationery"),this.params.selected.label=ws.string.unescapeXml(a.attr(b,"label")),this.params.selected.version=a.attr(b,"_ver"),this.params.selected.imgWidth=a.attr(b,"imgWidth"),this.params.selected.imgHeight=a.attr(b,"imgHeight"),this.catMenu.showChild(this.catMenu.separatorIdx),a.query("#"+this.catMenu.id+" img").attr("src",Config.StationeryConfigResourcePath+this.params.selected.version+"/"+
this.params.selected.id+"/thumbnail.jpg"),d=this.params.selected.label,ws.string.escapeXml(d),a.query("#"+this.catMenu.id+" .imgInnerWrapper").attr("title",d),d.length>this.params.maxItemLabelLenInSelection&&(d=d.substring(0,this.params.maxItemLabelLenInSelection)+"...",ws.string.escapeXml(d)),this.catMenu.showChild(this.catMenu.currentSelectionIdx),this.catMenu.close(),d=Config.StationeryConfigTemplatePath,d=d.replace(/\{0\}/,Config.StationeryConfigVersion),a.publish("stationery/select",[this.params.selected,
d+this.params.selected.id+"/template.htm",null,Config.StationeryConfigResourcePath+this.params.selected.version+"/"+this.params.selected.id+"/thumbnail.jpg"]))},setListPaneHeight:function(){var d=a.marginBox(this.domNode).h,b=a.marginBox(this.titleDiv).h,c=a.marginBox(this.category).h;a.style(this.listPane,"height",Math.max(d-b-c-0-15,0)+"px")},resize:function(){this._init&&(this.setListPaneHeight(),this.catMenu.hide())},onResized:function(){document.all?(window.resizeEnd=null==window.resizeEnd?{}:
window.resizeEnd,clearTimeout(window.resizeEnd),window.resizeEnd=setTimeout(this.resize,100)):this.resize()}})})},"ws/dnd/GridDragSource":function(){define("ws/dnd/GridDragSource","dojo/_base/declare,dojo,ws/dnd/HtmlDragManager,ws/dnd/HtmlDragSource,ws/dnd/GridDragObject,ws/html".split(","),function(l,g,k,a,m){return l([a],{constructor:function(a,f,e){this.dragObjectCtor=m;this.listView=e},onDragStart:function(){g.publish("dragStart",[{source:this}]);for(var a=ws.dnd.dragManager.mouseDownTarget;null!=
a&&!g.hasClass(a,"dojoxGrid-row");)a=a.parentNode;if(null==a)return null;this.dragObject=a;this.rowIndex=a.gridRowIndex;a=new this.dragObjectCtor(this.dragObject,this.type,this.listView);if(this.dragClass)a.dragClass=this.dragClass;this.constrainToContainer&&a.constrainTo(this.constrainingContainer||this.domNode.parentNode);return a},onDragEnd:function(){g.publish("dragEnd",[{source:this}])}})})},"url:ws/themes/widget/ThemePickerDialog.html":'<div class="WSModalPane ThemePickerModal">\n\t<div class="WSModalPaneInner">\n\t\t<div class="modalContainer">\n\t\t\t<div data-dojo-type="ws/widget/Pane" class="themePickerDlg">\n\t\t\t\t<div class="header" data-dojo-attach-point="hdrTitle1">\n\t\t\t\t\t${ThemesPickerDialogTitle}</div>\n\t\t\t\t<div data-dojo-attach-point="themeItemPaneWrapper" class="themeItemPaneWrapper">\n\t\t\t\t\t<div data-dojo-type="ws/widget/ContainerPane" data-dojo-attach-point="themeItemPane" class="themeItemPane">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="toolbarPad">\n\t\t\t\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-attach-point="toolbar" viztype="Bare">\n\t\t\t\t\t\t<div class="themeCancelBtn" data-dojo-type="dijit/_Widget" data-dojo-props="toolbarPosition: \'right\'">\n\t\t\t\t\t\t\t<a href="#" data-dojo-attach-event="onclick: handleCancel" class="wsLink" data-dojo-attach-point="themeCancelBtn">${ThemesPickerDialogCancel}</a></div>\n\t\t\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-point="themeSaveBtn" data-dojo-attach-event="onClick: handleSaveBtn" data-dojo-props="toolbarPosition: \'right\'">\n\t\t\t\t\t\t\t${ThemesPickerDialogSave}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="useRandomDiv" data-dojo-attach-point="useRandomDiv">\n\t\t\t\t\t<div data-dojo-type="ws/widget/Checkbox" data-dojo-attach-event="onClick:checkBoxChange" data-dojo-attach-point="useRandomCheckbox" label="${ThemesPickerDialogUseRandom}" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',
"ws/widget/WSInputableMenuItem":function(){define("ws/widget/WSInputableMenuItem","dojo/_base/declare,dojo,dijit,dijit/_WidgetsInTemplateMixin,ws/widget/WSMenuItem,ws/widget/DefaultTextbox,ws/html,ws/string".split(","),function(l,g,k,a,m){return l([m,a],{templateString:'<tr class="wsMenuItem" data-dojo-attach-event="onclick: _onClick">\t<td tabIndex="-1" colspan="3" class="inputableItemLabel" data-dojo-attach-point="labelNode">\t\t<div class="inputContainer" data-dojo-attach-point="inputContainer" data-dojo-attach-event="onkeypress: _onKeyPress">\t\t\t<div data-dojo-type="ws/widget/DefaultTextbox" className="${inputClassName}" data-dojo-attach-point="input" maxlength="${maxlength}" defaultValue="${defaultValue}"></div>\t\t\t<img class="wsLargeAdd" data-dojo-attach-point="newButton" data-dojo-attach-event="onclick: onAdd" src="${spacer}"/>           <img style="width:35px; height:1px;" src="${spacer}"/>\t\t</div>\t</td></tr>',
okCB:null,originalMenuItem:null,defaultValue:"",inputClassName:"newInput",maxlength:255,startup:function(){this.connect(this.getParent(),"onClose","restore")},setCaption:function(a){this.labelNode.innerHTML=a},initializeText:function(a){if(a&&a==this.input.defaultValue){var f=this.input.defaultValue;this.input.defaultValue="";this.input.setValue(a);this.input.textbox.select();setTimeout(g.hitch(this,function(){this.input.defaultValue=f}),0)}else this.input.setValue(a?a:""),this.input.textbox.select()},
_onClick:function(){},_onKeyPress:function(a){if(a.keyCode==g.keys.ENTER){if(this.okCB){var f=!1,f=this.okCB({newName:this.input.getValue()});this.restore();f||this.getParent().close()}}else a.keyCode==g.keys.ESCAPE&&this.restore(!0);a.stopPropagation()},onAdd:function(a){var f=this.input.getValue();if(f){var e=!1;this.okCB&&(e=this.okCB({newName:f}));this.restore();e||this.getParent().close()}a.stopPropagation()},restore:function(){this.originalMenuItem&&this.originalMenuItem.show();this.hide()}})})},
"url:ws/mail/EditFolderDialog.html":'<div class="WSModalPane editFolder">\n\t<div class="WSModalPaneInner">\n\t\t<img src="${spacer}" class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick: hide" />\n\t\t<div class="modalContainer">\n\t\t\t<div class="content" data-dojo-attach-point="content">\n\t\t\t\t<div class="header">${EditFolder}</div>\n\t\t\t\t<div data-dojo-attach-point="inputNameDiv" class="wsToolBar" data-dojo-type="ws/widget/WSToolbar" viztype="Bare" style="width:340px">\n\t\t\t\t\t<div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="toolbarPosition: \'left\'" data-dojo-attach-event="onKeyUp: onKeyPressInputField"\tdata-dojo-attach-point="renameInput" maxlength="32"></div>\n\t\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-props="toolbarPosition: \'left\'" data-dojo-attach-event="onClick: renameFolder" style="margin-left:10px">${Save}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="info" data-dojo-attach-point="infoNode">\n\t\t\t\t\t<span data-dojo-attach-point="msgCountNode"></span>&nbsp;${Messages} &nbsp;|&nbsp; <span data-dojo-attach-point="sizeNode"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class="actions">\n\t\t\t\t\t<span data-dojo-attach-point="emptyLink" class="wsLink" data-dojo-attach-event="onclick: emptyFolder" style="visibility:hidden">${Empty}</span> <span class="pipe" data-dojo-attach-point="linkSep" style="visibility:hidden">|</span> <span class="wsLink" data-dojo-attach-event="onclick: checkFiltersBeforeDeleteFolder">${Delete}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',
"url:ws/mail/MessageStatusDialog.html":'<div class="WSModalPane dialogContent">\n\t<div class="WSModalPaneInner">\n\t\t<div class="modalContainer">\n\t\t\t<div style="width:100%;*height:200px;max-height:300px;overflow-y:auto">\n\t\t\t\t<div data-dojo-attach-point="titleNode" class="statusTitle"></div>\n\t\t\t\t<div data-dojo-attach-point="statusBodyNode" class="statusBody">\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td valign="top" align="left" data-dojo-attach-point="statusNode"></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t\t<div data-dojo-attach-point="additionalStatuses"></div>\n\t\t\t</div>\n\t\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-attach-point="statusToolbar" vizType="Bare">\n\t\t\t\t<div data-dojo-attach-point="okButton" data-dojo-type="ws/widget/Button" minWidth="26" data-dojo-props="toolbarPosition: \'center\'" data-dojo-attach-event="onClick: hide">${OK}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>',
"ws/address/EditContactDialog":function(){require({cache:{"url:ws/address/EditContactDialog.html":'<div class="editContact" data-dojo-attach-event="onkeydown: onKeyPressInputField">\n    <div data-dojo-attach-point="layoutWidget" data-dojo-type="dijit/layout/BorderContainer" style="height: 100%; width: 100%;">\n\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-attach-point="toolbar" data-dojo-props="region:\'top\'" vizType="Controls">\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-point="deleteContactButton" data-dojo-attach-event="onClick: deleteContact" title="${DeleteContactTip}" iconClassName="delIcon">${Delete}</div>\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:cancel" title="${Cancel}" iconClassName="cancelIcon" data-dojo-props="toolbarPosition: \'right\'"></div>\n\t\t</div>\n        <div data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'center\'" class="editContainer">\n            <div class="parentContainer">\n\n                <div class="contactType" data-dojo-attach-point="contactTypeSpan"></div>\n\n                <div data-dojo-attach-point="buddyIconNode" class="buddyIconNode" style="display:none;">\n                    <div style="float:left" data-dojo-type="ws/widget/BuddyIcon" data-dojo-attach-point="buddyIcon"></div>\n                    <div style="float:left" data-dojo-attach-point="theName" class="theName"></div>\n                </div>\n                <div data-dojo-attach-point="firstLastNameBlk" class="firstNameDiv">\n                    <div style="float:left">\n                        <label>${FirstName}</label>\n                        <div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'regularInput\'" data-dojo-attach-point="firstNameInput1" maxlength="255" tabindex="1"></div>\n                    </div>\n                    <div style="float:left">\n                        <label>${LastName}</label>\n                        <div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'regularInput\'" data-dojo-attach-point="lastNameInput1"  maxlength="255" tabindex="2"></div>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="lastFirstNameBlk">\n                    <div style="float:left">\n                        <label>${LastName}</label>\n                        <div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'regularInput\'" data-dojo-attach-point="lastNameInput2"  maxlength="255" tabindex="1"></div>\n                    </div>\n                    <div style="float:left">\n                        <label>${FirstName} *</label>\n                        <div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'regularInput\'" data-dojo-attach-point="firstNameInput2" maxlength="255" tabindex="2"></div>\n                    </div>\n                </div>\n                <div>\n                    <label>${Nickname}</label>\n                    <div><div class="regularInput" data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'buddyIconInput\'" data-dojo-attach-point="nickNameInput" maxlength="90" tabindex="3"></div></div>\n                </div>\n                <div data-dojo-attach-point="row" style="display:none;">\n                    <label>${DisplayName}</label>\n                    <div><input type="text" maxlength="80" class="wsInput regularInput" data-dojo-attach-point="displayNameInput" tabindex="3" /></div>\n                </div>\n\n                <div data-dojo-attach-point="row1">\n                    <label>${ScreenName}</label>\n                    <div><input type="text" maxlength="80" class="wsInput regularInput" data-dojo-attach-point="screenNameInput" tabindex="3" /></div>\n                </div>\n\n                <div data-dojo-attach-point="row2" class="row2">\n                    <label>${Email1}</label>\n                    <div><input type="text" maxlength="255" class="wsInput regularInput" data-dojo-attach-point="email1Input" tabindex="4" /> <a href="#" data-dojo-attach-point="addAnotherEmailLink" data-dojo-attach-event="onclick: addAnotherEmail" class="wsLink addAnother">+ ${Another}</a></div>\n                </div>\n\n                <div data-dojo-attach-point="row3">\n                    <label>${Email2}</label>\n                    <div><input type="text" maxlength="255" class="wsInput regularInput" data-dojo-attach-point="email2Input" tabindex="5" /></div>\n                </div>\n\n                <div data-dojo-attach-point="row4">\n                    <label>${PhonePrimary}</label>\n                    <div>\n                        <input type="text" maxlength="255" class="wsInput phoneInput leftAlign" data-dojo-attach-point="phone1Input" tabindex="6" />\n                        <ul data-dojo-type="ws/widget/WSSelect" data-dojo-props="\'class\': \'phoneDropDownButton leftAlign\'" tabindex="7" data-dojo-attach-point="phone1Button">\n                            <li value="Cellular">${Cellular}</li>\n                            <li value="Home">${Home}</li>\n                            <li value="Work">${Work}</li>\n                            <li value="Pager">${Pager}</li>\n                            <li value="Fax">${Fax}</li>\n                        </ul>\n                        <a href="#" data-dojo-attach-point="phone1Link" data-dojo-attach-event="onclick: addAnotherPhone1" class="wsLink addAnother leftAlign">+ ${Another}</a>\n                    </div>\n                </div>\n\n\n                <div data-dojo-attach-point="row5">\n                    <label>${PhoneOther}</label>\n                    <div>\n                        <input type="text" maxlength="255" class="wsInput phoneInput leftAlign" data-dojo-attach-point="phone2Input" tabindex="8" />\n                        <ul data-dojo-type="ws/widget/WSSelect" data-dojo-props="\'class\': \'phoneDropDownButton leftAlign\'" tabindex="9" data-dojo-attach-point="phone2Button">\n                            <li value="Cellular">${Cellular}</li>\n                            <li value="Home">${Home}</li>\n                            <li value="Work">${Work}</li>\n                            <li value="Pager">${Pager}</li>\n                            <li value="Fax">${Fax}</li>\n                        </ul>\n                        <a href="#" data-dojo-attach-point="phone2Link" data-dojo-attach-event="onclick: addAnotherPhone2" class="wsLink addAnother leftAlign">+ ${Another}</a>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row6">\n                    <label>${PhoneOther}</label>\n                    <div>\n                        <input type="text" maxlength="255" class="wsInput phoneInput leftAlign" data-dojo-attach-point="phone3Input" tabindex="10" />\n                        <ul data-dojo-type="ws/widget/WSSelect" data-dojo-props="\'class\': \'phoneDropDownButton leftAlign\'" tabindex="11" data-dojo-attach-point="phone3Button">\n                            <li value="Cellular">${Cellular}</li>\n                            <li value="Home">${Home}</li>\n                            <li value="Work">${Work}</li>\n                            <li value="Pager">${Pager}</li>\n                            <li value="Fax">${Fax}</li>\n                        </ul>\n                        <a href="#" data-dojo-attach-point="phone3Link" data-dojo-attach-event="onclick: addAnotherPhone3" class="wsLink addAnother leftAlign">+ ${Another}</a>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row7">\n                    <label>${PhoneOther}</label>\n                    <div>\n                        <input type="text" maxlength="255" class="wsInput phoneInput leftAlign" data-dojo-attach-point="phone4Input" tabindex="12" />\n                        <ul data-dojo-type="ws/widget/WSSelect" data-dojo-props="\'class\': \'phoneDropDownButton leftAlign\'" tabindex="13" data-dojo-attach-point="phone4Button">\n                            <li value="Cellular">${Cellular}</li>\n                            <li value="Home">${Home}</li>\n                            <li value="Work">${Work}</li>\n                            <li value="Pager">${Pager}</li>\n                            <li value="Fax">${Fax}</li>\n                        </ul>\n                        <a href="#" data-dojo-attach-point="phone4Link" data-dojo-attach-event="onclick: addAnotherPhone4" class="wsLink addAnother leftAlign">+ ${Another}</a>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row8">\n                    <label>${PhoneOther}</label>\n                    <div>\n                        <input type="text" maxlength="255" class="wsInput phoneInput leftAlign" data-dojo-attach-point="phone5Input" tabindex="14" />\n                        <ul data-dojo-type="ws/widget/WSSelect" data-dojo-props="\'class\': \'phoneDropDownButton leftAlign\'" tabindex="15" data-dojo-attach-point="phone5Button">\n                            <li value="Cellular">${Cellular}</li>\n                            <li value="Home">${Home}</li>\n                            <li value="Work">${Work}</li>\n                            <li value="Pager">${Pager}</li>\n                            <li value="Fax">${Fax}</li>\n                        </ul>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row9" class="categoryList">\n                    <div>\n                        <div className="categoryDropDownButton" data-dojo-type="ws/widget/DropDownLink" tabindex="16" arrowSize="large" data-dojo-attach-point="categoryButton" data-dojo-attach-event="onClick: refreshDefaultItems, onKeyPress: refreshDefaultItems"></div>\n                    </div>\n                </div>\n\n                <div data-dojo-attach-point="row10">\n                    <div class="headerLabels ciLabel">${CompanyInfo}</div>\n                </div>\n\n                <div data-dojo-attach-point="row11">\n                    <div style="float:left;">\n                        <label>${CompanyNameInfo}</label>\n                        <div><input type="text" maxlength="255" class="wsInput regularInput" data-dojo-attach-point="companyInput" tabindex="16" /></div>\n                    </div>\n                    <div style="float:left;">\n                        <label>${JobTitle}</label>\n                        <input type="text" maxlength="255" class="wsInput jobTitleInput regularInput" data-dojo-attach-point="jobTitleInput" tabindex="17" />\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row12">\n                    <label>${Department}</label>\n                    <input type="text" maxlength="255" class="wsInput deptInput" data-dojo-attach-point="deptInput" tabindex="18" />\n                </div>\n\n                <div data-dojo-attach-point="row13" class="fll">\n                    <div class="headerLabels">${CompanyAddress}</div>\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv">\n                            <div class="addressInputLabels">${Street}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="workStreet1Input" tabindex="19" />\n                            <a href="#" data-dojo-attach-point="addAnotherWorkStreet1Link" data-dojo-attach-event="onclick: addAnotherWorkStreet1" class="wsLink addAnother">+ ${StreetField}</a>\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row14" class="fll">\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv">\n                            <div class="addressInputLabels">${Street}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="workStreet2Input" tabindex="20" />\n                            <a href="#" data-dojo-attach-point="addAnotherWorkStreet2Link" data-dojo-attach-event="onclick: addAnotherWorkStreet2" class="wsLink addAnother">+ ${StreetField}</a>\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row15" class="fll">\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${Street}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="workStreet3Input" tabindex="21"/>\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row16">\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${City}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="workCityInput" />\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row17" class="fl">\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels" data-dojo-attach-point="workStateLabel">${State}</div>\n                            <input type="text" maxlength="255" class="addressStateInput" data-dojo-attach-point="workStateInput" />\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row18" class="fl">\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${Zip}</div>\n                            <input type="text" maxlength="255" class="addressZipInput" data-dojo-attach-point="workZipInput" />\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row19" class="fl">\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${Country}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="workCountryInput" />\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row20"></div>\n                <div data-dojo-attach-point="row21" class="fll">\n                    <div class="headerLabels">${Home} ${Address}</div>\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv">\n                            <div class="addressInputLabels">${Street}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="homeStreet1Input" tabindex="22" />\n                            <a href="#" data-dojo-attach-point="addAnotherHomeStreet1Link" data-dojo-attach-event="onclick: addAnotherHomeStreet1" class="wsLink addAnother">+ ${StreetField}</a>\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row22" class="fll">\n                    <div>\n                    <\!--\n                        <div class="addressFieldDiv">\n                            <div class="addressInputLabels">${Street}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="homeStreet2Input" tabindex="23"/>\n                            <a href="#" data-dojo-attach-point="addAnotherHomeStreet2Link" data-dojo-attach-event="onclick: addAnotherHomeStreet2" class="wsLink addAnother">+ ${StreetField}</a>\n                        </div>\n                    --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row23" class="fll">\n                    <div>\n                    <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${Street}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="homeStreet3Input" tabindex="24"/>\n                        </div>\n                    --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row24">\n                    <div>\n                    <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${City}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="homeCityInput" />\n                        </div>\n                    --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row25" class="fl">\n                    <div>\n                    <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels" data-dojo-attach-point="homeStateLabel">${State}</div>\n                            <input type="text" maxlength="255" class="addressStateInput" data-dojo-attach-point="homeStateInput" />\n                        </div>\n                    --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row26" class="fl">\n                    <div>\n                    <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${Zip}</div>\n                            <input type="text" maxlength="255" class="addressZipInput" data-dojo-attach-point="homeZipInput" />\n                        </div>\n                    --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row27" class="fl">\n                    <div>\n                    <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${Country}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="homeCountryInput" />\n                        </div>\n                    --\>\n                    </div>\n                </div>\n\n                <div data-dojo-attach-point="row28">\n                    <div class="headerLabels piLabel">${PersonalInfo}</div>\n                </div>\n\n                <div data-dojo-attach-point="row29" class="fl">\n                    <label>${SpouseOrSignificant}</label>\n                    <div><input type="text" maxlength="80" class="wsInput regularInput" data-dojo-attach-point="personalSpouseInput" tabindex="25"/></div>\n                </div>\n                <div data-dojo-attach-point="row30" class="fl">\n                    <label>${KidsQuestion}</label>\n                    <div><input type="text" maxlength="80" class="wsInput regularInput" data-dojo-attach-point="personalFamilyInput" tabindex="26"/></div>\n                </div>\n                <div data-dojo-attach-point="row31">\n                    <div style="float:left;">\n                        <label>${Birthday}</label>\n                        <div><input type="text" maxlength="80" class="wsInput regularInput" data-dojo-attach-point="personalBirthdayInput" tabindex="27"/></div>\n                    </div>\n                    <div style="float:left;">\n                        <label>${Anniversary}</label>\n                        <div><input type="text" maxlength="80" class="wsInput regularInput" data-dojo-attach-point="personalAnniversaryInput" tabindex="28"/></div>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row32">\n                    <label>${Notes}</label>\n                    <div><div data-dojo-type="ws/widget/DefaultTextarea" data-dojo-props="\'class\': \'regularInput notes\'" data-dojo-attach-point="personalNotesInput" maxLength="4096" rows="4" tabindex="29"></div></div>\n                </div>\n                <div data-dojo-attach-point="row33"></div>\n                <div data-dojo-attach-point="row34"></div>\n                <div data-dojo-attach-point="row35">\n                    <div>\n                        <a href="#" class="addMoreDetail" data-dojo-attach-event="onclick: showAllDetails">${AddMoreDetail}</a>\n                    </div>\n                </div>\n                <div class="buttonGroup">\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-point="saveContactButton" data-dojo-attach-event="onClick: checkRequiredFields" title="${SaveContactTip}">\n                        ${AddContact}\n                    </div>\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: cancel" data-dojo-attach-point="cancelContactButton" type="Bare">\n                        ${Cancel}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n',
"url:ws/address/EditContactDialog.css":""}});define("ws/address/EditContactDialog","dojo/_base/declare,dojo/text!ws/address/EditContactDialog.html,dojo/text!ws/address/EditContactDialog.css,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,ws/widget/WSInputableMenuItem,dijit/layout/BorderContainer,ws/date,ws/widget/BuddyIcon,ws/widget/DefaultTextbox,ws/widget/DefaultTextarea,ws/widget/Dialogs,ws/widget/Pane,ws/widget/WSToolbar".split(","),function(l,g,k,a,m,j,f,e,d){return l([j,
f,e],{templateString:g,css:{templateString:k},_earlyTemplatedStartup:!0,addressModel:null,closeCB:null,cancelCB:null,backToListCB:null,uid:null,data:null,returnToGridOnCancel:null,lastFirstFmt:!1,firstNameInput:null,lastNameInput:null,textValues:"personalBirthday,personalAnniversary,displayName,screenName,email1,email2,phone1,phone2,phone3,phone4,phone5,company,jobTitle,dept,workStreet1,workStreet2,workStreet3,workCity,workState,workZip,workCountry,homeStreet1,homeStreet2,homeStreet3,homeCity,homeState,homeZip,homeCountry,personalSpouse".split(","),
preferredEmailTypes:["Undefined","ScreenName","Email1","Email2"],contactPhoneTypes:"Undefined,Cellular,Fax,Home,Pager,Work".split(","),phoneTypeItems:["cellItem","homeItem","workItem","pagerItem","faxItem"],phones:["phone1","phone2","phone3","phone4","phone5"],startup:function(){0==Config.ContactDetailDisplayFormat.toLowerCase().indexOf("last")?(a._destroyElement(this.firstLastNameBlk),this.firstNameInput=this.firstNameInput2,this.lastNameInput=this.lastNameInput2):(a._destroyElement(this.lastFirstNameBlk),
this.firstNameInput=this.firstNameInput1,this.lastNameInput=this.lastNameInput1);for(var b=Config.AddressOrder.split(" "),c=13,d=0;2>d;){var h=!1,c=13;1==d&&(c=21,h=!0);for(var f=0;5>f;f++)"Street"==b[f]?(this._buildAddressFields(this["row"+c],"Street1",h),c++,this._buildAddressFields(this["row"+c],"Street2",h),c++,this._buildAddressFields(this["row"+c],"Street3",h)):this._buildAddressFields(this["row"+c],b[f],h),c++;d++}a.subscribe("Suite/onKeyOnPress",this,"_suiteOnKeyPress");if(a.isIE)this.firstNameInput.textbox.style.marginRight=
"7px";this.cancelContactButton.domNode.title=ws.string.substituteParams(Config.Strings.CancelTip,"("+(a.isMac?Config.Strings.OptKey:Config.Strings.AltKey)+" "+Config.Strings.KeyCancelAddContact+")");h=a.create("span",{style:{left:"-9999px",top:"-9999px"}},a.body());b=0;d=null;for(f=13;19>=f;f++)if(c="row"+f,c=a.query(".addressInputLabels",this[c])[0])d=c,h.innerHTML=d.innerHTML,c=a._getMarginSize(h).w,c>b&&(b=c);a._destroyElement(h);f=0;if(d)f=a._getMarginSize(d).w;if(b>f)for(f=13;27>=f;f++)if(20!=
f&&(c="row"+f,c=a.query(".addressInputLabels",this[c])))(d=c[0])&&a.marginBox(d,{w:b+2});ws.WebSuite.SidePanel.setupAdScroll(this.domNode)},_buildAddressFields:function(b,c,d){var h={City:'<div class="addressFieldDiv2"><label>'+Config.Strings.City+'</label><input type="text" maxlength="255" class="wsInput addressInput"/></div>',State:'<div class="addressFieldDiv2"><label>'+Config.Strings.State+'</label><input type="text" maxlength="255" class="wsInput stateInput" /></div>',Zip:'<div class="addressFieldDiv2"><label>'+
Config.Strings.Zip+'</label><input type="text" maxlength="255" class="wsInput zipInput"/></div>',Country:'<div class="addressFieldDiv2"><label>'+Config.Strings.Country+'</label><input type="text" maxlength="255" class="wsInput countryInput"/></div>',Street1:'<div class="addressFieldDiv2"><label>'+Config.Strings.Street+'</label><input type="text" maxlength="255" class="wsInput addressInput"/><a href="#" class="wsLink addAnother">'+Config.Strings.StreetField+"</a></div>",Street2:'<div class="addressFieldDiv2"><label>'+
Config.Strings.Street+'</label><input type="text" maxlength="255" class="wsInput addressInput"/><a href="#" class="wsLink addAnother">'+Config.Strings.StreetField+"</a></div>",Street3:'<div class="addressFieldDiv2"><label>'+Config.Strings.Street+'</label><input type="text" maxlength="255" class="wsInput addressInput"/></div>'}[c],f=a.query("div:last-child",b)[0];f.innerHTML=h;this[d?"home"+c+"Input":"work"+c+"Input"]=f.getElementsByTagName("input")[0];if("Street1"==c||"Street2"==c||"Street3"==c){var e;
d?(d="addAnotherHome"+c+"Link",h="addAnotherHome"+c,e="home"+c+"Row"):(d="addAnotherWork"+c+"Link",h="addAnotherWork"+c,e="work"+c+"Row");"Street3"!=c&&(this[d]=f.getElementsByTagName("a")[0],this.connect(this[d],"onclick",h));"Street1"!=c&&(this[e]=b)}},buildCategoryDropDownMenu:function(){if(this.addressModel.getCategories()){var b=null,c=[];a.forEach(this.addressModel.getCategories(),a.hitch(this,function(a){c.push(a)}));for(var d=[],b=0;b<c.length;b++){var h=this.translateCategoryName(c[b]),f=
c[b];d.push({caption:h,value:f,onClick:a.hitch(this,"setupCategoryLabel",h,f)})}d.push({separator:!0});d.push({caption:Config.Strings.AddNew,_onClick:a.hitch(this,"addNewCategory"),id:this.id+"newcat"});this.categoryButton.setMenuDefinition(d)}},translateCategoryName:function(a){return"Co-Workers"==a||"Friends"==a||"Family"==a||"General"==a||"Auto-Added"==a||"Uncategorized"==a?Config.Strings["ABCat"+a.replace("-","")]:ws.string.escapeXml(ws.string.summary(a,17))},setupCategoryLabel:function(a,c){this.categoryButton.setLabel(a);
this.categoryButton.value=c},addNewCategory:function(b){b&&b.stopPropagation();b=m.byId(this.id+"newcat");this.newCategoryWidget=new d({defaultValue:Config.Strings.NewCategory,okCB:a.hitch(this,"displayNewCategory"),originalMenuItem:b,inputClassName:"newCategoryInput"});this.categoryButton.menu.addChild(this.newCategoryWidget);this.categoryButton.menu.getChildren();b.hide();ws.lang.setTimeout(this,function(){this.newCategoryWidget.show();this.newCategoryWidget.initializeText(Config.Strings.NewCategory);
if(2==a.isFF)this.categoryButton.menu.domNode.style.minWidth="126px"},0)},displayNewCategory:function(a){return a&&a.newName?(this.setupCategoryLabel(this.translateCategoryName(a.newName),a.newName),!1):!0},refreshDefaultItems:function(){},isEmptyContact:function(){var a=ws.string.sanitize(this.nickNameInput.getValue()),c=ws.string.sanitize(this.firstNameInput.getValue()),d=ws.string.sanitize(this.lastNameInput.getValue());return a?!1:c?!1:d?!1:!0},checkRequiredFields:function(){if(!0==this.isEmptyContact())ws.widget.Dialogs.ok(Config.Strings.EmptyContactMessage);
else{var a="",c="";this.email1Input.value&&!this.isEmailAddress(this.email1Input.value)&&(a=ws.string.substituteParams(Config.Strings.ErrorEmailFormat,Config.Strings.Email1));this.email2Input.value&&!this.isEmailAddress(this.email2Input.value)&&(c=ws.string.substituteParams(Config.Strings.ErrorEmailFormat,Config.Strings.Email2));a?ws.widget.Dialogs.ok(a):c?ws.widget.Dialogs.ok(c):this.saveAndClose()}},isEmailAddress:function(a){a=a.match(/(.+)@(.+)\.(.+)/);return null!=a&&4==a.length},saveAndClose:function(){var b=
m.byId("AddressList").selectedView=null,c={uid:this.uid};if(b=ws.string.sanitize(this.firstNameInput.getValue()))c.firstName=b;if(b=ws.string.sanitize(this.lastNameInput.getValue()))c.lastName=b;b=ws.string.sanitize(this.personalBirthdayInput.value);if(null!=b&&0<b.length)c.personalBirthday=b;b=ws.string.sanitize(this.personalAnniversaryInput.value);if(null!=b&&0<b.length)c.personalAnniversary=b;b=ws.string.sanitize(this.nickNameInput.getValue());c.nickName=b||"";c.personalFamily=ws.string.sanitize(this.personalFamilyInput.value);
if(b=ws.string.sanitize(this.personalNotesInput.getValue()))c.personalNotes=ws.string.summary(b,4096);for(b=2;b<this.textValues.length;b++)c[this.textValues[b]]=ws.string.sanitize(this[this.textValues[b]+"Input"].value);for(b=0;b<this.phoneTypeItems.length;b++)if(this[this.phones[b]+"Input"].value)c[this.phones[b]+"Type"]=this[this.phones[b]+"Button"].currentValue;c.category=this.categoryButton.containerNode.innerHTML==Config.Strings.ABCatSelectGroup?"Uncategorized":this.categoryButton.value||"Uncategorized";
c.preferredEmail=this.getPreferredEmail(c);this.saveContactButton.disable();c.load=a.hitch(this,"contactSaved");c.error=a.hitch(this,function(b){this.saveContactButton.enable();if(b&&0<=b.indexOf(Config.AddressBookFullCodeString))b=Config.Strings.ErrorAddressBookFull;ws.widget.Dialogs.ok(b||Config.Strings.ErrorSavingContactServerError,a.hitch(this,function(){b==Config.Strings.InvalidBirthdayDate?this.personalBirthdayInput.select():b==Config.Strings.InvalidAnniversaryDate&&this.personalAnniversaryInput.select();
b==Config.Strings.ErrorAddressBookFull&&this.backToList()}))});this.addressModel.createOrModifyContact(c);this.data=c},getPreferredEmail:function(a){return"screenName"in a&&a.screenName?this.preferredEmailTypes[1]:"email1"in a&&a.email1?this.preferredEmailTypes[2]:"email2"in a&&a.email2?this.preferredEmailTypes[3]:this.preferredEmailTypes[1]},populateForm:function(b){if(b){if(Config.ShowPresenceIcon)this.buddyIconNode.style.display="",this.buddyIcon.show(b),this.buddyIcon.onLoad();var c=null;this.row.style.display=
"displayName"in b&&0<a.trim(b.displayName).length?"":"none";if("personalBirthday"in b)this.personalBirthdayInput.value=b.personalBirthday,this.showSection("Personal");if("personalAnniversary"in b)this.personalAnniversaryInput.value=b.personalAnniversary,this.showSection("Personal");b.nickName&&this.nickNameInput.setValue(b.nickName);b.firstName&&this.firstNameInput.setValue(b.firstName);b.lastName&&this.lastNameInput.setValue(b.lastName);if(b.personalFamily)this.personalFamilyInput.value=b.personalFamily,
this.showSection("Personal");b.personalNotes&&(this.personalNotesInput.setValue(b.personalNotes),this.showSection("Personal"));c="";if(b.firstName)c=b.firstName;b.lastName&&(c+=(b.firstName?" ":"")+b.lastName);if(c)this.theName.innerHTML=c;for(c=2;c<this.textValues.length;c++)if(this[this.textValues[c]+"Input"].value=this.textValues[c]in b?b[this.textValues[c]]:"",this[this.textValues[c]+"Input"].value)10<c&&20>c?this.showSection("Work"):19<c&&27>c?this.showSection("Home"):26<c?this.showSection("Personal"):
this[this.textValues[c]+"Input"].parentNode.parentNode.style.display="";if(this.email2Input.value)this.addAnotherEmailLink.style.display="none";for(c=0;c<this.phones.length;c++)if(this.setPhoneTypeMenu(this[this.phones[c]+"Button"],this.phones[c]+"Type"in b?b[this.phones[c]+"Type"]:"Undefined"),4>c&&this.phones[c+1]+"Type"in b)this[this.phones[c]+"Link"].style.display="none";this.categoryButton.setLabel("category"in b?this.translateCategoryName(b.category):Config.Strings.ABCatGeneral);this.categoryButton.value=
"category"in b?b.category:"General"}else{for(b=0;b<this.textValues.length;b++)this[this.textValues[b]+"Input"].value="";this.theName.innerHTML="";this.nickNameInput.setValue();this.firstNameInput.setValue();this.lastNameInput.setValue();this.personalFamilyInput.value="";this.personalNotesInput.setValue();this.buddyIconNode.style.display="none"}},setPhoneTypeMenu:function(a,c){switch(c){case this.contactPhoneTypes[3]:a.setOption(1);break;case this.contactPhoneTypes[4]:a.setOption(3);break;case this.contactPhoneTypes[5]:a.setOption(2);
break;case this.contactPhoneTypes[2]:a.setOption(4);break;default:a.setOption(0)}},showSection:function(){for(var a=null,a=10;20>a;a++)this["row"+a.toString()].style.display="";this.workStreet2Input.value?(this.addAnotherWorkStreet1Link.parentNode.className="addressFieldDiv2",this.workStreet2Row.style.display="",this.addAnotherWorkStreet1Link.style.display="none"):this.workStreet2Row.style.display="none";this.workStreet3Input.value?(this.addAnotherWorkStreet2Link.parentNode.className="addressFieldDiv2",
this.workStreet3Row.style.display="",this.addAnotherWorkStreet2Link.style.display="none"):this.workStreet3Row.style.display="none";if(Config.ABHideState)a=this.workStateInput.parentNode.getElementsByTagName("div")[0],a.style.display="none",this.workStateInput.style.display="none";for(a=20;28>a;a++)this["row"+a.toString()].style.display="";this.homeStreet2Input.value?(this.addAnotherHomeStreet1Link.parentNode.className="addressFieldDiv2",this.homeStreet2Row.style.display="",this.addAnotherHomeStreet1Link.style.display=
"none"):this.homeStreet2Row.style.display="none";this.homeStreet3Input.value?(this.addAnotherHomeStreet2Link.parentNode.className="addressFieldDiv2",this.homeStreet3Row.style.display="",this.addAnotherHomeStreet2Link.style.display="none"):this.homeStreet3Row.style.display="none";if(Config.ABHideState)a=this.homeStateInput.parentNode.getElementsByTagName("div")[0],a.style.display="none",this.homeStateInput.style.display="none";for(a=28;32>a;a++)this["row"+a.toString()].style.display="";this.row32.style.display=
"";this.row34.style.display="none";this.row35.style.display="none"},getEmailDomain:function(a){if(null==a||""==a)return"";var c="",a=a.match(/(.*)@(.*)/);null!=a&&3==a.length&&(c=a[2],null!=c&&(c=c.toLowerCase()));return c},showContact:function(b,c,d){this.returnToGridOnCancel=d||!1;this.uid=b||"0";this.data=null;this.populateForm();this.buildCategoryDropDownMenu();this.categoryButton.setLabel(Config.Strings.ABCatSelectGroup);for(d=5;35>d;d++)this["row"+d.toString()].style.display="none";this.row3.style.display=
"none";this.row9.style.display="";this.row34.style.display="";this.row35.style.display="";this.addAnotherEmailLink.style.display="";for(d=1;5>d;d++)this["phone"+d+"Link"].style.display="";this.addAnotherWorkStreet1Link.style.display="";this.addAnotherWorkStreet2Link.style.display="";this.addAnotherHomeStreet1Link.style.display="";this.addAnotherHomeStreet2Link.style.display="";this.deleteContactButton.hide();d=a.isMac?Config.Strings.CtrlReturnKey:Config.Strings.CtrlEnterKey;c?(this.data=c,b?(this.deleteContactButton.show(),
this.contactTypeSpan.style.display="none",ws.lang.setTimeout(this,function(){this.buddyIcon.show(c)},0),b=ws.string.substituteParams(Config.Strings.SaveContactTip,"("+d+")"),this.saveContactButton.setTitle(b),this.saveContactButton.setLabel(Config.Strings.Save)):(this.contactTypeSpan.innerHTML=Config.Strings.NewContact,b=ws.string.substituteParams(Config.Strings.CreateContactTip,"("+d+")"),this.saveContactButton.setTitle(b),this.saveContactButton.setLabel(Config.Strings.AddContact)),this.populateForm(c)):
(this.contactTypeSpan.innerHTML=Config.Strings.NewContact,this.contactTypeSpan.style.display="",b=ws.string.substituteParams(Config.Strings.CreateContactTip,"("+d+")"),this.saveContactButton.setTitle(b),this.saveContactButton.setLabel(Config.Strings.AddContact),this.row.style.display="none");this.resetDirty();this.firstNameInput1.textbox.focus();this.phone1Button.sizeMyself()},addAnotherEmail:function(){this.row3.style.display="";this.addAnotherEmailLink.style.display="none"},addAnotherPhone1:function(){this.row5.style.display=
"";this.phone1Link.style.display="none";this.phone2Button.sizeMyself()},addAnotherPhone2:function(){this.row6.style.display="";this.phone2Link.style.display="none";this.phone3Button.sizeMyself()},addAnotherPhone3:function(){this.row7.style.display="";this.phone3Link.style.display="none";this.phone4Button.sizeMyself()},addAnotherPhone4:function(){this.row8.style.display="";this.phone4Link.style.display="none";this.phone5Button.sizeMyself()},addAnotherWorkStreet1:function(){this.addAnotherWorkStreet1Link.parentNode.className=
"addressFieldDiv2";this.workStreet2Row.style.display="";this.addAnotherWorkStreet1Link.style.display="none"},addAnotherWorkStreet2:function(){this.addAnotherWorkStreet2Link.parentNode.className="addressFieldDiv2";this.workStreet3Row.style.display="";this.addAnotherWorkStreet2Link.style.display="none"},addAnotherHomeStreet1:function(){this.addAnotherHomeStreet1Link.parentNode.className="addressFieldDiv2";this.homeStreet2Row.style.display="";this.addAnotherHomeStreet1Link.style.display="none"},addAnotherHomeStreet2:function(){this.addAnotherHomeStreet2Link.parentNode.className=
"addressFieldDiv2";this.homeStreet3Row.style.display="";this.addAnotherHomeStreet2Link.style.display="none"},showWorkDetail:function(){this.showSection("Work")},showHomeDetail:function(){this.showSection("Home")},showPersonalDetail:function(){this.showSection("Personal")},showAllDetails:function(){this.showWorkDetail();this.showPersonalDetail();this.showHomeDetail()},isDirty:function(){return this.getCurrentStateHash()!=this.initialStateHash},resetDirty:function(){this.initialStateHash=this.getCurrentStateHash()},
getCurrentStateHash:function(){var a="";for(i=0;i<this.textValues.length;i++)a+=this[this.textValues[i]+"Input"].value;a+=this.nickNameInput.getValue();a+=this.firstNameInput.getValue();return a+=this.lastNameInput.getValue()},cancel:function(){ws.reporting.skipBeaconReporting=!0;this.isDirty()&&this.cancelCB?this.cancelCB(a.hitch(this,function(){this.returnToGridOnCancel?this.backToList():this.close()})):this.returnToGridOnCancel?this.backToList():this.close()},close:function(){m.byId("AddressList").selectedView=
null;this.closeCB&&this.closeCB()},contactSaved:function(b){this.resetDirty();this.data.uid=b.uid;this.savedCB(this.data);a.publish("WSFeedbackStart",[this.uid&&"0"!=this.uid?Config.Strings.ContactUpdated:Config.Strings.ContactCreated,!0]);this.saveContactButton.enable()},deleteContact:function(){Config.EnableUndo?(this.addressModel.setUndoItem(this.data),this._deleteContact(!0)):this._confirmationDelete()},_confirmationDelete:function(){ws.widget.Dialogs.okCancel(Config.Strings.DeleteContactsConfirmationSingular,
a.hitch(this,function(a){a&&this._deleteContact()}))},_deleteContact:function(b){this.addressModel.deleteAddresses({uids:[this.uid],load:a.hitch(this,function(c){this.resetDirty();c.isSuccess&&(c=b?a.hitch(this.addressModel,"undoDeletedItem"):null,a.publish("WSFeedbackStart",[Config.Strings.ContactDeletedSingular,!0,c,b?a.hitch(this,function(){this.addressModel.setUndoItem()}):null]))}),error:a.hitch(this,function(a){this.addressModel.setUndoItem();window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,
"Dialogs.ok shown - Error Handler for addressModel.deleteAddresses-_deleteContact file:EditContactDialog.js");ws.widget.Dialogs.ok(a||Config.Strings.ErrorDeletingContactNotFound)})});this.backToList()},_suiteOnKeyPress:function(b){this.isShowing()&&(b=ws.html.fixKeyForMac(b),Config.EnableKeyboardShortcuts&&b.ctrlKey?ws.html.fixKeyCodeForMac(b)==a.keys.ENTER&&this.checkRequiredFields():b.keyChar&&a.isString(b.keyChar)&&b.keyChar.toLowerCase()==Config.Strings.KeyCancelAddContact&&b.altKey&&this.cancel())},
onKeyPressInputField:function(a){if(65<=a.keyCode&&90>=a.keyCode)a.keyChar=String.fromCharCode(a.keyCode);this._suiteOnKeyPress(a)},savedCB:function(){},backToList:function(){m.byId("AddressList").selectedView=null;this.backToListCB&&this.backToListCB()}})})},"ws/widget/HoverCardManager":function(){define("ws/widget/HoverCardManager",["dojo/_base/declare","dojo","ws/html","ws/widget/popup","ws/widget/util"],function(l,g){return l(null,{openDelay:400,closeDelay:400,orient:{TL:"TR"},hoverPointerSide:"right",
hoverNodeClass:null,targetNodeClass:null,constructor:function(k,a,m,j,f){this.topNode=k;this.cardCtor=a;this.rowClass=m;j.manager=this;this.cardParams=j;this.shouldOpenFunction=f;this.mouseMoveHandles=[];this.padding=[ws.widget.pointerWidth,-27];g.connect(this.topNode,"onmouseover",this,"onMouseOverGrid")},setHoverRefNode:function(g,a,m){if(a)this.orient=a;if(m)this.hoverPointerSide=m;if(g)this.hoverNodeClass=g},setTargetNodeClass:function(g){this.targetNodeClass=g},onMouseOverGrid:function(k){if(k){for(var a=
k.target;null!=a&&!g.hasClass(a,this.rowClass);)a=a.parentNode;this.card&&this.card.isShowing()?a&&(!this.targetNodeClass||g.hasClass(k.target,this.targetNodeClass))?this.openSoon(a):this.closeSoon():a&&(!this.targetNodeClass||g.hasClass(k.target,this.targetNodeClass))?this.openSoon(a):this.cancelOpen();this.mouseMoveHandles.length||g.forEach(ws.widget.popup.windows,function(a){try{a.document&&this.mouseMoveHandles.push(g.connect(a.document.documentElement,"onmousemove",this,"onMouseMove"))}catch(j){}},
this)}},onMouseMove:function(k){var a=k.target.ownerDocument==document;this.overCard=a&&this.card&&ws.html.overElement(this.card.domNode,k);this.overTopNode=a&&(g.isIE?g.getComputedStyle(this.topNode):!0)&&ws.html.overElement(this.topNode,k);this.overPointerNode=a&&this.pointerNode&&ws.html.overElement(this.pointerNode,k);this.overCard||this.overPointerNode?this.cancelTimeouts():this.overTopNode||this.closeSoon()},openSoon:function(k){this.cancelTimeouts();this.openTimer=setTimeout(g.hitch(this,"open",
k),this.openDelay)},closeSoon:function(){if(!this.closeTimer)this.cancelTimeouts(),this.closeTimer=setTimeout(g.hitch(this,"close"),this.closeDelay)},cancelTimeouts:function(){this.cancelOpen();this.cancelClose()},cancelOpen:function(){this.openTimer&&clearTimeout(this.openTimer);this.openTimer=null},cancelClose:function(){this.closeTimer&&clearTimeout(this.closeTimer);this.closeTimer=null},open:function(k){this.card&&this.card.isShowing()&&this.close();if(!ws.widget.popup.isAnyPopupOpen()&&k.offsetHeight&&
(this.shouldOpenFunction?this.shouldOpenFunction(k):1)){if(!this.card)this.card=new this.cardCtor(this.cardParams),this.card.startup();this.hoverNode=k;if(this.card.populate(this.hoverNode)){var a=k;this.hoverNodeClass&&(k=g.query("."+this.hoverNodeClass,k))&&(a=k[0]);ws.widget.popup({popup:this.card,around:a,orient:this.orient,padding:this.padding});this.pointerNode=ws.widget.pointer({node:this.card.domNode,side:this.hoverPointerSide,target:a});g.publish("popup/open",[])}}},close:function(){if(!this.overCard&&
!this.overTopNode&&!this.overPointerNode)g.forEach(this.mouseMoveHandles,function(k){try{g.disconnect(k)}catch(a){}}),this.mouseMoveHandles=[];this.card&&ws.widget.popup.close(this.card)}})})},"ws/widget/DropDownLink":function(){define("ws/widget/DropDownLink","dojo/_base/declare,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,ws/widget/DropDownBase,ws/html".split(","),function(l,g,k,a,m,j){return l([a,m,j],{templateString:'<span class="unselectable DropDownLink" data-dojo-attach-point="contentNode" data-dojo-attach-event="onclick:onClick" style="white-space:nowrap;cursor:pointer">\t<span data-dojo-attach-point="containerNode"></span>&nbsp;<img src="${spacer}" class="${arrowClass}"></span>',
className:"",arrowClass:"btnArrowImg",arrowSize:"small",postMixInProperties:function(){this.inherited(arguments);if("large"==this.arrowSize)this.arrowClass="mainSprite btnArrowImgLarge"},startup:function(){this.inherited(arguments);this.tip=null},setLabel:function(a){this.containerNode.innerHTML=a}})})},"url:ws/suite/CaptchaDialog.html":'<div class="WSModalPane captchaDlg">\n\t<div class="WSModalPaneInner">\n\t\t<div class="modalContainer">\n\t\t\t<div class="captchaTitle">${CaptchaDlgTitle}</div>\n\t\t\t<div class="subtext">${CaptchaDlgInfo}</div>\n\t\t\t<div class="subtext1">${CaptchaDlgPrompt}</div>\n\t\t\t<div class="captchaArea">\n\t\t\t\t<div data-dojo-attach-point="error" class="error" style="display:none">${CaptchaDlgError}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-attach-event="onFocus:txtBoxEvnt,onBlur:txtBoxEvnt,onKeyUp:txtBoxEvnt" data-dojo-attach-point="inputBox" maxLength=20 tabindex="1"></div>\n\t\t\t\t<div>\n\t\t\t\t\t<img data-dojo-attach-point="captchaImg" class="captchaImg" src="${spacer}" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div  class="wsToolBar" data-dojo-type="ws/widget/WSToolbar" vizType="Bare">\n\t\t\t\t<div class="tryOther" data-dojo-type="dijit/_Widget" data-dojo-props="toolbarPosition: \'left\'" data-dojo-attach-point="tryOther"></div>\n\t\t\t\t<div class="btn" data-dojo-type="ws/widget/Button" data-dojo-props="toolbarPosition: \'right\'" data-dojo-attach-point="sendBtn" data-dojo-attach-event="onClick:sendBtnClick" tabindex="3">${CaptchaDlgSend}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-props="toolbarPosition: \'right\'" type="Bare" data-dojo-attach-point="cancelBtn" data-dojo-attach-event="onClick:cancelBtnClick" tabindex="2">${CaptchaDlgCancel}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',
"ws/address/AddressGridModel":function(){define("ws/address/AddressGridModel",["dojo/_base/declare","dojo","dojox/grid/data/Dynamic","dojox/grid/Grid","ws/string"],function(l,g,k){return l([k],{columns:{Select:0,Icon:1,Contact:2,Email:3,ScreenName:4,Phone:5},sortableCols:["Contact","Email","ScreenName"],_initSort:!1,constructor:function(a,k,j){this.model=j;g.connect(this.model,"modelUpdated",this,"modelUpdated");g.connect(this.model,"change",this,"change")},modelUpdated:function(){},change:function(a){this.rowChange(null,
a)},getDatum:function(a,g){var j=this.model.getRow(a);if(null==j)return Config.Strings.ContactError;switch(g){case this.columns.Select:return this.model.isSelected(j.uid)?"ON":"OFF";case this.columns.Contact:return this.getContactColumnCB?this.getContactColumnCB(a,j):"";case this.columns.Icon:return this.getBuddyIcon(j);case this.columns.Email:var f="";"c"==j.bType?(f=[],j.email1&&f.push(" <span class='email' >"+ws.string.markupSearchString(this.model.currentTextSearch||null,j.email1)+" </span>"),
j.email2&&f.push(" <span class='email' >"+ws.string.markupSearchString(this.model.currentTextSearch||null,j.email2)+" </span>"),f=f.join("<span>,&nbsp;</span>")):"d"==j.bType?(f=1==j.count?Config.Strings.OneAddress:ws.string.substituteParams(Config.Strings.NAddresses,j.count),f=ws.string.substituteParams("{0} - {1}",f,ws.string.markupSearchString(this.model.currentTextSearch||null,j.composeValue))):"s"==j.bType&&(f=ws.string.markupSearchString(this.model.currentTextSearch||null,j.composeValue));return"<span class='emailCol wsLink'>"+
f+"</span>";case this.columns.ScreenName:return j.screenName?"<span class='wsLink screenName'>"+j.screenName+"</span>":"";case this.columns.Phone:return"<span class='phone'>"+ws.string.markupSearchString(this.model.currentTextSearch||null,this.buildPhoneString(j))+"</span>";default:return"Invalid Column"}},getBuddyIcon:function(a){var g=Config.SpacerImageURL;if("d"==a.bType)return ws.string.substituteParams('<img align=\'absmiddle\' src="{0}" class="mainLargeIcon hoverRefNode distListBuddyIcon showIcon buddyShadow">',
g);Config.ShowPresenceIcon&&(g=ws.presence.getBuddyIconUrl(a,!0)||Config.SpacerImageURL);return g==Config.SpacerImageURL?ws.string.substituteParams('<img style="width:32px;height:32px;" align=\'absmiddle\' src="{0}" class="mainLargeIcon hoverRefNode noBuddyIcon buddyShadow showIcon">',g):ws.string.substituteParams('<div style="width:32px;height:32px;position:relative;"><img style="visibility:hidden;width:32px;height:32px;position:absolute;" onerror="window.fixMissingAvatar(this);" onload="this.style.visibility = \'\';" class="hoverRefNode buddyIcon showIcon" align=\'absmiddle\' src="{0}"><div class="buddyShadow" style="width:31px;height:31px;position:absolute;"></div></div>',
g)},getRowCount:function(){return this.model.getRowCount()},buildPhoneString:function(a){var g="",j="";if(a.phone1Type&&a.phone1)g=a.phone1,j=a.phone1Type;else if(a.phone2Type&&a.phone2)g=a.phone2,j=a.phone2Type;else if(a.phone3Type&&a.phone3)g=a.phone3,j=a.phone3Type;else if(a.phone4Type&&a.phone4)g=a.phone4,j=a.phone4Type;else if(a.phone5Type&&a.phone5)g=a.phone5,j=a.phone5Type;else return"";a="";switch(j){case "Cellular":a=Config.Strings.Cellular+" ";break;case "Fax":a=Config.Strings.Fax+" ";break;
case "Home":a=Config.Strings.Home+" ";break;case "Pager":a=Config.Strings.Pager+" ";break;case "Work":a=Config.Strings.Work+" "}return a+=g?ws.string.escapeXml(g):""},getSortColumnIndex:function(a){var g="";switch(a){case this.columns.Contact:g=Settings.AddressNameSortOrder?Settings.AddressNameSortOrder:Config.DefaultAddressNameSortOrder;break;case this.columns.Email:g="PreferredEmail";break;case this.columns.ScreenName:g="ScreenName"}return g},canSort:function(a){a=Math.abs(a)-1;return g.some(this.sortableCols,
function(g){return a==this.columns[g]},this)},sort:function(a){this._initSort&&ws.reporting.report("Sort Contacts","Addresses");this.model.core.sortData(this.getSortColumnIndex(Math.abs(a)-1),0>a?"Descending":"Ascending")}})})},"url:ws/widget/FeedbackIframeDlg.html":'<div class="WSModalPane feedbackIframeDlg">\n\t<img src="${spacer}" class="feedbackDlgCls fbCloseBtn" data-dojo-attach-event="onclick:close">\n\t<div class="WSModalPaneInner">\n\t\t<div class="modalContainer">\n\t\t\t<div class="content" data-dojo-attach-point="content">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',
"ws/dnd/GridDragObject":function(){define("ws/dnd/GridDragObject","dojo/_base/declare,dojo,ws/dnd/HtmlDragManager,dijit/BackgroundIframe,ws/dnd/HtmlDragObject,ws/html".split(","),function(l,g,k,a,m){return l([m],{constructor:function(a,f,e){this.listView=e},createDragNode:function(){var j=g.create("div",{className:"gridDragObjectNormal",id:"gridDragObjectNormal",style:{zIndex:"10000"}});g.create("img",{src:Config.SpacerImageURL,align:"absmiddle"},j);var f=this.listView.getDragObjectLabel(this.domNode.gridRowIndex),
f=f?ws.string.escapeXml(ws.string.summary(f,23)):Config.Strings.YourMessageNoCaps;g.create("span",{innerHTML:f,style:{padding:"5px 12px 5px 12px"}},j);new a(j);return j},onDragStart:function(a){this.inherited(arguments);this.dragOffset={x:15,y:2};this.onDragMove(a)}})})},"url:ws/address/ExportContactsWidget.css":"","ws/dnd/HtmlDragSource":function(){define("ws/dnd/HtmlDragSource","dojo/_base/declare,dojo,ws/dnd/DragSource,ws/dnd/HtmlDragObject,ws/dnd/HtmlDragSource,ws/html".split(","),function(l,
g,k,a,m){return l([k],{dragClass:"",constructor:function(a,f){a=g.byId(a);this.dragObjects=[];this.constrainToContainer=!1;if(a)this.dragObject=this.domNode=a,this.type=f||this.domNode.nodeName.toLowerCase(),this.reregister()},onDragStart:function(){var g=new a(this.dragObject,this.type);if(this.dragClass)g.dragClass=this.dragClass;this.constrainToContainer&&g.constrainTo(this.constrainingContainer||this.domNode.parentNode);return g},setDragHandle:function(a){a=g.byId(a);ws.dnd.dragManager.unregisterDragSource(this);
this.domNode=a;ws.dnd.dragManager.registerDragSource(this)},setDragTarget:function(a){this.dragObject=a},constrainTo:function(a){this.constrainToContainer=!0;if(a)this.constrainingContainer=a},onSelected:function(){for(var a=0;a<this.dragObjects.length;a++)ws.dnd.dragManager.selectedSources.push(new m(this.dragObjects[a]))},addDragObjects:function(a){for(var f=0;f<arguments.length;f++)this.dragObjects.push(g.byId(arguments[f]))}})})},"ws/mail/MessageStatusDialog":function(){require({cache:{"url:ws/mail/MessageStatusDialog.html":'<div class="WSModalPane dialogContent">\n\t<div class="WSModalPaneInner">\n\t\t<div class="modalContainer">\n\t\t\t<div style="width:100%;*height:200px;max-height:300px;overflow-y:auto">\n\t\t\t\t<div data-dojo-attach-point="titleNode" class="statusTitle"></div>\n\t\t\t\t<div data-dojo-attach-point="statusBodyNode" class="statusBody">\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td valign="top" align="left" data-dojo-attach-point="statusNode"></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t\t<div data-dojo-attach-point="additionalStatuses"></div>\n\t\t\t</div>\n\t\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-attach-point="statusToolbar" vizType="Bare">\n\t\t\t\t<div data-dojo-attach-point="okButton" data-dojo-type="ws/widget/Button" minWidth="26" data-dojo-props="toolbarPosition: \'center\'" data-dojo-attach-event="onClick: hide">${OK}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>',
"url:ws/mail/MessageStatusDialog.css":""}});define("ws/mail/MessageStatusDialog","dojo/_base/declare,dojo/text!ws/mail/MessageStatusDialog.html,dojo/text!ws/mail/MessageStatusDialog.css,dojo,dijit,ws/widget/WSModalPane,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,ws/date,ws/html,ws/string,ws/widget/Button,ws/widget/WSToolbar".split(","),function(l,g,k,a,m,j,f,e){return l([j,f,e],{templateString:g,css:{templateString:k},destroyOnClose:!1,model:null,dateFormat:Config.Strings.MsgListShortDateFormat,
multipleMsgs:!1,additionalStatusHTML:'<div class="separatorDiv"></div><div class="statusTitle">{0}</div><div class="statusBody">\t<table>\t\t<tr>\t\t\t<td valign="top" align="left">{1}</td>\t\t</tr>\t</table></div>',show:function(d,b){this.model.getMessageStatus({folder:d,uids:b,load:a.hitch(this,"statusReceived"),error:a.hitch(this,"statusError")});this.titleNode.innerHTML="&nbsp;";this.statusNode.innerHTML=Config.Strings.Loading;this.additionalStatuses.innerHTML="";this.multipleMsgs=!1;this.inherited(arguments)},
statusReceived:function(d){if(d.status)ws.html.setInnerText(this.statusNode,ws.string.sanitize(d.status));else{for(var b=0;b<d.allMessagesStatus.length;b++){var c=ws.string.summary(d.allMessagesStatus[b].subject?ws.string.sanitize(d.allMessagesStatus[b].subject):"",32),c=c||Config.Strings.YourMessageNoCaps,f="";a.forEach(d.allMessagesStatus[b].statuses,function(a){f+=ws.string.escapeXml(a.address);f+=" "+a.status;a.time&&(f+=" "+ws.date.formatDateTime(new Date(a.time),this.dateFormat));f+="<br>"},
this);this.buildMessageStatusNode(c,f);this.multipleMsgs=!0}this.statusToolbar.onResized();this.okButton.sizeMyself();this.checkSize()}},buildMessageStatusNode:function(a,b){if(this.multipleMsgs){var c=ws.string.substituteParams(Config.Strings.MessageStatusHeader,a);this.additionalStatuses.innerHTML+=ws.string.substituteParams(this.additionalStatusHTML,c,b)}else ws.html.setInnerText(this.titleNode,ws.string.substituteParams(Config.Strings.MessageStatusHeader,a)),this.statusNode.innerHTML=b},statusError:function(a){this.statusNode.innerHTML=
a||Config.Strings.MessageStatusError}})})},"ws/widget/FeedbackPane":function(){require({cache:{"url:ws/widget/FeedbackPane.html":'<div class="fdbkPaneCntr">\n\t<div class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick:close"></div>\n\t<div class="fdbkPane">\n\t\t<div class="fdbkPaneEntry" data-dojo-attach-point="entryPane">\n\t\t\t<div class="fdbkPaneTitle">We want to hear from you!</div>\n\t\t\t<ul data-dojo-attach-point="fdbkOptions">\n\t\t\t\t<li data-dojo-attach-event="onclick:openHelp">\n\t\t\t\t\t<div class="feedbackSprite fdbkOpt1"></div>\n\t\t\t\t\t<span class="wsLink">Need Help?</span>\n\t\t\t\t</li>\n\t\t\t\t<li data-dojo-attach-event="onclick:openShare">\n\t\t\t\t\t<div class="feedbackSprite fdbkOpt2"></div>\n\t\t\t\t\t<span class="wsLink">Share an idea</span>\n\t\t\t\t</li>\n\t\t\t\t<li data-dojo-attach-event="onclick:showFeedbackPane">\n\t\t\t\t\t<div class="feedbackSprite fdbkOpt3"></div>\n\t\t\t\t\t<span class="wsLink">Got Feedback?</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="fbLike">\n\t\t\t\t<span>Or like us on Facebook</span>\n\t\t\t\t<div>\n\t\t\t\t\t<iframe src="//www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Faolmail&amp;send=false&amp;layout=standard&amp;width=385&amp;show_faces=true&amp;action=like&amp;colorscheme=light&amp;font&amp;height=80&amp;appId=8160671994" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:385px; height:60px;" allowTransparency="true"></iframe>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="fdbkPaneDiv" data-dojo-attach-point="iframeDiv"></div>\n\t</div>\n\t<\!-- <div class="wsPointer wsPointerShadow wsPointer-right" data-dojo-attach-point="arrow"></div> --\>\n</div>'}});
define("ws/widget/FeedbackPane","dojo/_base/declare,dojo/text!ws/widget/FeedbackPane.html,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,ws/io".split(","),function(l,g,k,a,m,j){return l([m,j],{templateString:g,doPostMsg:"undefined"!=typeof window.postMessage,pollingInterval:250,submitCloseDelay:3E3,startup:function(){k.query("li",this.fdbkOptions).forEach(function(a){ws.html.addHoverClass(a,"fdbkOptionHover")});setTimeout(k.hitch(this,function(){this.connect(k.body(),
"onclick",function(a){!ws.html.overElement(this.domNode,a)&&"none"==this.iframePane.style.display&&this.close()});this.subscribe("Suite/onKeyOnPress",function(a){27==a.keyCode&&this.close()});this.doPostMsg&&this.connect(window,"message",function(a){a.origin===Config.FeedbackLinkDomain&&("cancel"==a.data?this.close():"submit"==a.data&&setTimeout(k.hitch(this,"close"),this.submitCloseDelay))},!1)}),100);this.inherited(arguments)},open:function(){var a="";Config.EnableThemes&&((a=window._ws_theme.getThemeColorQueryString(!1,
!1))||(a="tca=7cb311&tcad=588428"),a="&"+a);window._g_WS_WebFont&&window._g_WS_WebFont.fontMode&&(a+="&fontCss="+window._g_WS_WebFont.webFontsMap[window._g_WS_WebFont.fontMode]);this.iframeDiv.innerHTML="";var e=document.createElement("div");k.addClass(e,"fdbkPaneDiv");this.iframeDiv.appendChild(e);e.innerHTML='<iframe id="fdbkIframe" src="about:blank" width="410" height="285" frameborder="0" border="0" marginwidth="0" marginheight="0" scrolling="no" align="top" allowTransparency="false" style="display:none"></iframe>';
wsPath=Config.BaseCommonPagesPath;var d=wsPath.indexOf("://");-1<d&&(wsPath=wsPath.substr(d+3));d=wsPath.length-1;wsPath.lastIndexOf("/")===d&&(wsPath=wsPath.substr(0,d));d=document.location.href;if(Config.IsStaging)var b=-1==d.indexOf("?")?"?":"&",d=d+(b+"env=stage");a=Config.FeedbackLinkDomain+Config.FeedbackLinkPath+"?qa_md="+encodeURIComponent(wsPath)+"&qa_p="+encodeURIComponent(Config.BaseCommonPagesPath)+"&r="+encodeURIComponent(d)+a;this.iframePane=ws.html.recreateIframe(e,a);this.iframePane.style.display=
"none";this.entryPane.style.display=""},close:function(){ws.widget.popup.close(this);this.destroy()},showFeedbackPane:function(){this.entryPane.style.display="none";if(this.iframePane)this.iframePane.style.display=""},openHelp:function(){ws.io.openWindow(Config.FeedbackHelpPath,"_blank",k.isIE?"status=yes,resizable=yes,menubar=yes,scrollbars=yes,location=yes,toolbar=yes":null)},openShare:function(){ws.io.openWindow(Config.FeedbackSharePath,"_blank",k.isIE?"status=yes,resizable=yes,menubar=yes,scrollbars=yes,location=yes,toolbar=yes":
null)}})})},"ws/widget/PopupDatePicker":function(){define("ws/widget/PopupDatePicker","dojo/_base/declare,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,ws/widget/WSDatePicker".split(","),function(l,g,k,a,m,j){return l([a,m],{templateString:'<div data-dojo-attach-point="containerNode" class="wsMenu" style="display:none"><div style="display:none" class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick: closeDatePicker"></div></div>',_earlyTemplatedStartup:!0,width:245,closeOnMouseOut:!1,displayDate:null,
hidePickerOnSetDate:!1,useCloseButton:!1,startup:function(){if(!this._started&&(this._started=!0,this.hideTimeout=null,this.datePicker=new j,this.containerNode.appendChild(this.datePicker.domNode),this.datePicker.startup(),g.marginBox(this.domNode,{w:this.width}),this.datePicker.setDate(this.displayDate),this.hidePickerOnSetDate&&this.connect(this.datePicker,"selectDateConnect","hidePopup"),this.setupCloseOnMouseOutHandlers(),this.useCloseButton))this.containerNode.firstChild.style.display="block"},
onOpen:function(){},setupCloseOnMouseOutHandlers:function(){if(this.closeOnMouseOut)this.mouseOverEvt=this.connect(this.domNode,"onmouseover","cancelTimeouts"),this.mouseOutEvt=this.connect(this.domNode,"onmouseout","hidePopup")},setDate:function(a){this.displayDate=a;this.datePicker.setDate(this.displayDate);this.hidePickerOnSetDate&&this.hidePopup()},clearSelectedDate:function(){this.datePicker.selectedDate=this.displayDate;this.datePicker.updateUI()},initializeDate:function(a){this.displayDate=
a;this.datePicker.setDate(this.displayDate)},cancelTimeouts:function(){if(null!=this.hideTimeout)clearTimeout(this.hideTimeout),this.hideTimeout=null},hidePopup:function(){this.cancelTimeouts();this.hideTimeout=ws.lang.setTimeout(this,"delayedHidePopup",10)},delayedHidePopup:function(){if(null!=this.hideTimeout)this.hideTimeout=null,ws.widget.popup.close(this)},getSelectedDate:function(){return this.datePicker.selectedDate},closeDatePicker:function(){ws.widget.popup.close(this)}})})},"url:ws/mail/Stationery.css":"",
"ws/suite/CaptchaDialog":function(){require({cache:{"url:ws/suite/CaptchaDialog.html":'<div class="WSModalPane captchaDlg">\n\t<div class="WSModalPaneInner">\n\t\t<div class="modalContainer">\n\t\t\t<div class="captchaTitle">${CaptchaDlgTitle}</div>\n\t\t\t<div class="subtext">${CaptchaDlgInfo}</div>\n\t\t\t<div class="subtext1">${CaptchaDlgPrompt}</div>\n\t\t\t<div class="captchaArea">\n\t\t\t\t<div data-dojo-attach-point="error" class="error" style="display:none">${CaptchaDlgError}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-attach-event="onFocus:txtBoxEvnt,onBlur:txtBoxEvnt,onKeyUp:txtBoxEvnt" data-dojo-attach-point="inputBox" maxLength=20 tabindex="1"></div>\n\t\t\t\t<div>\n\t\t\t\t\t<img data-dojo-attach-point="captchaImg" class="captchaImg" src="${spacer}" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div  class="wsToolBar" data-dojo-type="ws/widget/WSToolbar" vizType="Bare">\n\t\t\t\t<div class="tryOther" data-dojo-type="dijit/_Widget" data-dojo-props="toolbarPosition: \'left\'" data-dojo-attach-point="tryOther"></div>\n\t\t\t\t<div class="btn" data-dojo-type="ws/widget/Button" data-dojo-props="toolbarPosition: \'right\'" data-dojo-attach-point="sendBtn" data-dojo-attach-event="onClick:sendBtnClick" tabindex="3">${CaptchaDlgSend}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-props="toolbarPosition: \'right\'" type="Bare" data-dojo-attach-point="cancelBtn" data-dojo-attach-event="onClick:cancelBtnClick" tabindex="2">${CaptchaDlgCancel}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',
"url:ws/suite/CaptchaDialog.css":""}});define("ws/suite/CaptchaDialog","dojo/_base/declare,dojo/text!ws/suite/CaptchaDialog.html,dojo/text!ws/suite/CaptchaDialog.css,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,ws/widget/WSModalPane,ws/reporting,ws/widget/DefaultTextbox,ws/sound,ws/html".split(","),function(l,g,k,a,m,j,f,e,d){return l([d,f,e],{templateString:g,css:{templateString:k},refId:null,passedCB:null,startup:function(){this.inherited(arguments);this.txtBoxEvnt();
this.tryOther.domNode.innerHTML=ws.string.substituteParams(Config.Strings.CaptchaDlgTryOther,"<span class='wsLink tryOtherLnk'>","</span>","<span class='wsLink tryAudioLnk'>","</span>");var b=a.query(".tryOtherLnk",this.tryOther.domNode);if(b&&b.length)b[0].onclick=a.hitch(this,this.refreshCaptcha);if((b=a.query(".tryAudioLnk",this.tryOther.domNode))&&b.length)b[0].onclick=a.hitch(this,this.tryAudio);this.refId&&(this.refreshCaptcha(),this.show(),this.inputBox.textbox.focus())},tryAudio:function(){ws.sound.play(Config.CaptchaAudioUrl+
this.refId,!0);this.inputBox.textbox.focus()},refreshCaptcha:function(){this.inputBox.setValue("");this.inputBox.textbox.focus();this.clearError();ws.io.rpc({action:"Captcha",content:{captchaAction:"getRefId"},load:a.hitch(this,function(a){a&&a.refId?(this.refId=a.refId,this.captchaImg.src=Config.CaptchaImageUrl+this.refId):window.ws_ErrLgr&&ws_ErrLgr.logError(ws_ErrLgr.cat.ProgErr,"Load Handler Captcha:getRefId RPC: bad result, file:CaptchaDialog.js")}),error:function(){window.ws_ErrLgr&&ws_ErrLgr.logError(ws_ErrLgr.cat.ProgErr,
"Error Handler for Captcha:getRefId RPC file:CaptchaDialog.js")}})},showError:function(){this.refreshCaptcha();a.addClass(this.inputBox.textbox,"errorBrdr");this.error.style.display="block"},clearError:function(){a.removeClass(this.inputBox.textbox,"errorBrdr");this.error.style.display="none"},sendBtnClick:function(){this.clearError();var b=this.inputBox.getValue();ws.io.rpc({action:"Captcha",content:{captchaAction:"verify",refId:this.refId,word:b},load:a.hitch(this,function(a){a&&"0"===a.resultCode?
(this.hideDlg(),this.passedCB&&this.passedCB()):this.showError()}),error:function(){window.ws_ErrLgr&&ws_ErrLgr.logError(ws_ErrLgr.cat.ProgErr,"Error Handler for Captcha RPC file:CaptchaDialog.js")}})},cancelBtnClick:function(){this.clearError();this.hideDlg()},hideDlg:function(){this.hide()},txtBoxEvnt:function(b){""!=this.inputBox.getValue()?(this.sendBtn.enable(),b&&"keyup"==b.type&&b.keyCode==a.keys.ENTER&&this.sendBtnClick()):this.sendBtn.disable()}})})},"ws/widget/PopupTimePicker":function(){define("ws/widget/PopupTimePicker",
"dojo/_base/declare,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,ws/widget/WSTimePicker".split(","),function(l,g,k,a,m,j){return l([a,m],{templateString:'<div data-dojo-attach-point="containerNode" class="wsMenu" style="display:none"></div>',width:100,closeOnMouseOut:!1,displayTime:null,hidePickerOnSetTime:!1,startup:function(){this.hideTimeout=null;this.timePicker=new j;this.containerNode.appendChild(this.timePicker.domNode);this.timePicker.startup();g.marginBox(this.domNode,{w:this.width});this.timePicker.setTime(this.displayTime);
this.hidePickerOnSetTime&&this.connect(this.timePicker,"selectTimeConnect","hidePopup");this.setupCloseOnMouseOutHandlers()},onOpen:function(){},setTime:function(a){this.displayTime=a;this.timePicker.setTime(this.displayTime);this.hidePickerOnSetTime&&this.hidePopup()},initializeTime:function(a){this.displayTime=a;this.timePicker.setTime(this.displayTime)},setupCloseOnMouseOutHandlers:function(){if(this.closeOnMouseOut)this.mouseOverFncLink=this.connect(this.domNode,"onmouseover","cancelTimeouts"),
this.mouseOutFncLink=this.connect(this.domNode,"onmouseout","hidePopup")},cancelTimeouts:function(){if(null!=this.hideTimeout)clearTimeout(this.hideTimeout),this.hideTimeout=null},hidePopup:function(){this.cancelTimeouts();this.hideTimeout=ws.lang.setTimeout(this,"delayedHidePopup",10)},delayedHidePopup:function(){if(null!=this.hideTimeout)this.hideTimeout=null,ws.widget.popup.close(this)},getSelectedTime:function(){return this.timePicker.selectedTime}})})},"ws/dnd/HtmlDragObject":function(){define("ws/dnd/HtmlDragObject",
"dojo/_base/declare,dojo,dojo/window,dojo/fx,dijit/BackgroundIframe,ws/dnd/DragObject,ws/html".split(","),function(l,g,k,a,m,j){return l([j],{dragClass:"",opacity:0.5,createIframe:!0,disableX:!1,disableY:!1,constructor:function(a,e){this.domNode=g.byId(a);this.type=e;this.constrainToContainer=!1;this.dragSource=null;this.register()},createDragNode:function(){var a=this.domNode.cloneNode(!0);this.dragClass&&g.addClass(a,this.dragClass);1>this.opacity&&g.style(a,"opacity",this.opacity);var e=a.tagName.toLowerCase(),
d="tr"==e;if(d||"tbody"==e){var b=this.domNode.ownerDocument,e=b.createElement("table");d?(b=b.createElement("tbody"),e.appendChild(b),b.appendChild(a)):e.appendChild(a);b=(d?this.domNode:this.domNode.firstChild).childNodes;a=(d?a:a.firstChild).childNodes;for(d=0;d<b.length;d++)if(a[d]&&a[d].style)a[d].style.width=g.contentBox(b[d]).w+"px";a=e}if(6==g.isIE&&this.createIframe){with(a.style)left=top="0px";e=document.createElement("div");e.appendChild(a);e.id="dragNodeWrapper";this.bgIframe=new m(e);
e.appendChild(this.bgIframe.iframe);a=e}a.style.zIndex=999;return a},onDragStart:function(a){ws.html.clearSelection();this.scrollOffset=g._docScroll();this.dragStartPosition=g.position(this.domNode);this.dragOffset={y:this.dragStartPosition.y-a.pageY,x:this.dragStartPosition.x-a.pageX};if(this.dragClone=this.createDragNode()){this.containingBlockPosition=this.domNode.offsetParent?g.position(this.domNode.offsetParent):{x:0,y:0};if(this.constrainToContainer)this.constraints=this.getConstraints();try{with(this.dragClone.style)position=
"absolute",top=this.dragOffset.y+a.pageY+"px",left=this.dragOffset.x+a.pageX+"px";g.body().appendChild(this.dragClone);g.publish("dragStart",[{source:this}])}catch(e){}}},getConstraints:function(){if("body"==this.constrainingContainer.nodeName.toLowerCase())var a=k.getBox(),e=a.w,a=a.h,d=g._docScroll().offset,b=d.x,d=d.y;else a=g.contentBox(this.constrainingContainer),e=a.w,a=a.h,d=g._getPadBorderExtents(this.constrainingContainer),b=this.containingBlockPosition.x+d.l,d=this.containingBlockPosition.y+
d.t;var c=g._getMarginSize(this.domNode);return{minX:b,minY:d,maxX:b+e-c.w,maxY:d+a-c.h}},updateDragOffset:function(){var a=g._docScroll();if(a.y!=this.scrollOffset.y){var e=a.y-this.scrollOffset.y;this.dragOffset.y+=e;this.scrollOffset.y=a.y}if(a.x!=this.scrollOffset.x)e=a.x-this.scrollOffset.x,this.dragOffset.x+=e,this.scrollOffset.x=a.x},onDragMove:function(a){this.updateDragOffset();var e=this.dragOffset.x+a.pageX,a=this.dragOffset.y+a.pageY;if(this.constrainToContainer){if(e<this.constraints.minX)e=
this.constraints.minX;if(a<this.constraints.minY)a=this.constraints.minY;if(e>this.constraints.maxX)e=this.constraints.maxX;if(a>this.constraints.maxY)a=this.constraints.maxY}this.setAbsolutePosition(e,a);g.publish("dragMove",[{source:this}])},setAbsolutePosition:function(a,e){if(this.dragClone){if(!this.disableY)this.dragClone.style.top=e+"px";if(!this.disableX)this.dragClone.style.left=a+"px"}},onDragEnd:function(f){if(this.dragClone){switch(f.dragStatus){case "dropSuccess":g._destroyElement(this.dragClone);
this.dragClone=null;break;case "dropFailure":g.position(this.dragClone);var f=a.slideTo({node:this.dragClone,left:this.dragStartPosition.x+1,top:this.dragStartPosition.y+1,duration:300}),e=this;g.connect(f,"onEnd",function(){g._destroyElement(e.dragClone);e.dragClone=null});f.play()}g.publish("dragEnd",[{source:this}])}},constrainTo:function(a){this.constrainToContainer=!0;this.constrainingContainer=a?a:this.domNode.parentNode}})})},"ws/themes/widget/ThemePickerDialogItem":function(){define("ws/themes/widget/ThemePickerDialogItem",
"dojo/_base/declare,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,ws/widget/WSModalPane,dojo/domReady,ws/io,ws/reporting,ws/widget/Pane".split(","),function(l,g,k,a,m,j,f){return l([f,m,j],{dialogWidget:null,item:null,loaded:!1,selected:!1,templateString:"<div class='themeItem'><div data-dojo-attach-point='imageDiv' class='imageDiv'><div data-dojo-attach-point='itemHoverBg' class='itemHoverBg'></div><div data-dojo-attach-point='itemName' class='itemName'></div></div><div data-dojo-attach-point='availableDate' class='availableDate'></div></div>",
startup:function(){this.itemName.innerHTML=Config.ShowThemeDisplayName?this.item.label:"";this.imageDiv.onclick=g.hitch(this,this.handleClick);this.imageDiv.onmouseover=g.hitch(this,this.handleOver);this.imageDiv.onmouseout=g.hitch(this,this.handleOut);if(this.item.availableUntil)this.availableDate.innerHTML=this.item.availableUntil;if(this.item.description)this.domNode.title=this.item.description;if(this.item.iconImg){var a=this.item.resourcePath+"/"+this.item.iconImg;this.item.defaultTheme&&(a=
Config.BaseImagesURL+"themes/dialogIcon.png");g.style(this.imageDiv,{backgroundColor:this.item.iconBgColor?this.item.iconBgColor:"#fff",backgroundImage:"url('"+a+"')",backgroundPosition:"center center",backgroundRepeat:"no-repeat"})}else if(this.item.iconBgColor)this.imageDiv.style.backgroundColor=this.item.iconBgColor;else if(!this.item.defaultTheme)this.imageDiv.style.backgroundColor="#fff"},handleOver:function(a){if(!this.selected)this.itemName.style.display="block",this.itemHoverBg.style.display=
"block";if(a&&a.stopPropagation)a.stopPropagation();else if(event)event.cancelBubble=!0},handleOut:function(a){if(!this.selected)this.itemName.style.display="none",this.itemHoverBg.style.display="none";if(a&&a.stopPropagation)a.stopPropagation();else if(event)event.cancelBubble=!0},updateThemeConfig:function(a){this.dialogWidget.tc.active[a]=!0;this.dialogWidget.tc.themeData[a]=this.dialogWidget.themeData[a]},handleClick:function(){this.dialogWidget.clearSelectedItem();this.select(!0);this.updateThemeConfig(this.item.id);
this.dialogWidget.themeWidget.changeTheme(this.item.id)},createSelectedNodes:function(){var a=document.createElement("div");g.addClass(a,"themeItemSelected");var d=document.createElement("img");d.src=Config.SpacerImageURL;var b=document.createElement("span");b.innerHTML=Config.Strings.ThemesPickerSelected;a.appendChild(d);a.appendChild(b);return a},select:function(a){this.selected=a;this.itemName.style.display="none";if(a)this.itemHoverBg.style.display="block",this.itemHoverBg.style.height="70px",
this.selectedDiv?this.selectedDiv.style.display="block":(this.selectedDiv=this.createSelectedNodes(),this.imageDiv.appendChild(this.selectedDiv));else{if(this.selectedDiv)this.selectedDiv.style.display="none";this.itemHoverBg.style.display="none";this.itemHoverBg.style.height="18px"}}})})},"ws/address/AddressListView":function(){require({cache:{"url:ws/address/AddressListView.html":'<div>\n\t<div class="addressListView" data-dojo-type="dijit/layout/StackContainer" data-dojo-attach-point="stackWidget" style="height: 100%; width: 100%;">\n\t\t<div class="listView addressListView" data-dojo-type="dijit/layout/BorderContainer" data-dojo-attach-point="layoutWidget">\n\t\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-props="region:\'top\'" data-dojo-attach-point="toolbar" vizType="Controls">\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:newContact" iconClassName="newContactIcon" tip="${NewContact} <span>(${KeyNewContact})</span>">${NewContact}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:newDistributionList" iconClassName="newDistroIcon">${NewList}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:deleteSelection" data-dojo-attach-point="deleteButton" tip="${DeleteButton} <span>(${DeleteKey})</span>" iconClassName="delIcon">${DeleteButton}</div>\n\t\t\t\t<div data-dojo-type="ws/widget/DropDownButton" data-dojo-attach-point="toolsButton" title="${ActionButtonTip}" iconClassName="actionIcon">${ToolsButton}</div>\n\t\t\t\t<div data-dojo-attach-point="printButton" data-dojo-type="ws/widget/DropDownButton" title="${PrintContactsTip}" iconClassName="printIcon">${PrintButton}</div>\n\t\t\t\t<\!--<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: LocateOnMap" data-dojo-attach-point="mapButton">${LocateOnMapButton}</div>--\>\n\t\t\t\t<div data-dojo-props="toolbarPosition: \'right\',\'class\': \'filterLink\'" data-dojo-type="ws/widget/DropDownLink" data-dojo-attach-point="filterButton"></div>\n\t\t\t</div>\n\t\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-attach-point="searchInfoPane" class="searchInfo" data-dojo-props="region:\'top\'" style="display:none">\n\t\t\t\t<div class="searchData">\n\t\t\t\t\t<span data-dojo-attach-point="searchResultsNode"></span>\n\t\t\t\t\t<div class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick:clearSearch"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'center\'">\n\t\t\t\t<div data-dojo-attach-point="grid" data-dojo-type="dojox.grid.Grid"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div data-dojo-type="ws/widget/Pane" data-dojo-attach-point="emptyPane"/>\n\t</div>\n</div>\n',
"url:ws/address/AddressListView.css":""}});define("ws/address/AddressListView","dojo/_base/declare,dojo/text!ws/address/AddressListView.html,dojo/text!ws/address/AddressListView.css,dojo,dijit,ws/widget/ListView,ws/address/AddressGridModel,ws/address/ContactDetails,ws/address/DistributionListWidget,ws/address/EditContactDialog,ws/address/ImportContactsWidget,ws/address/ExportContactsWidget,dijit/layout/BorderContainer,dijit/layout/StackContainer,ws/widget/HoverCardManager,ws/widget/DropDownLink,ws/widget/Pane,ws/widget/util,ws/widget/WSMenu,ws/widget/WSToolbar,ws/dom,ws/io,ws/presence,ws/reporting,ws/settings,ws/WebSuite".split(","),
function(l,g,k,a,m,j,f,e,d,b,c,o){window.fixMissingAvatar=function(a){var b='<img align="absmiddle" src="'+Config.SpacerImageURL+'" class="mainLargeIcon hoverRefNode noBuddyIcon buddyShadow showIcon" style="width:32px;height:32px;">';if(a&&a.parentNode)a.parentNode.innerHTML=b};return l([j],{templateString:g,css:{templateString:k},wrapperModelClass:f,backToString:Config.Strings.BackToAddressList,searchString:"",autosizeColumnId:"Email",contactDetails:null,distributionListWidget:null,editContactWidget:null,
importContactsWidget:null,exportContactsWidget:null,origPrefs:null,selectedView:null,columnDefaults:{Select:{order:0,width:36,hidden:!1},Icon:{order:1,width:36,hidden:!1},Contact:{order:2,width:190,min:100,max:300,hidden:!1},Email:{order:3,width:180,min:195,max:300,hidden:!1},ScreenName:{order:4,width:75,min:45,max:150,hidden:!1},Phone:{order:5,width:134,min:75,max:250,hidden:!1}},initView:function(){this.initColumns();this.inherited(arguments);this.defSort=this.columnDefaults.Contact.order;0<this.grid.getSortIndex(this.grid.sortInfo)&&
this.grid.setSortInfo(this.grid.sortInfo);this.gridModel._initSort=!0;this.gridModel.getContactColumnCB=a.hitch(this,"getContactColumn");this.initButtons();(!Config.HasLocalFileSystem||!Config.EnableABImportButton&&!Config.EnableABExportButton)&&this.toolsButton.hide();Config.PrintingSupported||this.printButton.hide();this.filterButton.setLabel(Config.Strings.View+": "+Config.Strings.All);this.buildFilterDropDownMenu();this.connect(this.model,"modelUpdated","modelUpdated");this.connect(ws.WebSuite,
"processKeyPress","onKeyPress");this.connect(this.grid,"onRowContextMenu","onContextMenu");this.connect(this.grid,"onRowMouseOver","onRowMouseOver");this.connect(this.grid,"onRowMouseOut","onRowMouseOut");this.subscribe("ListSpacingResize",function(){this.grid.update()});this.setupAdScroll()},initColumns:function(b){this.columns=[];var c=a.fromJson(Settings.AddressListPrefs);if(b||!c||""==c||c===Settings.AddressListPrefs)c=this.columnDefaults;this.origPrefs=c;try{var d=Config.Strings.ContactsName,
e=Config.Strings.Email,f=Config.Strings.ContactsAIM,g=Config.Strings.Phone;this.columns[c.Select.order]={id:"Select",name:"<div class='gridIcon ws_image_chkOffIcon'></div>",width:this.columnDefaults.Select.width+"px",hidden:c.Select.hidden,noresize:!0,formatter:a.hitch(this,"formatSprite",this.baseSprites.chkBox)};this.columns[c.Icon.order]={id:"Icon",name:" ",width:c.Icon.width+"px",hidden:c.Icon.hidden,noresize:!0};this.columns[c.Contact.order]={id:"Contact",name:d,width:c.Contact.width+"px",hidden:c.Contact.hidden,
noresize:!1};this.columns[c.Email.order]={id:"Email",name:e,width:c.Email.width+"px",hidden:c.Email.hidden,noresize:!1};this.columns[c.ScreenName.order]={id:"ScreenName",name:f,width:c.ScreenName.width+"px",hidden:c.ScreenName.hidden,noresize:!1};this.columns[c.Phone.order]={id:"Phone",name:g,width:c.Phone.width+"px",hidden:c.Phone.hidden,noresize:!1};this.columnMenuSpec=[{caption:Config.Strings.ColumnBuddy,checked:!1,onClick:a.hitch(this,"toggleColumn","Icon")},{caption:Config.Strings.ContactsName,
checked:!1,onClick:a.hitch(this,"toggleColumn","Contact")},{caption:Config.Strings.Email,checked:!1,onClick:a.hitch(this,"toggleColumn","Email")},{caption:Config.Strings.ContactsAIM,checked:!1,onClick:a.hitch(this,"toggleColumn","ScreenName")},{caption:Config.Strings.Phone,checked:!1,onClick:a.hitch(this,"toggleColumn","Phone")},{separator:!0},{caption:Config.Strings.ColumnReset,onClick:a.hitch(this,"toggleColumn","RESET")}];var j=a.filter(this.columns,function(a){return!a.hidden});this.grid.sortInfo=
ws.lang.findByProp(j,"id","Contact")+1;8>a.isIE&&setTimeout(a.hitch(this,function(){this.grid.setStructure([{cells:[j]}])}))}catch(k){b||this.initColumns(!0)}},getRowClasses:function(a){var b=this.inherited(arguments);Config.TopContactsEnabled&&Settings.EnableTopContacts&&this.model.isTopContact(a)&&b.push("row-top-contact");"Select"in this.gridModel.columns&&"ON"==this.gridModel.getDatum(a,this.gridModel.columns.Select)&&b.push("row-selected");return b},onHeaderColumnChange:function(b,c){for(var d=
{},e=this.columns,f=this.grid.views.views[0].structure.rows[0],g=0;g<e.length;g++){var j=e[g],k=ws.lang.findByProp(f,"id",j.id),k=parseInt(-1==k?j.width:f[k].unitWidth);a.isWebKit&&(k-=this.cellWidthPad);d[j.id]={order:g,width:k,hidden:j.hidden}}e=!0;for(g in d){var f=d[g],j=this.origPrefs[g],l;for(l in f)if("width"!=l&&f[l]!=j[l]){e=!1;break}}if(!e||c)this.origPrefs=d,ws.settings.saveSoon({AddressListPrefs:d})},onHeaderContextMenu:function(a){if(!this.columnMenu)this.columnMenu=ws.widget.createMenu(this.columnMenuSpec),
this.columnMenu.startup();var b=this.gridModel.columns,c=this.columnMenu.getChildren();c[0].setChecked(-1!=b.Icon);c[1].setChecked(-1!=b.Contact);c[2].setChecked(-1!=b.Email);c[3].setChecked(-1!=b.ScreenName);c[4].setChecked(-1!=b.Phone);this.columnMenu.open(a.pageX,a.pageY)},modelUpdated:function(a){a&&this.buildFilterDropDownMenu();this.updateSearchInfo();this.onResized();this.setupAdScroll()},setupAdScroll:function(){var a=this.grid;setTimeout(function(){ws.WebSuite.SidePanel.setupAdScroll(a.views.views[0].scrollboxNode,
"clist")},200)},postCreateZeroRowsMessage:function(){},getZeroRowsMessage:function(){var a="<div class='search'>"+Config.Strings.NoMatchesFound+"</div>",a=a+"<div class='zero'>"+Config.Strings.AddressBookEmpty;return a+"</div>"},beforeShowZeroRowsMessage:function(){var b=this.model.getCurrentCategorySearchString(),c=a.query(".search",this.zeroRowsNode)[0],d=a.query(".zero",this.zeroRowsNode)[0];this.model.currentTextSearch||"string"==typeof b?(this.zeroRowsNode.className="loading",ws.html.setShowing(d,
!1),ws.html.setShowing(c,!0)):(this.zeroRowsNode.className="noContacts",ws.html.setShowing(d,!0),ws.html.setShowing(c,!1))},initButtons:function(){this.printButton.menuDefinition=[{caption:Config.Strings.SelectedContacts,onClick:a.hitch(this,"PrintSelectedContacts")},{caption:Config.Strings.CurrentContacts,onClick:a.hitch(this,"PrintCurrentCategory")},{caption:Config.Strings.AllContacts,onClick:a.hitch(this,"PrintAllContacts")}];this.toolsButton.menuDefinition=[];Config.EnableABImportButton&&this.toolsButton.menuDefinition.push({caption:Config.Strings.Import,
onClick:a.hitch(this,"importContacts")});Config.EnableABExportButton&&this.toolsButton.menuDefinition.push({caption:Config.Strings.Export,onClick:a.hitch(this,"exportContacts")})},updatePrintMenu:function(a){a.getChildren()[0].setEnabled(0<this.model.getSelectedUids().length)},getContactColumn:function(a,b){var c;c='<div class="nameColumn"><span class="contactName showIcon">';b.name&&""!=b.name?c+=ws.string.markupSearchString(this.model.currentTextSearch||null,b.name):b.columnDisplayName&&""!=b.columnDisplayName&&
(c+=ws.string.markupSearchString(this.model.currentTextSearch||null,b.columnDisplayName));c=c+'</span><span class="hoverGroup">'+ws.string.substituteParams('<span class="wsLink editHover wsMenuItemHover">{0}</span>',Config.Strings.Edit);return c+"</span></div>"},clearSearch:function(){this.model.search()},updateSearchInfo:function(){if(this.model.currentTextSearch){var a=ws.string.escapeXml(this.model.currentTextSearch);this.searchString=this.model.currentCategorySearch?ws.string.substituteParams(Config.Strings.ContactSearchHeaderCat,
this.model.filteredIndex.offsets.length,a,this.translateCategoryName(this.model.getCurrentCategorySearchString())):ws.string.substituteParams(Config.Strings.ContactSearchHeader,this.model.filteredIndex.offsets.length,"&ldquo;"+a+"&rdquo;");this.searchResultsNode.innerHTML=this.searchString;this.searchInfoPane.show();ws.WebSuite.Navigation.searchActive(!0,this.searchInfoPane)}else this.searchInfoPane.hide(),this.searchString="",ws.WebSuite.Navigation.searchActive(!1,this.searchInfoPane);ws.WebSuite.Navigation.hiliteCurrentApp()},
GetRequestParamsForPrint:function(a){var b={};b.sortBy=this.model.core.sortBy;b.sortDir=this.model.core.sortDirection;b.nameFormat=Settings.AddressNameDisplayFormat;b.categoryFilter=this.model.getCurrentCategorySearchString();return ws.address.AddressBookUtil.GetRequestParamsForPrint(a,b)},PrintSelectedContacts:function(){var a=this.model.getSelectedUids();if(0==a.length)ws.widget.Dialogs.ok(Config.Strings.NoContactsCheckedErrorMsg);else{for(var b="",c=this.model.getRowsForUids(a),d=0;d<a.length;d++){var e=
this.model.getRow(c[d]);if(null!=e&&("c"==e.bType||"d"==e.bType))b+=a[d]+","}b?(b=b.substring(0,b.length-1),a="command=selected&"+this.GetRequestParamsForPrint("selected")+"&uidList="+b,ws.address.AddressBookUtil.OpenAddressPrintWindow(a)):ws.widget.Dialogs.ok(Config.Strings.NoContactsCheckedErrorMsg)}},PrintCurrentCategory:function(){var a="command=category&"+this.GetRequestParamsForPrint("category");ws.address.AddressBookUtil.OpenAddressPrintWindow(a)},PrintAllContacts:function(){var a="command=all&"+
this.GetRequestParamsForPrint("all");ws.address.AddressBookUtil.OpenAddressPrintWindow(a)},buildFilterDropDownMenu:function(){var b=this.model.getCurrentCategorySearchString();if(b)this.filterButton.setLabel(Config.Strings.View+": "+this.translateCategoryName(b)),this.toolbar.layout();else if("undefined"==typeof b){this.model.categoryFilter("");this.filterButton.setLabel(Config.Strings.View+": "+Config.Strings.All);this.toolbar.layout();return}if(this.model.getCategories()){var b=null,c=[];a.forEach(this.model.getCategories(),
a.hitch(this,function(a){c.push(a)}));var d=[];d.push({caption:Config.Strings.All,onClick:a.hitch(this,"handleFilter",Config.Strings.All)});for(b=0;b<c.length;b++){var e=c[b],f=this.translateCategoryName(e);d.push({caption:f,onClick:a.hitch(this,"handleFilter",f,e)})}Config.TopContactsEnabled&&Settings.EnableTopContacts&&this.model.hasTopContacts()&&d.push({caption:Config.Strings.TopContacts_DisplayName,onClick:a.hitch(this,"handleFilter",Config.Strings.TopContacts_DisplayName)});this.filterButton.setMenuDefinition(d)}},
translateCategoryName:function(a){return"Co-Workers"==a||"Friends"==a||"Family"==a||"General"==a||"Auto-Added"==a||"Uncategorized"==a?Config.Strings["ABCat"+a.replace("-","")]:ws.string.escapeXml(ws.string.summary(a,26))},handleFilter:function(a,b){this.filterButton.setLabel(Config.Strings.View+": "+a);this.toolbar.layout();for(var c=[],d=this.model.getUnorderedCategories(),e=0;e<d.length;e++)c[d[e]]=e;a==Config.Strings.All?this.model.categoryFilter(""):a==Config.Strings.TopContacts_DisplayName?this.model.categoryFilter(Config.Strings.TopContacts_DisplayName):
this.model.categoryFilter(c[b]);ws.reporting.report("Filter Contacts","Addresses")},handleContactClick:function(b,c){a.hasClass(b.target,"trashHoverContacts")?(c=this.model.getRow(b.rowIndex),this.deleteSingleByRow(b.rowIndex,c.bType)):a.hasClass(b.target,"editHover")?(c=this.model.getRow(b.rowIndex),"c"==c.bType?(a.publish("WSFeedbackStart",[Config.Strings.Loading]),this.model.getContact({uid:c.uid,load:a.hitch(this,function(a){this.editContact(c.uid,a,!0,!0)}),error:function(b){window.ws_ErrLgr&&
!b&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for model.getContact-handleContactClick file:AddressListView.js");ws.widget.Dialogs.ok(b||Config.Strings.ErrorLoadingContact);a.publish("WSFeedbackEnd",[Config.Strings.Loading])}})):"d"==c.bType?this.editDistributionList(c.uid):"s"==c.bType&&this.sharedGroup(c.name)):a.hasClass(b.target,"viewHover")?(c=this.model.getRow(b.rowIndex),"d"==c.bType&&this.editDistributionList(c.uid)):"c"==c.bType?this.showContactDetails(c):
"d"==c.bType?this.editDistributionList(c.uid):"s"==c.bType&&this.sharedGroup(c.name)},selectView:function(c,f,g){this.selectedView=c;var j={contactDetails:[e,"View Contact"],editContactWidget:[b,"Edit Contact"],distributionListWidget:[d,null]};if(!this[c]){var k=j[c][0],l={addressModel:this.model};l.closeCB="editContactWidget"==c?a.hitch(this,"selectView","contactDetails"):"distributionListWidget"==c?a.hitch(this,"editDistListCancel"):a.hitch(this,"backToList");if("editContactWidget"==c)l.backToListCB=
a.hitch(this,"backToList"),l.cancelCB=a.hitch(this,"editContactCancel");l.transitionCB=a.hitch(this,"selectEmptyPane");this[c]=new k(l);if("contactDetails"==c||"distributionListWidget"==c)a.connect(this[c],"composeEmailCB",this,"getComposeCB"),"contactDetails"==c&&a.connect(this[c],"editContact",this,"editContact");"editContactWidget"==c&&a.connect(this[c],"savedCB",a.hitch(this,function(a){this.contactDetails?(this.contactDetails.showCreatedContact(a),this.selectView("contactDetails")):(this.selectView("contactDetails"),
this.contactDetails.showCreatedContact(a))}));this.stackWidget.addChild(this[c])}f||(this.stackWidget.selectChild(this[c]),j[c][1]&&ws.reporting.report(g?"New Contact":j[c][1],"Addresses"))},deleteSelection:function(b){a.isArray(b)||(b=this.model.getSelectedUids());0==b.length?ws.widget.Dialogs.ok(Config.Strings.NoContactsCheckedErrorMsg):1<b.length?this._confirmationDelete(Config.Strings.DeleteContactsConfirmationPlural,b,ws.string.substituteParams(Config.Strings.ContactDeletedPlural,b.length)):
this.deleteSingleByUID(b[0])},deleteSingleByUID:function(a){var b=this.model.getRecordByUID(a);this._deleteSingle(a,b.bType)},deleteSingleByRow:function(a,b){this._deleteSingle(this.model.getUidForRow(a),b)},_deleteSingle:function(a,b){this.model.getRecordByUID(a);var c=Config.Strings.DeleteContactsGeneric,d=Config.Strings.ContactsGenericDeleted,e=null;if("c"==b)c=Config.Strings.DeleteContactsConfirmationSingular,d=Config.Strings.ContactDeletedSingular,e="getContact";else if("d"==b)c=Config.Strings.DeleteDistributionList,
d=Config.Strings.DistributionListDeletedSingular,e="getDistributionList";else if("s"==b)c=Config.Strings.DeleteSharedGroup,d=Config.Strings.SharedGroupDeleted,this._confirmationDelete(c,[a],d);e&&(Config.EnableUndo?this._deleteItemUndoPrep(e,a,c,d):this._confirmationDelete(c,[a],d))},_deleteItemUndoPrep:function(b,c,d,e){if(b)this.model[b]({uid:c,load:a.hitch(this,function(a){this.model.setUndoItem(a);this._deleteAddresses([c],!0,e)}),error:a.hitch(this,function(){this._confirmationDelete(d,[c],e)})})},
_confirmationDelete:function(b,c,d){ws.widget.Dialogs.okCancel(b||Config.Strings.DeleteContactsConfirmationSingular,a.hitch(this,function(a){a&&this._deleteAddresses(c,!1,d)}))},_deleteAddresses:function(b,c,d){d=1==b.length?Config.Strings.ContactDeletedSingular:ws.string.substituteParams(Config.Strings.ContactDeletedPlural,b.length);this.__deleteAddresses(b,c,d,a.hitch(this,function(){this.model.deselectAll();Config.TopContactsEnabled&&Settings.EnableTopContacts&&this.model.topContactsEnabled()&&
ws.WebSuite.theMailModel.resetCachedLists()}))},__deleteAddresses:function(b,c,d,e){this.model.deleteAddresses({uids:b,load:a.hitch(this,function(b){b.isSuccess&&(b=c?a.hitch(this.model,"undoDeletedItem"):null,a.publish("WSFeedbackStart",[d?d:Config.Strings.ContactDeletedSingular,!0,b,c?a.hitch(this,function(){this.model.setUndoItem()}):null]),e&&e())}),error:a.hitch(this,function(a){this.model.setUndoItem();window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for model.deleteAddresses-__deleteAddresses file:AddressListView.js");
ws.widget.Dialogs.ok(a||Config.Strings.ErrorDeletingContactNotFound)})})},search:function(a){this.model.search(a)},getErrorMessage:function(){return Config.Strings.ErrorLoadingAddressBook},handleCellClick:function(b){var c=this.model.getRow(b.rowIndex);if(b.cellIndex==this.gridModel.columns.Contact)this.handleContactClick(b,c);else if("email"==b.target.className){var d=this.model.getRow(b.rowIndex),e="";if("c"==d.bType)e=d.email1||d.email2;else if("d"==d.bType)e=d.composeValue||"";else return;e?this.getComposeCB(a.hitch(this,
function(a){a.reset({to:e,backToString:this.backToString,isDirty:!0})})):"c"==c.bType&&b.cellIndex!=this.gridModel.columns.Icon?this.showContactDetails(c):"d"==c.bType?this.editDistributionList(c.uid):"s"==c.bType&&this.sharedGroup(c.name)}else"c"==c.bType&&a.hasClass(b.target,"screenName")?(d=ws.presence.getScreenNameForContact(c))?ws.presence.launchIM(d):"c"==c.bType&&b.cellIndex!=this.gridModel.columns.Icon?this.showContactDetails(c):"d"==c.bType?this.editDistributionList(c.uid):"s"==c.bType&&
this.sharedGroup(c.name):"c"==c.bType?this.showContactDetails(c):"d"==c.bType?this.editDistributionList(c.uid):"s"==c.bType&&this.sharedGroup(c.name)},onContextMenu:function(a){var b=this.getRightClickMenu();b.isShowing()&&b.close();this.rightClickMenu.rowIndex=a.rowIndex;this.rightClickMenu.contact=this.model.getRow(this.rightClickMenu.rowIndex);if(this.rightClickMenu.contact){var c=this.rightClickMenu.contact,d=c.screenName||c.email1||c.email2||c.composeValue,e=null!=this.rightClickMenu.contact.screenName,
f=this.rightClickMenu.getChildren();f[3].setEnabled(d);f[4].setEnabled(e);Config.TopContactsEnabled&&Settings.EnableTopContacts&&11<=f.length&&("d"==c.bType?(f[9].setEnabled(!1),f[10].setEnabled(!1)):this.model.isUidTopContact(c.uid)?(f[9].setEnabled(!1),f[10].setEnabled(!0)):(f[9].setEnabled(!0),f[10].setEnabled(!1)));b.open(a.pageX,a.pageY);a.preventDefault();a.stopPropagation()}},getRightClickMenu:function(){var b=Config.TopContactsEnabled&&Settings.EnableTopContacts?10:7;if(!this.rightClickMenu){var c=
[{caption:Config.Strings.Edit,onClick:a.hitch(this,"editContactFromMenu")},{caption:Config.Strings.Delete,onClick:a.hitch(this,"deleteContactFromMenu")},{separator:!0},{caption:Config.Strings.SendEmail,onClick:a.hitch(this,"sendEmail")},{caption:Config.Strings.SendIM,onClick:a.hitch(this,"sendIM")},{separator:!0},{caption:Config.Strings.NewContact,onClick:a.hitch(this,"newContact")},{caption:Config.Strings.NewDistList,onClick:a.hitch(this,"newDistributionList")}];Config.TopContactsEnabled&&Settings.EnableTopContacts&&
c.push({separator:!0},{caption:Config.Strings.TopContacts_AddToTopContacts,onClick:a.hitch(this,"addContactToTopContactsFromMenu")},{caption:Config.Strings.TopContacts_RemoveFromTopContacts,onClick:a.hitch(this,"removeContactFromTopContactsFromMenu")});this.rightClickMenu=ws.widget.createMenu(c)}for(var c=this.rightClickMenu.getChildren(),d=c.length-1;d>b;d--){var e=c[d];this.rightClickMenu.removeChild(e);e.destroy()}return this.rightClickMenu},deleteContactFromMenu:function(){this.deleteSingleByRow(this.rightClickMenu.rowIndex,
this.rightClickMenu.contact.bType)},sendIM:function(){this.rightClickMenu.contact.screenName&&ws.presence.launchIM(this.rightClickMenu.contact.screenName)},editContactFromMenu:function(){var b=this.rightClickMenu.contact;"c"==b.bType?this.model.getContact({uid:b.uid,load:a.hitch(this,function(a){ws.WebSuite.editContact(b.uid,a,!0)}),error:function(a){window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for model.getContact-editContactFromMenu file:AddressListView.js");
ws.widget.Dialogs.ok(a||Config.Strings.ErrorLoadingContact)}}):"d"==b.bType?ws.WebSuite.editDistributionList(b.uid):"s"==b.bType&&ws.WebSuite.sharedGroup(b.name)},addContactToTopContactsFromMenu:function(){var b=this.rightClickMenu.contact;"c"==b.bType&&this.model.addContactToTopContacts({uid:b.uid,load:a.hitch(this,function(b){b.tcdluid?(ws.WebSuite.theMailModel.resetCachedLists(),a.publish("WSFeedbackStart",[Config.Strings.TopContacts_ContactAdded,!0])):ws.widget.Dialogs.ok(Config.Strings.TopContacts_ContactNotAdded)}),
error:a.hitch(this,function(a){window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for model.addContactToTopContacts-addContactToTopContactsFromMenu file:AddressListView.js");ws.widget.Dialogs.ok(a||Config.Strings.TopContacts_ContactNotAdded)})})},removeContactFromTopContactsFromMenu:function(){var b=this.rightClickMenu.contact;"c"==b.bType&&this.model.removeContactFromTopContacts({uid:b.uid,load:a.hitch(this,function(b){b.tcremoved?(ws.WebSuite.theMailModel.resetCachedLists(),
a.publish("WSFeedbackStart",[Config.Strings.TopContacts_ContactRemoved,!0])):ws.widget.Dialogs.ok(Config.Strings.TopContacts_ContactNotRemoved)}),error:a.hitch(this,function(a){window.ws_ErrLgr&&!a&&ws_ErrLgr.logError(ws_ErrLgr.cat.UserVisErr,"Dialogs.ok shown - Error Handler for model.removeContactFromTopContactsFromMenu-removeContactFromTopContactsFromMenu file:AddressListView.js");ws.widget.Dialogs.ok(a||Config.Strings.TopContacts_ContactNotRemoved)})})},sendEmail:function(){var a=this.rightClickMenu.contact,
b=a.email1||a.email2||a.composeValue||a.screenName;Config.ValidateEmailFormat&&(b=a.email1||a.email2||a.composeValue);b&&ws.WebSuite.getCompose(null,function(a){a.reset({to:b,backToString:"setFolder",isDirty:!0})})},showContactDetails:function(b){a.publish("WSFeedbackStart",[Config.Strings.Loading]);ws.lang.setTimeout(this,function(){this.contactDetails?this.contactDetails.showContact(b.uid,this.searchString,a.hitch(this,function(){this.selectView("contactDetails");this.contactDetails.onResized()})):
(this.selectView("contactDetails"),this.contactDetails.showContact(b.uid,this.searchString),this.contactDetails.onResized())},0)},updateToolbarState:function(){},newContact:function(){this.editContact(null,null,!0)},editContact:function(b,c,d,e){ws.WebSuite.Navigation.mnSearchClose();var f=!1,g=null==b;this.editContactWidget?ws.lang.setTimeout(this,function(){this.selectView("editContactWidget",!1,g);this.editContactWidget.showContact(b,c,d?d:!1);this.editContactWidget.onResized()},0):(f=!0,e?(this.selectView("editContactWidget",
!1,g),this.editContactWidget.showContact(b,c,d?d:!1)):(a.publish("WSFeedbackStart",[Config.Strings.Loading]),ws.lang.setTimeout(this,function(){this.selectView("editContactWidget",!1,g);this.editContactWidget.showContact(b,c,d?d:!1)},0)));(f||e)&&ws.lang.setTimeout(function(){a.publish("WSFeedbackEnd",[Config.Strings.Loading])},0)},newDistributionList:function(){this.distributionListWidget?(this.selectView("distributionListWidget"),this.distributionListWidget.showCreateView()):(a.publish("WSFeedbackStart",
[Config.Strings.Loading]),ws.lang.setTimeout(this,function(){this.selectView("distributionListWidget");this.distributionListWidget.showCreateView();a.publish("WSFeedbackEnd",[Config.Strings.Loading])},0))},createEditContactWidget:function(){this.selectView("editContactWidget",!0)},createDistributionList:function(){this.selectView("distributionListWidget",!0)},editDistributionList:function(b){a.publish("WSFeedbackStart",[Config.Strings.Loading]);ws.lang.setTimeout(this,function(){this.selectView("distributionListWidget");
this.distributionListWidget.showList(b)},0)},sharedGroup:function(a){a=ws.string.substituteParams(Config.SharedGroupEditURL,encodeURIComponent(a));ws.io.openWindow(a)},importContacts:function(){var a=new c({addressModel:this.model});a.startup();a.show()},exportContacts:function(){var a=new o({addressModel:this.model});a.startup();a.show()},editDistListCancel:function(b){b?this.confirmClose(a.hitch(this,"backToList")):this.backToList()},editContactCancel:function(a){this.confirmClose(a)},confirmClose:function(b){var c=
this.editContactWidget&&this.stackWidget.selectedChildWidget==this.editContactWidget&&this.editContactWidget.isDirty(),d=this.distributionListWidget&&this.stackWidget.selectedChildWidget==this.distributionListWidget&&this.distributionListWidget.isDirty();c||d?ws.widget.Dialogs.showTransientDialog(c?Config.Strings.ConfirmClose1:Config.Strings.ConfirmClose4,a.hitch(this,function(a){0==a&&b&&ws.lang.setTimeout(b,0)}),null,[{label:Config.Strings.DiscardChanges,type:"Bare",subType:"Cancel"},{label:Config.Strings.ContinueEditing}]):
b&&b()},onKeyPress:function(a){this.stackWidget.selectedChildWidget==this.layoutWidget&&this._onKeyPress(a)},onEnterKeyPress:function(a){a=this.model.getRow(a);"c"==a.bType?this.showContactDetails(a):"d"==a.bType?this.editDistributionList(a.uid):"s"==a.bType&&this.sharedGroup(a.name)},onDelKeyPress:function(b){if(a.isArray(b))this.deleteSelection(b);else{var c=this.model.getRow(b);this.deleteSingleByRow(b,c.bType)}},onOtherKeyPress:function(b){if(Config.EnableKeyboardShortcuts&&b.keyChar&&a.isString(b.keyChar)&&
!b.ctrlKey&&!b.altKey&&!b.metaKey)switch(b.keyChar.toLowerCase()){case Config.Strings.KeyNewContact:this.newContact();break;case Config.Strings.KeyPrintContactDetail:this.PrintSelectedContacts()}},onRowMouseOver:function(b){a.addClass(b.rowNode,"dojoxGrid-row-hover")},onRowMouseOut:function(b){a.removeClass(b.rowNode,"dojoxGrid-row-hover")},backToList:function(a){this.stackWidget.selectChild(this.layoutWidget);this.gridModel.modelUpdated();this.buildFilterDropDownMenu();this.updateSearchInfo();this.onResized();
a&&a();ws.reporting.report("Contact List","Addresses")},selectEmptyPane:function(){this._preSelectedChild=this.stackWidget.selectedChildWidget;this.stackWidget.selectChild(this.emptyPane)},deSelectEmptyPane:function(){if(this.stackWidget.selectedChildWidget==this.emptyPane){if(!this._preSelectedChild)this._preSelectedChild=this.layoutWidget;this.stackWidget.selectChild(this._preSelectedChild);this._preSelectedChild=null}}})})},"url:ws/address/EditContactDialog.html":'<div class="editContact" data-dojo-attach-event="onkeydown: onKeyPressInputField">\n    <div data-dojo-attach-point="layoutWidget" data-dojo-type="dijit/layout/BorderContainer" style="height: 100%; width: 100%;">\n\t\t<div data-dojo-type="ws/widget/WSToolbar" data-dojo-attach-point="toolbar" data-dojo-props="region:\'top\'" vizType="Controls">\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-point="deleteContactButton" data-dojo-attach-event="onClick: deleteContact" title="${DeleteContactTip}" iconClassName="delIcon">${Delete}</div>\n\t\t\t<div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick:cancel" title="${Cancel}" iconClassName="cancelIcon" data-dojo-props="toolbarPosition: \'right\'"></div>\n\t\t</div>\n        <div data-dojo-type="ws/widget/Pane" data-dojo-props="region:\'center\'" class="editContainer">\n            <div class="parentContainer">\n\n                <div class="contactType" data-dojo-attach-point="contactTypeSpan"></div>\n\n                <div data-dojo-attach-point="buddyIconNode" class="buddyIconNode" style="display:none;">\n                    <div style="float:left" data-dojo-type="ws/widget/BuddyIcon" data-dojo-attach-point="buddyIcon"></div>\n                    <div style="float:left" data-dojo-attach-point="theName" class="theName"></div>\n                </div>\n                <div data-dojo-attach-point="firstLastNameBlk" class="firstNameDiv">\n                    <div style="float:left">\n                        <label>${FirstName}</label>\n                        <div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'regularInput\'" data-dojo-attach-point="firstNameInput1" maxlength="255" tabindex="1"></div>\n                    </div>\n                    <div style="float:left">\n                        <label>${LastName}</label>\n                        <div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'regularInput\'" data-dojo-attach-point="lastNameInput1"  maxlength="255" tabindex="2"></div>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="lastFirstNameBlk">\n                    <div style="float:left">\n                        <label>${LastName}</label>\n                        <div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'regularInput\'" data-dojo-attach-point="lastNameInput2"  maxlength="255" tabindex="1"></div>\n                    </div>\n                    <div style="float:left">\n                        <label>${FirstName} *</label>\n                        <div data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'regularInput\'" data-dojo-attach-point="firstNameInput2" maxlength="255" tabindex="2"></div>\n                    </div>\n                </div>\n                <div>\n                    <label>${Nickname}</label>\n                    <div><div class="regularInput" data-dojo-type="ws/widget/DefaultTextbox" data-dojo-props="\'class\': \'buddyIconInput\'" data-dojo-attach-point="nickNameInput" maxlength="90" tabindex="3"></div></div>\n                </div>\n                <div data-dojo-attach-point="row" style="display:none;">\n                    <label>${DisplayName}</label>\n                    <div><input type="text" maxlength="80" class="wsInput regularInput" data-dojo-attach-point="displayNameInput" tabindex="3" /></div>\n                </div>\n\n                <div data-dojo-attach-point="row1">\n                    <label>${ScreenName}</label>\n                    <div><input type="text" maxlength="80" class="wsInput regularInput" data-dojo-attach-point="screenNameInput" tabindex="3" /></div>\n                </div>\n\n                <div data-dojo-attach-point="row2" class="row2">\n                    <label>${Email1}</label>\n                    <div><input type="text" maxlength="255" class="wsInput regularInput" data-dojo-attach-point="email1Input" tabindex="4" /> <a href="#" data-dojo-attach-point="addAnotherEmailLink" data-dojo-attach-event="onclick: addAnotherEmail" class="wsLink addAnother">+ ${Another}</a></div>\n                </div>\n\n                <div data-dojo-attach-point="row3">\n                    <label>${Email2}</label>\n                    <div><input type="text" maxlength="255" class="wsInput regularInput" data-dojo-attach-point="email2Input" tabindex="5" /></div>\n                </div>\n\n                <div data-dojo-attach-point="row4">\n                    <label>${PhonePrimary}</label>\n                    <div>\n                        <input type="text" maxlength="255" class="wsInput phoneInput leftAlign" data-dojo-attach-point="phone1Input" tabindex="6" />\n                        <ul data-dojo-type="ws/widget/WSSelect" data-dojo-props="\'class\': \'phoneDropDownButton leftAlign\'" tabindex="7" data-dojo-attach-point="phone1Button">\n                            <li value="Cellular">${Cellular}</li>\n                            <li value="Home">${Home}</li>\n                            <li value="Work">${Work}</li>\n                            <li value="Pager">${Pager}</li>\n                            <li value="Fax">${Fax}</li>\n                        </ul>\n                        <a href="#" data-dojo-attach-point="phone1Link" data-dojo-attach-event="onclick: addAnotherPhone1" class="wsLink addAnother leftAlign">+ ${Another}</a>\n                    </div>\n                </div>\n\n\n                <div data-dojo-attach-point="row5">\n                    <label>${PhoneOther}</label>\n                    <div>\n                        <input type="text" maxlength="255" class="wsInput phoneInput leftAlign" data-dojo-attach-point="phone2Input" tabindex="8" />\n                        <ul data-dojo-type="ws/widget/WSSelect" data-dojo-props="\'class\': \'phoneDropDownButton leftAlign\'" tabindex="9" data-dojo-attach-point="phone2Button">\n                            <li value="Cellular">${Cellular}</li>\n                            <li value="Home">${Home}</li>\n                            <li value="Work">${Work}</li>\n                            <li value="Pager">${Pager}</li>\n                            <li value="Fax">${Fax}</li>\n                        </ul>\n                        <a href="#" data-dojo-attach-point="phone2Link" data-dojo-attach-event="onclick: addAnotherPhone2" class="wsLink addAnother leftAlign">+ ${Another}</a>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row6">\n                    <label>${PhoneOther}</label>\n                    <div>\n                        <input type="text" maxlength="255" class="wsInput phoneInput leftAlign" data-dojo-attach-point="phone3Input" tabindex="10" />\n                        <ul data-dojo-type="ws/widget/WSSelect" data-dojo-props="\'class\': \'phoneDropDownButton leftAlign\'" tabindex="11" data-dojo-attach-point="phone3Button">\n                            <li value="Cellular">${Cellular}</li>\n                            <li value="Home">${Home}</li>\n                            <li value="Work">${Work}</li>\n                            <li value="Pager">${Pager}</li>\n                            <li value="Fax">${Fax}</li>\n                        </ul>\n                        <a href="#" data-dojo-attach-point="phone3Link" data-dojo-attach-event="onclick: addAnotherPhone3" class="wsLink addAnother leftAlign">+ ${Another}</a>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row7">\n                    <label>${PhoneOther}</label>\n                    <div>\n                        <input type="text" maxlength="255" class="wsInput phoneInput leftAlign" data-dojo-attach-point="phone4Input" tabindex="12" />\n                        <ul data-dojo-type="ws/widget/WSSelect" data-dojo-props="\'class\': \'phoneDropDownButton leftAlign\'" tabindex="13" data-dojo-attach-point="phone4Button">\n                            <li value="Cellular">${Cellular}</li>\n                            <li value="Home">${Home}</li>\n                            <li value="Work">${Work}</li>\n                            <li value="Pager">${Pager}</li>\n                            <li value="Fax">${Fax}</li>\n                        </ul>\n                        <a href="#" data-dojo-attach-point="phone4Link" data-dojo-attach-event="onclick: addAnotherPhone4" class="wsLink addAnother leftAlign">+ ${Another}</a>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row8">\n                    <label>${PhoneOther}</label>\n                    <div>\n                        <input type="text" maxlength="255" class="wsInput phoneInput leftAlign" data-dojo-attach-point="phone5Input" tabindex="14" />\n                        <ul data-dojo-type="ws/widget/WSSelect" data-dojo-props="\'class\': \'phoneDropDownButton leftAlign\'" tabindex="15" data-dojo-attach-point="phone5Button">\n                            <li value="Cellular">${Cellular}</li>\n                            <li value="Home">${Home}</li>\n                            <li value="Work">${Work}</li>\n                            <li value="Pager">${Pager}</li>\n                            <li value="Fax">${Fax}</li>\n                        </ul>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row9" class="categoryList">\n                    <div>\n                        <div className="categoryDropDownButton" data-dojo-type="ws/widget/DropDownLink" tabindex="16" arrowSize="large" data-dojo-attach-point="categoryButton" data-dojo-attach-event="onClick: refreshDefaultItems, onKeyPress: refreshDefaultItems"></div>\n                    </div>\n                </div>\n\n                <div data-dojo-attach-point="row10">\n                    <div class="headerLabels ciLabel">${CompanyInfo}</div>\n                </div>\n\n                <div data-dojo-attach-point="row11">\n                    <div style="float:left;">\n                        <label>${CompanyNameInfo}</label>\n                        <div><input type="text" maxlength="255" class="wsInput regularInput" data-dojo-attach-point="companyInput" tabindex="16" /></div>\n                    </div>\n                    <div style="float:left;">\n                        <label>${JobTitle}</label>\n                        <input type="text" maxlength="255" class="wsInput jobTitleInput regularInput" data-dojo-attach-point="jobTitleInput" tabindex="17" />\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row12">\n                    <label>${Department}</label>\n                    <input type="text" maxlength="255" class="wsInput deptInput" data-dojo-attach-point="deptInput" tabindex="18" />\n                </div>\n\n                <div data-dojo-attach-point="row13" class="fll">\n                    <div class="headerLabels">${CompanyAddress}</div>\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv">\n                            <div class="addressInputLabels">${Street}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="workStreet1Input" tabindex="19" />\n                            <a href="#" data-dojo-attach-point="addAnotherWorkStreet1Link" data-dojo-attach-event="onclick: addAnotherWorkStreet1" class="wsLink addAnother">+ ${StreetField}</a>\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row14" class="fll">\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv">\n                            <div class="addressInputLabels">${Street}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="workStreet2Input" tabindex="20" />\n                            <a href="#" data-dojo-attach-point="addAnotherWorkStreet2Link" data-dojo-attach-event="onclick: addAnotherWorkStreet2" class="wsLink addAnother">+ ${StreetField}</a>\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row15" class="fll">\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${Street}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="workStreet3Input" tabindex="21"/>\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row16">\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${City}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="workCityInput" />\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row17" class="fl">\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels" data-dojo-attach-point="workStateLabel">${State}</div>\n                            <input type="text" maxlength="255" class="addressStateInput" data-dojo-attach-point="workStateInput" />\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row18" class="fl">\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${Zip}</div>\n                            <input type="text" maxlength="255" class="addressZipInput" data-dojo-attach-point="workZipInput" />\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row19" class="fl">\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${Country}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="workCountryInput" />\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row20"></div>\n                <div data-dojo-attach-point="row21" class="fll">\n                    <div class="headerLabels">${Home} ${Address}</div>\n                    <div>\n                        <\!--\n                        <div class="addressFieldDiv">\n                            <div class="addressInputLabels">${Street}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="homeStreet1Input" tabindex="22" />\n                            <a href="#" data-dojo-attach-point="addAnotherHomeStreet1Link" data-dojo-attach-event="onclick: addAnotherHomeStreet1" class="wsLink addAnother">+ ${StreetField}</a>\n                        </div>\n                        --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row22" class="fll">\n                    <div>\n                    <\!--\n                        <div class="addressFieldDiv">\n                            <div class="addressInputLabels">${Street}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="homeStreet2Input" tabindex="23"/>\n                            <a href="#" data-dojo-attach-point="addAnotherHomeStreet2Link" data-dojo-attach-event="onclick: addAnotherHomeStreet2" class="wsLink addAnother">+ ${StreetField}</a>\n                        </div>\n                    --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row23" class="fll">\n                    <div>\n                    <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${Street}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="homeStreet3Input" tabindex="24"/>\n                        </div>\n                    --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row24">\n                    <div>\n                    <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${City}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="homeCityInput" />\n                        </div>\n                    --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row25" class="fl">\n                    <div>\n                    <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels" data-dojo-attach-point="homeStateLabel">${State}</div>\n                            <input type="text" maxlength="255" class="addressStateInput" data-dojo-attach-point="homeStateInput" />\n                        </div>\n                    --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row26" class="fl">\n                    <div>\n                    <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${Zip}</div>\n                            <input type="text" maxlength="255" class="addressZipInput" data-dojo-attach-point="homeZipInput" />\n                        </div>\n                    --\>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row27" class="fl">\n                    <div>\n                    <\!--\n                        <div class="addressFieldDiv2">\n                            <div class="addressInputLabels">${Country}</div>\n                            <input type="text" maxlength="255" class="addressInput" data-dojo-attach-point="homeCountryInput" />\n                        </div>\n                    --\>\n                    </div>\n                </div>\n\n                <div data-dojo-attach-point="row28">\n                    <div class="headerLabels piLabel">${PersonalInfo}</div>\n                </div>\n\n                <div data-dojo-attach-point="row29" class="fl">\n                    <label>${SpouseOrSignificant}</label>\n                    <div><input type="text" maxlength="80" class="wsInput regularInput" data-dojo-attach-point="personalSpouseInput" tabindex="25"/></div>\n                </div>\n                <div data-dojo-attach-point="row30" class="fl">\n                    <label>${KidsQuestion}</label>\n                    <div><input type="text" maxlength="80" class="wsInput regularInput" data-dojo-attach-point="personalFamilyInput" tabindex="26"/></div>\n                </div>\n                <div data-dojo-attach-point="row31">\n                    <div style="float:left;">\n                        <label>${Birthday}</label>\n                        <div><input type="text" maxlength="80" class="wsInput regularInput" data-dojo-attach-point="personalBirthdayInput" tabindex="27"/></div>\n                    </div>\n                    <div style="float:left;">\n                        <label>${Anniversary}</label>\n                        <div><input type="text" maxlength="80" class="wsInput regularInput" data-dojo-attach-point="personalAnniversaryInput" tabindex="28"/></div>\n                    </div>\n                </div>\n                <div data-dojo-attach-point="row32">\n                    <label>${Notes}</label>\n                    <div><div data-dojo-type="ws/widget/DefaultTextarea" data-dojo-props="\'class\': \'regularInput notes\'" data-dojo-attach-point="personalNotesInput" maxLength="4096" rows="4" tabindex="29"></div></div>\n                </div>\n                <div data-dojo-attach-point="row33"></div>\n                <div data-dojo-attach-point="row34"></div>\n                <div data-dojo-attach-point="row35">\n                    <div>\n                        <a href="#" class="addMoreDetail" data-dojo-attach-event="onclick: showAllDetails">${AddMoreDetail}</a>\n                    </div>\n                </div>\n                <div class="buttonGroup">\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-point="saveContactButton" data-dojo-attach-event="onClick: checkRequiredFields" title="${SaveContactTip}">\n                        ${AddContact}\n                    </div>\n                    <div data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: cancel" data-dojo-attach-point="cancelContactButton" type="Bare">\n                        ${Cancel}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n',
"url:ws/suite/MiniLogin.css":"","ws/calendar/TodoUtil":function(){define("ws/calendar/TodoUtil",["dojo","dijit","ws/date"],function(){ws.calendar.TodoUtil={IsDateInPast:function(l){return l<new Date},IsValidDate:function(l,g){var k=!0;null!=l&&0<l.length&&(k=null!=ws.date.ParseDateFromFormat(l,g));return k},ValidateDate:function(l,g,k,a,m){var j=!1,f=!1,e={},l=ws.date.ParseDateFromFormat(l,a);null!=l&&(j=!0,null!==g&&l.setHours(g,k),f=l<m);e.isValidDate=j;e.isDateInPast=f;e.oDate=l;return e},GetLeadTimeInMinutesHelper:function(l){var g=
0;switch(l){case "Default":g=0;break;case "OneDayBefore":g=1440;break;case "TwoDaysBefore":g=2880;break;case "OneWeekBefore":g=10080;break;case "OnThisDate":g=0;break;default:g=0}return g},GetLeadTimeInMinutes:function(l,g){var k=0;switch(l){case "Default":k=0;break;case "OneDayBefore":k=1440;break;case "TwoDaysBefore":k=2880;break;case "OneWeekBefore":k=10080;break;case "OnThisDate":if(g){var k=ws.date.ParseDateFromFormat(g.remDate,Config.Strings.CalDateParseFormat),a=ws.date.ParseHourMinTextField(g.time,
g.timeFmt,g.shortTimeFmt);null==a?k=Config.Strings.Calendar_AddEvent_InvalidTimeCustomRemind:(k.setHours(a.hr,a.min),k=this._getLeadTime(k,g.taskDate))}break;default:k=0}return k},_getLeadTime:function(l,g){var k=g.getTime()-l.getTime();return 0<k?Math.round(k/1E3/60):Config.Strings.Calendar_AddEvent_ReminderAfterEvent},BuildTimeMenuItems:function(){for(var l=[],g,k=Config.Strings.CalTimeFormatRange1,a=new Date,m=0;24>m;m++)a.setHours(m,0),g=ws.date.formatDateTime(a,k),l.push({display:g,selected:null,
value:m});return l},GetTodoStatus:function(l){switch(l){case 0:return"Unknown";case 1:return"Draft";case 2:return"Completed";case 3:return"Cancelled";case 4:return"Assigned";case 5:return"In_Progress";case 6:return"Not_Started";default:return"In_Progress"}},GetLeadTimeMenuOption:function(l){switch(l){case 0:return 0;case 1440:return 1;case 2880:return 2;case 10080:return 3;default:return 4}},GetReminderEndDate:function(l,g,k,a){l=ws.date.add(g,ws.date.dateParts.MINUTE,-1*l);g={};g.date=ws.date.formatDateTime(l,
k);g.time=ws.date.formatDateTime(l,a);return g}}})},"url:ws/mail/Stationery.html":'<div class="stationery">\n    <img src="${spacer}" class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick:closeStationery">\n\t<div class="title" data-dojo-attach-point="titleDiv">${StationeryTitle}</div>\n\t<div class="category" data-dojo-attach-point="category">\n\t\t<div data-dojo-type="ws/widget/DropDownLink" minWidth="152" data-dojo-attach-point="catButton" class="wsIconButton"></div>\n\t</div>\n\t<div class="listPane" data-dojo-attach-point="listPane">\n\t\t<ul class="list" data-dojo-attach-point="list"></ul>\n\t</div>\n</div>\n',
"ws/address/ComposeAddressField":function(){require({cache:{"url:ws/address/ComposeAddressField.css":""}});define("ws/address/ComposeAddressField",["dojo/_base/declare","dojo/text!ws/address/ComposeAddressField.css","dojo","dojo/dom-attr","ws/address/AddressField"],function(l,g,k,a,m){return l([m],{templateString:"<div class='CmpAdrFld wsInput'><div data-dojo-attach-point='caf' class='caf'><div class='padder'><div class='addressLabel' data-dojo-attach-point='contactSelector2' style='line-height:${lineHeight}px;'>${ghostText}:</div><div data-dojo-attach-point='scrollContainer' style='overflow:hidden;'><textarea data-dojo-attach-point='field' data-dojo-attach-event='onkeydown: onKeyDown, onkeypress: onKeyPress, onfocus: onFocus, onblur: onBlur' tabindex='${tabindex}' class='${className}' style='overflow:hidden;height: ${baseSize}px; width: 100%'>${value}</textarea></div></div></div><div data-dojo-attach-point='csIcon' class='csIcon mainSprite' data-dojo-attach-event='onclick:showPeoplePicker'></div></div>",
css:{templateString:g},ghostText:"",ghostTextPersistent:!0,maxHeight:0,minHeight:0,numOfLines:0,startingNumOfLines:0,padding:7,baseSize:12,lineHeight:14,width:0,postMixInProperties:function(){if(this.startingNumOfLines>this.numOfLines)this.startingNumOfLines=this.numOfLines;this.lineHeight=0!=this.lineHeight?this.lineHeight:this.baseSize;this.maxHeight=0!=this.numOfLines?this.numOfLines*this.lineHeight:4*this.lineHeight;this.minHeight=this.lineHeight*(this.startingNumOfLines?this.startingNumOfLines:
1)},startup:function(){this.inherited(arguments);k.addClass(this.field,"wsInputBare");if(!this.ghostText)this.contactSelector2.style.display="none";if(0!=this.width)this.domNode.style.width=this.width+"px";this.ghostText&&!this.ghostTextPersistent?this.connect(this.contactSelector2,"onmousedown",this.showPeoplePicker):this.connect(this.contactSelector2,"onclick",this.showPeoplePicker);this.anchorNode=this.domNode;this.connect(this,"onClick","handleClick");a.remove(this.domNode,"tabindex")},onKeyPress:function(a){a.ctrlKey&&
window.setTimeout(k.hitch(this,"resizeSelf",!0),100);this.inherited(arguments)},showPeoplePicker:function(a){k.stopEvent(a);this.togglePeoplePicker(this.domNode)},handleClick:function(a){a.target&&(!k.hasClass(a.target,"addressField")&&!k.hasClass(a.target,"csIcon")&&this.field.focus(),(k.hasClass(a.target,"csIcon")||k.hasClass(a.target,"addressLabel"))&&a.preventDefault())},reset:function(){this.setValue("");this.contactSelector2.style.display=this.ghostText?"":"none"},createMeasureNode:function(){if(!this.measureNode)this.measureNode=
k.create("div",{style:{position:"absolute",visibility:"hidden",top:"-10000px",left:"10000px",wordWrap:"break-word",fontSize:this.baseSize+"px",lineHeight:this.lineHeight+"px"}},k.body()),this.field.style.fontSize=this.baseSize+"px",this.field.style.lineHeight=this.lineHeight+"px"},resizeSelf:function(){this.createMeasureNode();var a=k.coords(this.field).w;this.measureNode.innerHTML=ws.string.escapeXml(this.field.value).replace(/\n/g,"<br>");this.measureNode.style.width=parseInt(a)+"px";var a=k.contentBox(this.measureNode),
a=Math.max(this.minHeight,a.h),f=Math.min(this.maxHeight,a)+14;this.field.style.height=a+"px";var e="";a>f&&(e=f+"px");if(this.lastSetHeight!=e)this.csIcon.style.right=""==e?"7px":ws.html.getScrollbarWidth()+7+"px",this.lastSetHeight=e,this.caf.style.height=e;if(this.ghostText&&!this.ghostTextPersistent)this.contactSelector2.style.display=""==this.getValue()?"":"none";this.repositionPicker()},onFocus:function(){if(this.ghostText&&!this.ghostTextPersistent)this.contactSelector2.style.display="none";
this.inherited(arguments)},onBlur:function(){ws.lang.setTimeout(this,function(){if(this.ghostText&&!this.ghostTextPersistent&&""==this.getValue())this.contactSelector2.style.display=""},50);this.inherited(arguments)},repositionPicker:function(){this._pickerActive&&this.peoplePicker.move(this.domNode,{offsetHeight:-1});this.onResizedSelf()},scrollToEnd:function(){this.caf.scrollTop=1E4;this.scrollContainer.scrollTop=1E4;this.field.scrollTop=1E4}})})},"url:ws/suite/CaptchaDialog.css":"","url:ws/calendar/TodoEditDialog.html":'<div class="todoAppEditDlg" style="display: none;">\n\t<div class="inner">\n\t\t<div  class="mainSprite wsCloseBtn" data-dojo-attach-event="onclick: closeCard"></div>\n\t\t<div class="todoTitle">${EditTodoTitle}</div>\n\n\t\t<input type="text" data-dojo-attach-point="taskNameInput" maxlength="100" class="wsInput taskNameInput default" data-dojo-attach-event="onfocus: onFocus, onblur: onBlur, onkeypress: onKeyPressInput"/>\n\n\t\t<div class="dueDateDiv">\n\t\t\t<div class="dueDateLabel">${DueDate}</div>\n\t\t\t<div class="dueDateCont">\n\t\t\t\t<div class="mainSprite calIcon icon"></div>\n\t\t\t\t<input type="text" data-dojo-attach-point="dueDateInput" class="wsInput dueDateInput" data-dojo-attach-event="onblur: reminderOnBlur, onfocus: reminderOnFocus, onchange: onChange, onkeypress: onKeyPressInput"/>\n\t\t\t</div>\n            <div class="clearBoth"></div>\n\t\t</div>\n        <div class="separator" data-dojo-attach-point="reminderRowSeparator"></div>\n\t\t<div class="reminderMenuRow" data-dojo-attach-point="reminderMenuRow">\n            <div class="mainSprite reminderMenuIcon icon"></div>\n            <ul data-dojo-type="ws/widget/WSSelect" data-dojo-attach-point="reminderMenu" size="byValue">\n\t\t\t\t<li value="noReminder">${NoReminder}</li>\n\t\t\t\t<li value="remindAt">${RemindMeAt}</li>\n\t\t\t</ul>\n\t\t\t<input type="text" class="wsInput reminderTimeSelectDefault" data-dojo-attach-point="reminderTimeSelect" />\n\t\t</div>\n\t\t<div data-dojo-attach-point="reminderDetailsRow" class="reminderDetailsDiv" style="display:none">\n\t\t\t<ul data-dojo-type="ws/widget/WSSelect" data-dojo-attach-point="dueDateSelect">\n\t\t\t\t<li value="Default">${OnDueDate}</li>\n\t\t\t\t<li value="OneDayBefore">${OneDayBefore}</li>\n\t\t\t\t<li value="TwoDaysBefore">${TwoDaysBefore}</li>\n\t\t\t\t<li value="OneWeekBefore">${OneWeekBefore}</li>\n\t\t\t\t<li value="OnThisDate">${OnThisDate}</li>\n\t\t\t</ul>\n\t\t\t<input type="text" class="wsInput remindDateInput" data-dojo-attach-point="remindAtEndInput" style="display:none" />\n\t\t</div>\n        <div class="separator"></div>\n\t\t<div data-dojo-attach-point="addNoteInputRow" class="addNoteInputDiv">\n            <div class="mainSprite icon iconNotes"></div>\n            <div defaultValue="${Panel_TodoPanel_EnterNote}" class="addNoteInputDefault" data-dojo-attach-point="addNoteInput" data-dojo-type="ws/widget/DefaultTextarea"></div>\n\t\t\t<\!--<textarea data-dojo-attach-event="onclick:changeDefaultTextForNote" data-dojo-attach-point="addNoteInput" class="addNoteInputDefault" wrap="virtual"></textarea>--\>\n\t\t</div>\n\t\t<div class="updateBtnRow">\n\t\t\t<div data-dojo-attach-point="updateButton" data-dojo-type="ws/widget/Button" data-dojo-attach-event="onClick: updateTask">${UpdateItem}</div>\n\t\t</div>\n\t\t<div data-dojo-type="ws/widget/PopupDatePicker" data-dojo-attach-point="dueDatePopupPicker" hidePickerOnSetDate="true" closeOnMouseOut="true"></div>\n\t\t<div data-dojo-type="ws/widget/PopupTimePicker" data-dojo-attach-point="eventTimePopupPicker" closeOnMouseOut="true"></div>\n\t\t<span style="clear: both;"></span>\n\t</div>\n</div>',
"ws/widget/FeedbackIframeDlg":function(){require({cache:{"url:ws/widget/FeedbackIframeDlg.html":'<div class="WSModalPane feedbackIframeDlg">\n\t<img src="${spacer}" class="feedbackDlgCls fbCloseBtn" data-dojo-attach-event="onclick:close">\n\t<div class="WSModalPaneInner">\n\t\t<div class="modalContainer">\n\t\t\t<div class="content" data-dojo-attach-point="content">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n',"url:ws/widget/FeedbackIframeDlg.css":""}});define("ws/widget/FeedbackIframeDlg","dojo/_base/declare,dojo/text!ws/widget/FeedbackIframeDlg.html,dojo/text!ws/widget/FeedbackIframeDlg.css,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,ws/widget/WSModalPane,ws/reporting,ws/html,ws/io".split(","),
function(l,g,k,a,m,j,f,e,d){return l([d,f,e],{templateString:g,css:{templateString:k},_earlyTemplatedStartup:!0,startup:function(){setTimeout(a.hitch(this,function(){if(this.bg){var b=this.bg;this.bg.childNodes&&this.bg.childNodes.length&&this.bg.childNodes.length&&"IFRAME"===this.bg.childNodes[0].tagName&&(b=a.isFF?this.bg.childNodes[0].contentWindow:this.bg.childNodes[0].contentDocument.body);this.connect(b,"onclick",function(a){!ws.html.overElement(this.domNode,a)&&this.isShowing()&&this.close()})}}),
100);this.inherited(arguments)},open:function(){if(Config.FeedbackIframeDlgUrl){this.show();this.content.innerHTML="";var b=document.createElement("div");a.addClass(b,"content");this.content.appendChild(b);var c=640+ws.html.getScrollbarWidth();b.innerHTML='<iframe src="about:blank" width="'+c+'" height="500" frameborder=0 border=0 marginwidth=0 marginheight=0 scrolling="no" align="top" allowTransparency="true"></iframe>';c=Config.FeedbackIframeDlgUrl;c.indexOf("{0}"!=-1)&&(c=ws.string.substituteParams(c,
escape(Config.ReportingDepartment+"-"+Config.Codename),Config.IsStaging?"stage":"prod"));this.fdbkPaneIframe=ws.html.recreateIframe(b,c);ws.reporting.reportDLAction("Mail-Lightbox-FeedbackForm-Shown")}},close:function(){ws.reporting.reportDLAction("Mail-Lightbox-FeedbackForm-Close");this.hide()}})})},"ws/widget/DefaultTextarea":function(){define("ws/widget/DefaultTextarea",["dojo/_base/declare","dojo","dijit","ws/widget/DefaultTextbox","ws/html"],function(l,g,k,a){return l([a],{templateString:"<textarea tabindex='${tabindex}' data-dojo-attach-event='onblur:_onBlur,onfocus:_onFocus,onkeyup:_onKeyUp,onkeypress:_onKeyPress' data-dojo-attach-point='textbox' class='wsInput ${className}' style='width:${fieldWidth}' rows='${rows}' cols='${cols}'>${value}</textarea>",
rows:4,cols:70,maxLength:4096,_onKeyPress:function(a){var g=a.charCode||65<=a.keyCode&&90>=a.keyCode;this.textbox.value.length>=this.maxLength&&g&&a.preventDefault()}})})},"url:ws/address/ContactDetails.css":"","ws/widget/WSTimePicker":function(){require({cache:{"url:ws/widget/WSTimePicker.html":'<div data-dojo-attach-point="timePickerContainer" class="WSTimePicker">\n\t<table data-dojo-attach-point="timePickerBody" class="pickerBody" border="0" cellpadding="0" cellspacing="0">\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t\t<tr><td data-dojo-attach-event="onmouseover: onMouseOverTime, onmouseout: onMouseOutTime, onclick: onSelectTime"><a href="#"></a></td></tr>\n\t</table>\n</div>\n',
"url:ws/widget/WSTimePicker.css":""}});define("ws/widget/WSTimePicker","dojo/_base/declare,dojo/text!ws/widget/WSTimePicker.html,dojo/text!ws/widget/WSTimePicker.css,dojo,dijit,dijit/_Widget,dijit/_TemplatedMixin,ws/string,ws/date".split(","),function(l,g,k,a,m,j,f){return l([j,f],{templateString:g,css:{templateString:k},timeFormat:Config.Strings.CalTimeFormatRange1,startup:function(){this.selectedCell=null;this.selectedTime="";this.timeLinks=[];for(var e,d,b,c=new Date,f=0;48>f;f++)e=a.query(">",
this.timePickerBody.rows[f])[0],e=a.query("a",e)[0],f%2?(d=Math.floor(f/2),b=30):(d=f/2,b=0),c.setHours(d,b),e.innerHTML=ws.date.formatDateTime(c,this.timeFormat),this.timeLinks[f]=e;a.isFF&&a.addClass(this.timePickerBody,"pickerBodyFF");this.setTime(null)},selectTimeConnect:function(){},updateUI:function(){},setTime:function(e){this.selectedCell&&a.removeClass(this.selectedCell,"selected");if(e){var d=e.getHours(),e=e.getMinutes(),d=2*d+(0<e?1:0)+(30<e?1:0);48==d&&(d=0);this.selectedCell=a.query(">",
this.timePickerBody.rows[d])[0];a.addClass(this.selectedCell,"selected");this.selectedTime=a.query("a",this.selectedCell)[0].innerHTML;this.timePickerContainer.scrollTop=20*d}else this.timePickerContainer.scrollTop=0;this.updateUI()},onSelectTime:function(e){if((e=e.currentTarget)&&""!=e.childNodes[0].innerHTML)this.selectedCell&&a.removeClass(this.selectedCell,"selected"),this.selectedCell=e,a.addClass(e,"selected"),this.selectedTime=e.childNodes[0].innerHTML,this.selectTimeConnect(this.selectedTime)},
onMouseOverTime:function(e){(e=e.currentTarget)&&""!=e.childNodes[0].innerHTML&&a.addClass(e,"hovered")},onMouseOutTime:function(e){(e=e.currentTarget)&&""!=e.childNodes[0].innerHTML&&a.removeClass(e,"hovered")}})})}}});define("release/dojo2",[],1);